(()=>{var e={20:(e,t,a)=>{"use strict";var r=a(609),n=Symbol.for("react.element"),o=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};t.Fragment=o,t.jsx=function(e,t,a){var r,o={},c=null,d=null;for(r in void 0!==a&&(c=""+a),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:n,type:e,key:c,ref:d,props:o,_owner:s.current}}},848:(e,t,a)=>{"use strict";e.exports=a(20)},465:function(e){e.exports=function(){"use strict";const e="SweetAlert2:",t=e=>e.charAt(0).toUpperCase()+e.slice(1),a=e=>Array.prototype.slice.call(e),r=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},n=t=>{console.error("".concat(e," ").concat(t))},o=[],i=(e,t)=>{var a;a='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(t,'" instead.'),o.includes(a)||(o.push(a),r(a))},s=e=>"function"==typeof e?e():e,l=e=>e&&"function"==typeof e.toPromise,c=e=>l(e)?e.toPromise():Promise.resolve(e),d=e=>e&&Promise.resolve(e)===e,m={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},u=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],p={},g=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],h=e=>Object.prototype.hasOwnProperty.call(m,e),f=e=>-1!==u.indexOf(e),b=e=>p[e],w=e=>{h(e)||r('Unknown parameter "'.concat(e,'"'))},y=e=>{g.includes(e)&&r('The parameter "'.concat(e,'" is incompatible with toasts'))},v=e=>{b(e)&&i(e,b(e))},x=e=>{const t={};for(const a in e)t[e[a]]="swal2-"+e[a];return t},E=x(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),k=x(["success","warning","info","question","error"]),C=()=>document.body.querySelector(".".concat(E.container)),_=e=>{const t=C();return t?t.querySelector(e):null},A=e=>_(".".concat(e)),N=()=>A(E.popup),S=()=>A(E.icon),I=()=>A(E.title),L=()=>A(E["html-container"]),M=()=>A(E.image),P=()=>A(E["progress-steps"]),O=()=>A(E["validation-message"]),j=()=>_(".".concat(E.actions," .").concat(E.confirm)),B=()=>_(".".concat(E.actions," .").concat(E.deny)),R=()=>_(".".concat(E.loader)),U=()=>_(".".concat(E.actions," .").concat(E.cancel)),T=()=>A(E.actions),z=()=>A(E.footer),D=()=>A(E["timer-progress-bar"]),F=()=>A(E.close),G=()=>{const e=a(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(((e,t)=>{const a=parseInt(e.getAttribute("tabindex")),r=parseInt(t.getAttribute("tabindex"));return a>r?1:a<r?-1:0})),t=a(N().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((e=>"-1"!==e.getAttribute("tabindex")));return(e=>{const t=[];for(let a=0;a<e.length;a++)-1===t.indexOf(e[a])&&t.push(e[a]);return t})(e.concat(t)).filter((e=>ie(e)))},$=()=>V(document.body,E.shown)&&!V(document.body,E["toast-shown"])&&!V(document.body,E["no-backdrop"]),W=()=>N()&&V(N(),E.toast),H={previousBodyPadding:null},q=(e,t)=>{if(e.textContent="",t){const r=(new DOMParser).parseFromString(t,"text/html");a(r.querySelector("head").childNodes).forEach((t=>{e.appendChild(t)})),a(r.querySelector("body").childNodes).forEach((t=>{e.appendChild(t)}))}},V=(e,t)=>{if(!t)return!1;const a=t.split(/\s+/);for(let t=0;t<a.length;t++)if(!e.classList.contains(a[t]))return!1;return!0},K=(e,t,n)=>{if(((e,t)=>{a(e.classList).forEach((a=>{Object.values(E).includes(a)||Object.values(k).includes(a)||Object.values(t.showClass).includes(a)||e.classList.remove(a)}))})(e,t),t.customClass&&t.customClass[n]){if("string"!=typeof t.customClass[n]&&!t.customClass[n].forEach)return r("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof t.customClass[n],'"'));J(e,t.customClass[n])}},Z=(e,t)=>{if(!t)return null;switch(t){case"select":case"textarea":case"file":return e.querySelector(".".concat(E.popup," > .").concat(E[t]));case"checkbox":return e.querySelector(".".concat(E.popup," > .").concat(E.checkbox," input"));case"radio":return e.querySelector(".".concat(E.popup," > .").concat(E.radio," input:checked"))||e.querySelector(".".concat(E.popup," > .").concat(E.radio," input:first-child"));case"range":return e.querySelector(".".concat(E.popup," > .").concat(E.range," input"));default:return e.querySelector(".".concat(E.popup," > .").concat(E.input))}},Y=e=>{if(e.focus(),"file"!==e.type){const t=e.value;e.value="",e.value=t}},X=(e,t,a)=>{e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((t=>{Array.isArray(e)?e.forEach((e=>{a?e.classList.add(t):e.classList.remove(t)})):a?e.classList.add(t):e.classList.remove(t)})))},J=(e,t)=>{X(e,t,!0)},Q=(e,t)=>{X(e,t,!1)},ee=(e,t)=>{const r=a(e.childNodes);for(let e=0;e<r.length;e++)if(V(r[e],t))return r[e]},te=(e,t,a)=>{a==="".concat(parseInt(a))&&(a=parseInt(a)),a||0===parseInt(a)?e.style[t]="number"==typeof a?"".concat(a,"px"):a:e.style.removeProperty(t)},ae=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.display=t},re=e=>{e.style.display="none"},ne=(e,t,a,r)=>{const n=e.querySelector(t);n&&(n.style[a]=r)},oe=(e,t,a)=>{t?ae(e,a):re(e)},ie=e=>!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)),se=e=>!!(e.scrollHeight>e.clientHeight),le=e=>{const t=window.getComputedStyle(e),a=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return a>0||r>0},ce=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const a=D();ie(a)&&(t&&(a.style.transition="none",a.style.width="100%"),setTimeout((()=>{a.style.transition="width ".concat(e/1e3,"s linear"),a.style.width="0%"}),10))},de=()=>"undefined"==typeof window||"undefined"==typeof document,me={},ue=e=>new Promise((t=>{if(!e)return t();const a=window.scrollX,r=window.scrollY;me.restoreFocusTimeout=setTimeout((()=>{me.previousActiveElement&&me.previousActiveElement.focus?(me.previousActiveElement.focus(),me.previousActiveElement=null):document.body&&document.body.focus(),t()}),100),window.scrollTo(a,r)})),pe='\n <div aria-labelledby="'.concat(E.title,'" aria-describedby="').concat(E["html-container"],'" class="').concat(E.popup,'" tabindex="-1">\n   <button type="button" class="').concat(E.close,'"></button>\n   <ul class="').concat(E["progress-steps"],'"></ul>\n   <div class="').concat(E.icon,'"></div>\n   <img class="').concat(E.image,'" />\n   <h2 class="').concat(E.title,'" id="').concat(E.title,'"></h2>\n   <div class="').concat(E["html-container"],'" id="').concat(E["html-container"],'"></div>\n   <input class="').concat(E.input,'" />\n   <input type="file" class="').concat(E.file,'" />\n   <div class="').concat(E.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(E.select,'"></select>\n   <div class="').concat(E.radio,'"></div>\n   <label for="').concat(E.checkbox,'" class="').concat(E.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(E.label,'"></span>\n   </label>\n   <textarea class="').concat(E.textarea,'"></textarea>\n   <div class="').concat(E["validation-message"],'" id="').concat(E["validation-message"],'"></div>\n   <div class="').concat(E.actions,'">\n     <div class="').concat(E.loader,'"></div>\n     <button type="button" class="').concat(E.confirm,'"></button>\n     <button type="button" class="').concat(E.deny,'"></button>\n     <button type="button" class="').concat(E.cancel,'"></button>\n   </div>\n   <div class="').concat(E.footer,'"></div>\n   <div class="').concat(E["timer-progress-bar-container"],'">\n     <div class="').concat(E["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),ge=()=>{me.currentInstance.resetValidationMessage()},he=e=>{const t=(()=>{const e=C();return!!e&&(e.remove(),Q([document.documentElement,document.body],[E["no-backdrop"],E["toast-shown"],E["has-column"]]),!0)})();if(de())return void n("SweetAlert2 requires document to initialize");const a=document.createElement("div");a.className=E.container,t&&J(a,E["no-transition"]),q(a,pe);const r="string"==typeof(o=e.target)?document.querySelector(o):o;var o;r.appendChild(a),(e=>{const t=N();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")})(e),(e=>{"rtl"===window.getComputedStyle(e).direction&&J(C(),E.rtl)})(r),(()=>{const e=N(),t=ee(e,E.input),a=ee(e,E.file),r=e.querySelector(".".concat(E.range," input")),n=e.querySelector(".".concat(E.range," output")),o=ee(e,E.select),i=e.querySelector(".".concat(E.checkbox," input")),s=ee(e,E.textarea);t.oninput=ge,a.onchange=ge,o.onchange=ge,i.onchange=ge,s.oninput=ge,r.oninput=()=>{ge(),n.value=r.value},r.onchange=()=>{ge(),r.nextSibling.value=r.value}})()},fe=(e,t)=>{e instanceof HTMLElement?t.appendChild(e):"object"==typeof e?be(e,t):e&&q(t,e)},be=(e,t)=>{e.jquery?we(t,e):q(t,e.toString())},we=(e,t)=>{if(e.textContent="",0 in t)for(let a=0;a in t;a++)e.appendChild(t[a].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},ye=(()=>{if(de())return!1;const e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&void 0!==e.style[a])return t[a];return!1})(),ve=(e,t)=>{const a=T(),r=R();t.showConfirmButton||t.showDenyButton||t.showCancelButton?ae(a):re(a),K(a,t,"actions"),function(e,t,a){const r=j(),n=B(),o=U();xe(r,"confirm",a),xe(n,"deny",a),xe(o,"cancel",a),function(e,t,a,r){if(!r.buttonsStyling)return Q([e,t,a],E.styled);J([e,t,a],E.styled),r.confirmButtonColor&&(e.style.backgroundColor=r.confirmButtonColor,J(e,E["default-outline"])),r.denyButtonColor&&(t.style.backgroundColor=r.denyButtonColor,J(t,E["default-outline"])),r.cancelButtonColor&&(a.style.backgroundColor=r.cancelButtonColor,J(a,E["default-outline"]))}(r,n,o,a),a.reverseButtons&&(a.toast?(e.insertBefore(o,r),e.insertBefore(n,r)):(e.insertBefore(o,t),e.insertBefore(n,t),e.insertBefore(r,t)))}(a,r,t),q(r,t.loaderHtml),K(r,t,"loader")};function xe(e,a,r){oe(e,r["show".concat(t(a),"Button")],"inline-block"),q(e,r["".concat(a,"ButtonText")]),e.setAttribute("aria-label",r["".concat(a,"ButtonAriaLabel")]),e.className=E[a],K(e,r,"".concat(a,"Button")),J(e,r["".concat(a,"ButtonClass")])}const Ee=(e,t)=>{const a=C();a&&(function(e,t){"string"==typeof t?e.style.background=t:t||J([document.documentElement,document.body],E["no-backdrop"])}(a,t.backdrop),function(e,t){t in E?J(e,E[t]):(r('The "position" parameter is not valid, defaulting to "center"'),J(e,E.center))}(a,t.position),function(e,t){if(t&&"string"==typeof t){const a="grow-".concat(t);a in E&&J(e,E[a])}}(a,t.grow),K(a,t,"container"))};var ke={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const Ce=["input","file","range","select","radio","checkbox","textarea"],_e=e=>{if(!Me[e.input])return n('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));const t=Le(e.input),a=Me[e.input](t,e);ae(a),setTimeout((()=>{Y(a)}))},Ae=(e,t)=>{const a=Z(N(),e);if(a){(e=>{for(let t=0;t<e.attributes.length;t++){const a=e.attributes[t].name;["type","value","style"].includes(a)||e.removeAttribute(a)}})(a);for(const e in t)a.setAttribute(e,t[e])}},Ne=e=>{const t=Le(e.input);e.customClass&&J(t,e.customClass.input)},Se=(e,t)=>{e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},Ie=(e,t,a)=>{if(a.inputLabel){e.id=E.input;const r=document.createElement("label"),n=E["input-label"];r.setAttribute("for",e.id),r.className=n,J(r,a.customClass.inputLabel),r.innerText=a.inputLabel,t.insertAdjacentElement("beforebegin",r)}},Le=e=>{const t=E[e]?E[e]:E.input;return ee(N(),t)},Me={};Me.text=Me.email=Me.password=Me.number=Me.tel=Me.url=(e,t)=>("string"==typeof t.inputValue||"number"==typeof t.inputValue?e.value=t.inputValue:d(t.inputValue)||r('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof t.inputValue,'"')),Ie(e,e,t),Se(e,t),e.type=t.input,e),Me.file=(e,t)=>(Ie(e,e,t),Se(e,t),e),Me.range=(e,t)=>{const a=e.querySelector("input"),r=e.querySelector("output");return a.value=t.inputValue,a.type=t.input,r.value=t.inputValue,Ie(a,e,t),e},Me.select=(e,t)=>{if(e.textContent="",t.inputPlaceholder){const a=document.createElement("option");q(a,t.inputPlaceholder),a.value="",a.disabled=!0,a.selected=!0,e.appendChild(a)}return Ie(e,e,t),e},Me.radio=e=>(e.textContent="",e),Me.checkbox=(e,t)=>{const a=Z(N(),"checkbox");a.value="1",a.id=E.checkbox,a.checked=Boolean(t.inputValue);const r=e.querySelector("span");return q(r,t.inputPlaceholder),e},Me.textarea=(e,t)=>{e.value=t.inputValue,Se(e,t),Ie(e,e,t);return setTimeout((()=>{if("MutationObserver"in window){const t=parseInt(window.getComputedStyle(N()).width);new MutationObserver((()=>{const a=e.offsetWidth+(r=e,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;N().style.width=a>t?"".concat(a,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}})),e};const Pe=(e,t)=>{const a=L();K(a,t,"htmlContainer"),t.html?(fe(t.html,a),ae(a,"block")):t.text?(a.textContent=t.text,ae(a,"block")):re(a),((e,t)=>{const a=N(),r=ke.innerParams.get(e),n=!r||t.input!==r.input;Ce.forEach((e=>{const r=E[e],o=ee(a,r);Ae(e,t.inputAttributes),o.className=r,n&&re(o)})),t.input&&(n&&_e(t),Ne(t))})(e,t)},Oe=(e,t)=>{for(const a in k)t.icon!==a&&Q(e,k[a]);J(e,k[t.icon]),Re(e,t),je(),K(e,t,"icon")},je=()=>{const e=N(),t=window.getComputedStyle(e).getPropertyValue("background-color"),a=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let e=0;e<a.length;e++)a[e].style.backgroundColor=t},Be=(e,t)=>{e.textContent="",t.iconHtml?q(e,Ue(t.iconHtml)):"success"===t.icon?q(e,'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n'):"error"===t.icon?q(e,'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n'):q(e,Ue({question:"?",warning:"!",info:"i"}[t.icon]))},Re=(e,t)=>{if(t.iconColor){e.style.color=t.iconColor,e.style.borderColor=t.iconColor;for(const a of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ne(e,a,"backgroundColor",t.iconColor);ne(e,".swal2-success-ring","borderColor",t.iconColor)}},Ue=e=>'<div class="'.concat(E["icon-content"],'">').concat(e,"</div>"),Te=(e,t)=>{const a=P();if(!t.progressSteps||0===t.progressSteps.length)return re(a);ae(a),a.textContent="",t.currentProgressStep>=t.progressSteps.length&&r("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach(((e,r)=>{const n=(e=>{const t=document.createElement("li");return J(t,E["progress-step"]),q(t,e),t})(e);if(a.appendChild(n),r===t.currentProgressStep&&J(n,E["active-progress-step"]),r!==t.progressSteps.length-1){const e=(e=>{const t=document.createElement("li");return J(t,E["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t})(t);a.appendChild(e)}}))},ze=(e,t)=>{e.className="".concat(E.popup," ").concat(ie(e)?t.showClass.popup:""),t.toast?(J([document.documentElement,document.body],E["toast-shown"]),J(e,E.toast)):J(e,E.modal),K(e,t,"popup"),"string"==typeof t.customClass&&J(e,t.customClass),t.icon&&J(e,E["icon-".concat(t.icon)])},De=(e,t)=>{((e,t)=>{const a=C(),r=N();t.toast?(te(a,"width",t.width),r.style.width="100%",r.insertBefore(R(),S())):te(r,"width",t.width),te(r,"padding",t.padding),t.color&&(r.style.color=t.color),t.background&&(r.style.background=t.background),re(O()),ze(r,t)})(0,t),Ee(0,t),Te(0,t),((e,t)=>{const a=ke.innerParams.get(e),r=S();a&&t.icon===a.icon?(Be(r,t),Oe(r,t)):t.icon||t.iconHtml?t.icon&&-1===Object.keys(k).indexOf(t.icon)?(n('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"')),re(r)):(ae(r),Be(r,t),Oe(r,t),J(r,t.showClass.icon)):re(r)})(e,t),((e,t)=>{const a=M();if(!t.imageUrl)return re(a);ae(a,""),a.setAttribute("src",t.imageUrl),a.setAttribute("alt",t.imageAlt),te(a,"width",t.imageWidth),te(a,"height",t.imageHeight),a.className=E.image,K(a,t,"image")})(0,t),((e,t)=>{const a=I();oe(a,t.title||t.titleText,"block"),t.title&&fe(t.title,a),t.titleText&&(a.innerText=t.titleText),K(a,t,"title")})(0,t),((e,t)=>{const a=F();q(a,t.closeButtonHtml),K(a,t,"closeButton"),oe(a,t.showCloseButton),a.setAttribute("aria-label",t.closeButtonAriaLabel)})(0,t),Pe(e,t),ve(0,t),((e,t)=>{const a=z();oe(a,t.footer),t.footer&&fe(t.footer,a),K(a,t,"footer")})(0,t),"function"==typeof t.didRender&&t.didRender(N())},Fe=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Ge=()=>{a(document.body.children).forEach((e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))},$e=["swal-title","swal-html","swal-footer"],We=e=>{const t={};return a(e.querySelectorAll("swal-param")).forEach((e=>{Xe(e,["name","value"]);const a=e.getAttribute("name"),r=e.getAttribute("value");"boolean"==typeof m[a]&&"false"===r&&(t[a]=!1),"object"==typeof m[a]&&(t[a]=JSON.parse(r))})),t},He=e=>{const r={};return a(e.querySelectorAll("swal-button")).forEach((e=>{Xe(e,["type","color","aria-label"]);const a=e.getAttribute("type");r["".concat(a,"ButtonText")]=e.innerHTML,r["show".concat(t(a),"Button")]=!0,e.hasAttribute("color")&&(r["".concat(a,"ButtonColor")]=e.getAttribute("color")),e.hasAttribute("aria-label")&&(r["".concat(a,"ButtonAriaLabel")]=e.getAttribute("aria-label"))})),r},qe=e=>{const t={},a=e.querySelector("swal-image");return a&&(Xe(a,["src","width","height","alt"]),a.hasAttribute("src")&&(t.imageUrl=a.getAttribute("src")),a.hasAttribute("width")&&(t.imageWidth=a.getAttribute("width")),a.hasAttribute("height")&&(t.imageHeight=a.getAttribute("height")),a.hasAttribute("alt")&&(t.imageAlt=a.getAttribute("alt"))),t},Ve=e=>{const t={},a=e.querySelector("swal-icon");return a&&(Xe(a,["type","color"]),a.hasAttribute("type")&&(t.icon=a.getAttribute("type")),a.hasAttribute("color")&&(t.iconColor=a.getAttribute("color")),t.iconHtml=a.innerHTML),t},Ke=e=>{const t={},r=e.querySelector("swal-input");r&&(Xe(r,["type","label","placeholder","value"]),t.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(t.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(t.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(t.inputValue=r.getAttribute("value")));const n=e.querySelectorAll("swal-input-option");return n.length&&(t.inputOptions={},a(n).forEach((e=>{Xe(e,["value"]);const a=e.getAttribute("value"),r=e.innerHTML;t.inputOptions[a]=r}))),t},Ze=(e,t)=>{const a={};for(const r in t){const n=t[r],o=e.querySelector(n);o&&(Xe(o,[]),a[n.replace(/^swal-/,"")]=o.innerHTML.trim())}return a},Ye=e=>{const t=$e.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);a(e.children).forEach((e=>{const a=e.tagName.toLowerCase();-1===t.indexOf(a)&&r("Unrecognized element <".concat(a,">"))}))},Xe=(e,t)=>{a(e.attributes).forEach((a=>{-1===t.indexOf(a.name)&&r(['Unrecognized attribute "'.concat(a.name,'" on <').concat(e.tagName.toLowerCase(),">."),"".concat(t.length?"Allowed attributes are: ".concat(t.join(", ")):"To set the value, use HTML within the element.")])}))};var Je={email:(e,t)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address"),url:(e,t)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")};function Qe(e){(function(e){e.inputValidator||Object.keys(Je).forEach((t=>{e.input===t&&(e.inputValidator=Je[t])}))})(e),e.showLoaderOnConfirm&&!e.preConfirm&&r("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(r('Target parameter is not valid, defaulting to "body"'),e.target="body")}(e),"string"==typeof e.title&&(e.title=e.title.split("\n").join("<br />")),he(e)}class et{constructor(e,t){this.callback=e,this.remaining=t,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(e){const t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const tt=()=>{null===H.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(H.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(H.previousBodyPadding+(()=>{const e=document.createElement("div");e.className=E["scrollbar-measure"],document.body.appendChild(e);const t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t})(),"px"))},at=()=>{const e=navigator.userAgent,t=!!e.match(/iPad/i)||!!e.match(/iPhone/i),a=!!e.match(/WebKit/i);if(t&&a&&!e.match(/CriOS/i)){const e=44;N().scrollHeight>window.innerHeight-e&&(C().style.paddingBottom="".concat(e,"px"))}},rt=()=>{const e=C();let t;e.ontouchstart=e=>{t=nt(e)},e.ontouchmove=e=>{t&&(e.preventDefault(),e.stopPropagation())}},nt=e=>{const t=e.target,a=C();return!(ot(e)||it(e)||t!==a&&(se(a)||"INPUT"===t.tagName||"TEXTAREA"===t.tagName||se(L())&&L().contains(t)))},ot=e=>e.touches&&e.touches.length&&"stylus"===e.touches[0].touchType,it=e=>e.touches&&e.touches.length>1,st=e=>{const t=C(),r=N();"function"==typeof e.willOpen&&e.willOpen(r);const n=window.getComputedStyle(document.body).overflowY;mt(t,r,e),setTimeout((()=>{ct(t,r)}),10),$()&&(dt(t,e.scrollbarPadding,n),a(document.body.children).forEach((e=>{e===C()||e.contains(C())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),W()||me.previousActiveElement||(me.previousActiveElement=document.activeElement),"function"==typeof e.didOpen&&setTimeout((()=>e.didOpen(r))),Q(t,E["no-transition"])},lt=e=>{const t=N();if(e.target!==t)return;const a=C();t.removeEventListener(ye,lt),a.style.overflowY="auto"},ct=(e,t)=>{ye&&le(t)?(e.style.overflowY="hidden",t.addEventListener(ye,lt)):e.style.overflowY="auto"},dt=(e,t,a)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!V(document.body,E.iosfix)){const e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),J(document.body,E.iosfix),rt(),at()}})(),t&&"hidden"!==a&&tt(),setTimeout((()=>{e.scrollTop=0}))},mt=(e,t,a)=>{J(e,a.showClass.backdrop),t.style.setProperty("opacity","0","important"),ae(t,"grid"),setTimeout((()=>{J(t,a.showClass.popup),t.style.removeProperty("opacity")}),10),J([document.documentElement,document.body],E.shown),a.heightAuto&&a.backdrop&&!a.toast&&J([document.documentElement,document.body],E["height-auto"])},ut=e=>{let t=N();t||new Ca,t=N();const a=R();W()?re(S()):pt(t,e),ae(a),t.setAttribute("data-loading",!0),t.setAttribute("aria-busy",!0),t.focus()},pt=(e,t)=>{const a=T(),r=R();!t&&ie(j())&&(t=j()),ae(a),t&&(re(t),r.setAttribute("data-button-to-replace",t.className)),r.parentNode.insertBefore(r,t),J([e,a],E.loading)},gt=e=>e.checked?1:0,ht=e=>e.checked?e.value:null,ft=e=>e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null,bt=(e,t)=>{const a=N(),r=e=>yt[t.input](a,vt(e),t);l(t.inputOptions)||d(t.inputOptions)?(ut(j()),c(t.inputOptions).then((t=>{e.hideLoading(),r(t)}))):"object"==typeof t.inputOptions?r(t.inputOptions):n("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof t.inputOptions))},wt=(e,t)=>{const a=e.getInput();re(a),c(t.inputValue).then((r=>{a.value="number"===t.input?parseFloat(r)||0:"".concat(r),ae(a),a.focus(),e.hideLoading()})).catch((t=>{n("Error in inputValue promise: ".concat(t)),a.value="",ae(a),a.focus(),e.hideLoading()}))},yt={select:(e,t,a)=>{const r=ee(e,E.select),n=(e,t,r)=>{const n=document.createElement("option");n.value=r,q(n,t),n.selected=xt(r,a.inputValue),e.appendChild(n)};t.forEach((e=>{const t=e[0],a=e[1];if(Array.isArray(a)){const e=document.createElement("optgroup");e.label=t,e.disabled=!1,r.appendChild(e),a.forEach((t=>n(e,t[1],t[0])))}else n(r,a,t)})),r.focus()},radio:(e,t,a)=>{const r=ee(e,E.radio);t.forEach((e=>{const t=e[0],n=e[1],o=document.createElement("input"),i=document.createElement("label");o.type="radio",o.name=E.radio,o.value=t,xt(t,a.inputValue)&&(o.checked=!0);const s=document.createElement("span");q(s,n),s.className=E.label,i.appendChild(o),i.appendChild(s),r.appendChild(i)}));const n=r.querySelectorAll("input");n.length&&n[0].focus()}},vt=e=>{const t=[];return"undefined"!=typeof Map&&e instanceof Map?e.forEach(((e,a)=>{let r=e;"object"==typeof r&&(r=vt(r)),t.push([a,r])})):Object.keys(e).forEach((a=>{let r=e[a];"object"==typeof r&&(r=vt(r)),t.push([a,r])})),t},xt=(e,t)=>t&&t.toString()===e.toString();function Et(){const e=ke.innerParams.get(this);if(!e)return;const t=ke.domCache.get(this);re(t.loader),W()?e.icon&&ae(S()):kt(t),Q([t.popup,t.actions],E.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.denyButton.disabled=!1,t.cancelButton.disabled=!1}const kt=e=>{const t=e.popup.getElementsByClassName(e.loader.getAttribute("data-button-to-replace"));t.length?ae(t[0],"inline-block"):!ie(j())&&!ie(B())&&!ie(U())&&re(e.actions)};var Ct={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const _t=()=>j()&&j().click(),At=e=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1)},Nt=(e,t,a)=>{const r=G();if(r.length)return(t+=a)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();N().focus()},St=["ArrowRight","ArrowDown"],It=["ArrowLeft","ArrowUp"],Lt=(e,t,a)=>{const r=ke.innerParams.get(e);r&&(t.isComposing||229===t.keyCode||(r.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?Mt(e,t,r):"Tab"===t.key?Pt(t,r):[...St,...It].includes(t.key)?Ot(t.key):"Escape"===t.key&&jt(t,r,a)))},Mt=(e,t,a)=>{if(s(a.allowEnterKey)&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(["textarea","file"].includes(a.input))return;_t(),t.preventDefault()}},Pt=(e,t)=>{const a=e.target,r=G();let n=-1;for(let e=0;e<r.length;e++)if(a===r[e]){n=e;break}e.shiftKey?Nt(0,n,-1):Nt(0,n,1),e.stopPropagation(),e.preventDefault()},Ot=e=>{if(![j(),B(),U()].includes(document.activeElement))return;const t=St.includes(e)?"nextElementSibling":"previousElementSibling";let a=document.activeElement;for(let e=0;e<T().children.length;e++){if(a=a[t],!a)return;if(ie(a)&&a instanceof HTMLButtonElement)break}a instanceof HTMLButtonElement&&a.focus()},jt=(e,t,a)=>{s(t.allowEscapeKey)&&(e.preventDefault(),a(Fe.esc))};function Bt(e,t,a,r){W()?Gt(e,r):(ue(a).then((()=>Gt(e,r))),At(me)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(t.setAttribute("style","display:none !important"),t.removeAttribute("class"),t.innerHTML=""):t.remove(),$()&&(null!==H.previousBodyPadding&&(document.body.style.paddingRight="".concat(H.previousBodyPadding,"px"),H.previousBodyPadding=null),(()=>{if(V(document.body,E.iosfix)){const e=parseInt(document.body.style.top,10);Q(document.body,E.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}})(),Ge()),Q([document.documentElement,document.body],[E.shown,E["height-auto"],E["no-backdrop"],E["toast-shown"]])}function Rt(e){e=zt(e);const t=Ct.swalPromiseResolve.get(this),a=Ut(this);this.isAwaitingPromise()?e.isDismissed||(Tt(this),t(e)):a&&t(e)}const Ut=e=>{const t=N();if(!t)return!1;const a=ke.innerParams.get(e);if(!a||V(t,a.hideClass.popup))return!1;Q(t,a.showClass.popup),J(t,a.hideClass.popup);const r=C();return Q(r,a.showClass.backdrop),J(r,a.hideClass.backdrop),Dt(e,t,a),!0};const Tt=e=>{e.isAwaitingPromise()&&(ke.awaitingPromise.delete(e),ke.innerParams.get(e)||e._destroy())},zt=e=>void 0===e?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},e),Dt=(e,t,a)=>{const r=C(),n=ye&&le(t);"function"==typeof a.willClose&&a.willClose(t),n?Ft(e,t,r,a.returnFocus,a.didClose):Bt(e,r,a.returnFocus,a.didClose)},Ft=(e,t,a,r,n)=>{me.swalCloseEventFinishedCallback=Bt.bind(null,e,a,r,n),t.addEventListener(ye,(function(e){e.target===t&&(me.swalCloseEventFinishedCallback(),delete me.swalCloseEventFinishedCallback)}))},Gt=(e,t)=>{setTimeout((()=>{"function"==typeof t&&t.bind(e.params)(),e._destroy()}))};function $t(e,t,a){const r=ke.domCache.get(e);t.forEach((e=>{r[e].disabled=a}))}function Wt(e,t){if(!e)return!1;if("radio"===e.type){const a=e.parentNode.parentNode.querySelectorAll("input");for(let e=0;e<a.length;e++)a[e].disabled=t}else e.disabled=t}const Ht=e=>{const t={};return Object.keys(e).forEach((a=>{f(a)?t[a]=e[a]:r('Invalid parameter to update: "'.concat(a,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))})),t};const qt=e=>{Vt(e),delete e.params,delete me.keydownHandler,delete me.keydownTarget,delete me.currentInstance},Vt=e=>{e.isAwaitingPromise()?(Kt(ke,e),ke.awaitingPromise.set(e,!0)):(Kt(Ct,e),Kt(ke,e))},Kt=(e,t)=>{for(const a in e)e[a].delete(t)};var Zt=Object.freeze({hideLoading:Et,disableLoading:Et,getInput:function(e){const t=ke.innerParams.get(e||this),a=ke.domCache.get(e||this);return a?Z(a.popup,t.input):null},close:Rt,isAwaitingPromise:function(){return!!ke.awaitingPromise.get(this)},rejectPromise:function(e){const t=Ct.swalPromiseReject.get(this);Tt(this),t&&t(e)},handleAwaitingPromise:Tt,closePopup:Rt,closeModal:Rt,closeToast:Rt,enableButtons:function(){$t(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){$t(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return Wt(this.getInput(),!1)},disableInput:function(){return Wt(this.getInput(),!0)},showValidationMessage:function(e){const t=ke.domCache.get(this),a=ke.innerParams.get(this);q(t.validationMessage,e),t.validationMessage.className=E["validation-message"],a.customClass&&a.customClass.validationMessage&&J(t.validationMessage,a.customClass.validationMessage),ae(t.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedby",E["validation-message"]),Y(r),J(r,E.inputerror))},resetValidationMessage:function(){const e=ke.domCache.get(this);e.validationMessage&&re(e.validationMessage);const t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedby"),Q(t,E.inputerror))},getProgressSteps:function(){return ke.domCache.get(this).progressSteps},update:function(e){const t=N(),a=ke.innerParams.get(this);if(!t||V(t,a.hideClass.popup))return r("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const n=Ht(e),o=Object.assign({},a,n);De(this,o),ke.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){const e=ke.domCache.get(this),t=ke.innerParams.get(this);t?(e.popup&&me.swalCloseEventFinishedCallback&&(me.swalCloseEventFinishedCallback(),delete me.swalCloseEventFinishedCallback),me.deferDisposalTimer&&(clearTimeout(me.deferDisposalTimer),delete me.deferDisposalTimer),"function"==typeof t.didDestroy&&t.didDestroy(),qt(this)):Vt(this)}});const Yt=(e,a)=>{const r=ke.innerParams.get(e);if(!r.input)return n('The "input" parameter is needed to be set when using returnInputValueOn'.concat(t(a)));const o=((e,t)=>{const a=e.getInput();if(!a)return null;switch(t.input){case"checkbox":return gt(a);case"radio":return ht(a);case"file":return ft(a);default:return t.inputAutoTrim?a.value.trim():a.value}})(e,r);r.inputValidator?Xt(e,o,a):e.getInput().checkValidity()?"deny"===a?Jt(e,o):ta(e,o):(e.enableButtons(),e.showValidationMessage(r.validationMessage))},Xt=(e,t,a)=>{const r=ke.innerParams.get(e);e.disableInput(),Promise.resolve().then((()=>c(r.inputValidator(t,r.validationMessage)))).then((r=>{e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):"deny"===a?Jt(e,t):ta(e,t)}))},Jt=(e,t)=>{const a=ke.innerParams.get(e||void 0);a.showLoaderOnDeny&&ut(B()),a.preDeny?(ke.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(a.preDeny(t,a.validationMessage)))).then((a=>{!1===a?(e.hideLoading(),Tt(e)):e.closePopup({isDenied:!0,value:void 0===a?t:a})})).catch((t=>ea(e||void 0,t)))):e.closePopup({isDenied:!0,value:t})},Qt=(e,t)=>{e.closePopup({isConfirmed:!0,value:t})},ea=(e,t)=>{e.rejectPromise(t)},ta=(e,t)=>{const a=ke.innerParams.get(e||void 0);a.showLoaderOnConfirm&&ut(),a.preConfirm?(e.resetValidationMessage(),ke.awaitingPromise.set(e||void 0,!0),Promise.resolve().then((()=>c(a.preConfirm(t,a.validationMessage)))).then((a=>{ie(O())||!1===a?(e.hideLoading(),Tt(e)):Qt(e,void 0===a?t:a)})).catch((t=>ea(e||void 0,t)))):Qt(e,t)},aa=(e,t,a)=>{t.popup.onclick=()=>{const t=ke.innerParams.get(e);t&&(ra(t)||t.timer||t.input)||a(Fe.close)}},ra=e=>e.showConfirmButton||e.showDenyButton||e.showCancelButton||e.showCloseButton;let na=!1;const oa=e=>{e.popup.onmousedown=()=>{e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(na=!0)}}},ia=e=>{e.container.onmousedown=()=>{e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(na=!0)}}},sa=(e,t,a)=>{t.container.onclick=r=>{const n=ke.innerParams.get(e);na?na=!1:r.target===t.container&&s(n.allowOutsideClick)&&a(Fe.backdrop)}},la=e=>e instanceof Element||(e=>"object"==typeof e&&e.jquery)(e);const ca=()=>{if(me.timeout)return(()=>{const e=D(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";const a=t/parseInt(window.getComputedStyle(e).width)*100;e.style.removeProperty("transition"),e.style.width="".concat(a,"%")})(),me.timeout.stop()},da=()=>{if(me.timeout){const e=me.timeout.start();return ce(e),e}};let ma=!1;const ua={};const pa=e=>{for(let t=e.target;t&&t!==document;t=t.parentNode)for(const e in ua){const a=t.getAttribute(e);if(a)return void ua[e].fire({template:a})}};var ga=Object.freeze({isValidParameter:h,isUpdatableParameter:f,isDeprecatedParameter:b,argsToParams:e=>{const t={};return"object"!=typeof e[0]||la(e[0])?["title","html","icon"].forEach(((a,r)=>{const o=e[r];"string"==typeof o||la(o)?t[a]=o:void 0!==o&&n("Unexpected type of ".concat(a,'! Expected "string" or "Element", got ').concat(typeof o))})):Object.assign(t,e[0]),t},isVisible:()=>ie(N()),clickConfirm:_t,clickDeny:()=>B()&&B().click(),clickCancel:()=>U()&&U().click(),getContainer:C,getPopup:N,getTitle:I,getHtmlContainer:L,getImage:M,getIcon:S,getInputLabel:()=>A(E["input-label"]),getCloseButton:F,getActions:T,getConfirmButton:j,getDenyButton:B,getCancelButton:U,getLoader:R,getFooter:z,getTimerProgressBar:D,getFocusableElements:G,getValidationMessage:O,isLoading:()=>N().hasAttribute("data-loading"),fire:function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return new this(...t)},mixin:function(e){return class extends(this){_main(t,a){return super._main(t,Object.assign({},e,a))}}},showLoading:ut,enableLoading:ut,getTimerLeft:()=>me.timeout&&me.timeout.getTimerLeft(),stopTimer:ca,resumeTimer:da,toggleTimer:()=>{const e=me.timeout;return e&&(e.running?ca():da())},increaseTimer:e=>{if(me.timeout){const t=me.timeout.increase(e);return ce(t,!0),t}},isTimerRunning:()=>me.timeout&&me.timeout.isRunning(),bindClickHandler:function(){ua[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,ma||(document.body.addEventListener("click",pa),ma=!0)}});let ha;class fa{constructor(){if("undefined"==typeof window)return;ha=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];const r=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:r,writable:!1,enumerable:!0,configurable:!0}});const n=this._main(this.params);ke.promise.set(this,n)}_main(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(e=>{!e.backdrop&&e.allowOutsideClick&&r('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const t in e)w(t),e.toast&&y(t),v(t)})(Object.assign({},t,e)),me.currentInstance&&(me.currentInstance._destroy(),$()&&Ge()),me.currentInstance=this;const a=wa(e,t);Qe(a),Object.freeze(a),me.timeout&&(me.timeout.stop(),delete me.timeout),clearTimeout(me.restoreFocusTimeout);const n=ya(this);return De(this,a),ke.innerParams.set(this,a),ba(this,n,a)}then(e){return ke.promise.get(this).then(e)}finally(e){return ke.promise.get(this).finally(e)}}const ba=(e,t,a)=>new Promise(((r,n)=>{const o=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Ct.swalPromiseResolve.set(e,r),Ct.swalPromiseReject.set(e,n),t.confirmButton.onclick=()=>(e=>{const t=ke.innerParams.get(e);e.disableButtons(),t.input?Yt(e,"confirm"):ta(e,!0)})(e),t.denyButton.onclick=()=>(e=>{const t=ke.innerParams.get(e);e.disableButtons(),t.returnInputValueOnDeny?Yt(e,"deny"):Jt(e,!1)})(e),t.cancelButton.onclick=()=>((e,t)=>{e.disableButtons(),t(Fe.cancel)})(e,o),t.closeButton.onclick=()=>o(Fe.close),((e,t,a)=>{ke.innerParams.get(e).toast?aa(e,t,a):(oa(t),ia(t),sa(e,t,a))})(e,t,o),((e,t,a,r)=>{At(t),a.toast||(t.keydownHandler=t=>Lt(e,t,r),t.keydownTarget=a.keydownListenerCapture?window:N(),t.keydownListenerCapture=a.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)})(e,me,a,o),((e,t)=>{"select"===t.input||"radio"===t.input?bt(e,t):["text","email","number","tel","textarea"].includes(t.input)&&(l(t.inputValue)||d(t.inputValue))&&(ut(j()),wt(e,t))})(e,a),st(a),va(me,a,o),xa(t,a),setTimeout((()=>{t.container.scrollTop=0}))})),wa=(e,t)=>{const a=(e=>{const t="string"==typeof e.template?document.querySelector(e.template):e.template;if(!t)return{};const a=t.content;return Ye(a),Object.assign(We(a),He(a),qe(a),Ve(a),Ke(a),Ze(a,$e))})(e),r=Object.assign({},m,t,a,e);return r.showClass=Object.assign({},m.showClass,r.showClass),r.hideClass=Object.assign({},m.hideClass,r.hideClass),r},ya=e=>{const t={popup:N(),container:C(),actions:T(),confirmButton:j(),denyButton:B(),cancelButton:U(),loader:R(),closeButton:F(),validationMessage:O(),progressSteps:P()};return ke.domCache.set(e,t),t},va=(e,t,a)=>{const r=D();re(r),t.timer&&(e.timeout=new et((()=>{a("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ae(r),K(r,t,"timerProgressBar"),setTimeout((()=>{e.timeout&&e.timeout.running&&ce(t.timer)}))))},xa=(e,t)=>{if(!t.toast)return s(t.allowEnterKey)?void(Ea(e,t)||Nt(0,-1,1)):ka()},Ea=(e,t)=>t.focusDeny&&ie(e.denyButton)?(e.denyButton.focus(),!0):t.focusCancel&&ie(e.cancelButton)?(e.cancelButton.focus(),!0):!(!t.focusConfirm||!ie(e.confirmButton)||(e.confirmButton.focus(),0)),ka=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(fa.prototype,Zt),Object.assign(fa,ga),Object.keys(Zt).forEach((e=>{fa[e]=function(){if(ha)return ha[e](...arguments)}})),fa.DismissReason=Fe,fa.version="11.4.8";const Ca=fa;return Ca.default=Ca,Ca}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var a=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(a),a.styleSheet)a.styleSheet.disabled||(a.styleSheet.cssText=t);else try{a.innerHTML=t}catch(e){a.innerText=t}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},609:e=>{"use strict";e.exports=window.React}},t={};function a(r){var n=t[r];if(void 0!==n)return n.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};a.r(e),a.d(e,{hasBrowserEnv:()=>qe,hasStandardBrowserEnv:()=>Ke,hasStandardBrowserWebWorkerEnv:()=>Ze,navigator:()=>Ve,origin:()=>Ye});var t=a(609),r=a.n(t);const n=(0,t.createContext)({settings:{defaultSize:"medium",autoImport:!1},theme:"light",updateSettings:()=>{}});function o({children:e}){const[a,r]=(0,t.useState)({defaultSize:"medium",autoImport:!1}),[o,i]=(0,t.useState)("light"),s={settings:a,theme:o,updateSettings:(0,t.useCallback)((e=>{r((t=>({...t,...e})))}),[]),setTheme:i};return(0,t.createElement)(n.Provider,{value:s},e)}var i=a(465),s=a.n(i);function l(){return"undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{}}function c(){return l().ajax_url||""}function d(){return l().nonce||""}function m(){return l().assets_url||""}const u={openai:"ai_image_get_openai_key",unsplash:"ai_image_get_unsplash_key",giphy:"ai_image_get_giphy_key",gemini:"ai_image_get_gemini_key"};function p(e){const t=c(),a=u[e];if(!t||!a)return"";const r=t.includes("?")?"&":"?";return`${t}${r}action=${encodeURIComponent(a)}&nonce=${encodeURIComponent(d())}`}const g=e=>{if(!e)return;const t="undefined"!=typeof window&&window.wp||"undefined"!=typeof parent&&parent.wp;if(t&&t.media)try{const a=t.media.frame;if(!a)return;if(a.states){const e=a.states.get("library")||a.states.get("insert");if(e){const t=e.get("library");t&&(t.props.set({ignore:+new Date}),t.more())}}const r=a.content&&a.content.get&&a.content.get();r&&r.collection&&r.collection.props.set({ignore:+new Date}),t.media.attachment&&e&&t.media.attachment(e).fetch()}catch(e){}},h=(0,t.createContext)(null);function f({children:e}){const a=function(){const[e,a]=(0,t.useState)(!1),[r,n]=(0,t.useState)(null);return{uploadImage:(0,t.useCallback)((async(e,t="",r="")=>{a(!0),n(null),s().fire({html:'\n        <div style="padding: 20px; text-align: center;">\n          <div style="width: 80px; height: 80px; margin: 0 auto 24px; position: relative;">\n            <div style="width: 80px; height: 80px; border: 4px solid #e0e7ff; border-top-color: #6366f1; border-radius: 50%; animation: spin 1s linear infinite;"></div>\n            <svg style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 40px; height: 40px; color: #6366f1;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">\n              <path stroke-linecap="round" stroke-linejoin="round" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"/>\n            </svg>\n          </div>\n          <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Importing Image</h3>\n          <p style="font-size: 15px; color: #64748b; margin: 0; font-weight: 500;">Please wait while we import your image to the media library...</p>\n        </div>\n        <style>\n          @keyframes spin {\n            to { transform: rotate(360deg); }\n          }\n        </style>\n      ',allowOutsideClick:!1,showConfirmButton:!1,padding:"2rem",background:"#ffffff",backdrop:"rgba(0, 0, 0, 0.4)",customClass:{popup:"rounded-2xl shadow-2xl border-0"}});try{const a={action:"upload_image_to_wp",image_url:e,nonce:d()};t&&(a.image_title=t),r&&(a.image_author=r);const o=await fetch(c(),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-WP-Nonce":d()},body:new URLSearchParams(a)}),i=await o.json();if(o.ok&&i.success)return s().fire({html:`\n            <div style="padding: 20px; text-align: center;">\n              <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: successPop 0.5s ease-out;">\n                <svg style="width: 48px; height: 48px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">\n                  <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />\n                </svg>\n              </div>\n              <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Successfully Imported!</h3>\n              <p style="color: #64748b; font-size: 15px; margin: 0 0 24px; font-weight: 500;">Your image is now in the WordPress media library</p>\n              \n              <div style="background: #f8fafc; border-radius: 12px; padding: 16px; margin-bottom: 16px;">\n                <p style="font-size: 13px; color: #64748b; margin: 0 0 8px; font-weight: 600; text-align: left;">Media URL:</p>\n                <div style="display: flex; gap: 8px; align-items: center;">\n                  <input type="text" id="ai-copy-url-input" value="${i.data.attach_url}" readonly style="flex: 1; padding: 10px 14px; border: 1px solid #e2e8f0; outline: none; font-size: 13px; background: white; color: #334155; border-radius: 8px; font-family: 'Courier New', monospace;" />\n                   <button class="ai-img-copy-url" data-clipboard-text="${i.data.attach_url}" style="display: flex; align-items: center; justify-content: center; padding: 10px 16px; background: linear-gradient(135deg, #6366f1, #4f46e5); color: white; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-size: 13px; font-weight: 600; gap: 6px; white-space: nowrap;">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">\n                      <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path>\n                      <rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect>\n                    </svg>\n                    Copy\n                  </button>\n                  <a href="${window.location.origin}/wp-admin/upload.php?item=${i.data.attach_id}&mode=edit" style="display: flex; align-items: center; justify-content: center; padding: 10px 16px; background: linear-gradient(135deg, #10b981, #059669); color: white; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s ease; font-size: 13px; font-weight: 600; gap: 6px; white-space: nowrap; text-decoration: none;">\n                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">\n                      <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>\n                      <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>\n                    </svg>\n                    Edit\n                  </a>\n                </div>\n              </div>\n            </div>\n            <style>\n              @keyframes successPop {\n                0% { transform: scale(0); opacity: 0; }\n                50% { transform: scale(1.1); }\n                100% { transform: scale(1); opacity: 1; }\n              }\n              .ai-img-copy-url:hover {\n                background: linear-gradient(135deg, #4f46e5, #4338ca) !important;\n                transform: translateY(-1px);\n              }\n              a[href*="upload.php"]:hover {\n                background: linear-gradient(135deg, #059669, #047857) !important;\n                transform: translateY(-1px);\n              }\n              .swal2-close {\n                width: 36px !important;\n                height: 36px !important;\n                font-size: 28px !important;\n                color: #94a3b8 !important;\n                transition: all 0.2s ease !important;\n              }\n              .swal2-close:hover {\n                color: #1e293b !important;\n                background: #f1f5f9 !important;\n              }\n            </style>\n          `,showCloseButton:!0,showConfirmButton:!1,customClass:{popup:"rounded-2xl shadow-2xl border-0",closeButton:"hover:bg-gray-100 rounded-md"},didOpen:()=>{const e=document.querySelector(".ai-img-copy-url");e&&e.addEventListener("click",(function(){const e=document.getElementById("ai-copy-url-input");e&&(e.select(),document.execCommand("copy"));const t=this.innerHTML;this.style.background="linear-gradient(135deg, #10b981, #059669)",this.innerHTML='\n                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">\n                    <polyline points="20 6 9 17 4 12"></polyline>\n                  </svg>\n                  Copied!\n                ',setTimeout((()=>{this.style.background="linear-gradient(135deg, #6366f1, #4f46e5)",this.innerHTML=t}),2e3),s().showToast({icon:"success",title:"URL copied to clipboard!",position:"top-end",showConfirmButton:!1,timer:1500,toast:!0})}))}}),setTimeout((()=>{g(i.data.attach_id)}),500),{success:!0,data:i.data};{const e=i.data&&i.data.message||i.data||"An unknown error occurred.";return n(e),s().fire({html:`\n            <div style="padding: 20px; text-align: center;">\n              <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #ef4444, #dc2626); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: errorShake 0.5s ease-out;">\n                <svg style="width: 48px; height: 48px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">\n                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />\n                </svg>\n              </div>\n              <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Upload Failed</h3>\n              <p style="color: #64748b; font-size: 15px; margin: 0; font-weight: 500;">${e}</p>\n            </div>\n            <style>\n              @keyframes errorShake {\n                0%, 100% { transform: translateX(0); }\n                25% { transform: translateX(-10px); }\n                75% { transform: translateX(10px); }\n              }\n              .swal2-close {\n                width: 36px !important;\n                height: 36px !important;\n                font-size: 28px !important;\n                color: #94a3b8 !important;\n                transition: all 0.2s ease !important;\n              }\n              .swal2-close:hover {\n                color: #1e293b !important;\n                background: #f1f5f9 !important;\n              }\n            </style>\n          `,showCloseButton:!0,showConfirmButton:!1,customClass:{popup:"rounded-2xl shadow-2xl border-0",closeButton:"hover:bg-gray-100 rounded-md"}}),{success:!1,error:e}}}catch(e){const t=e.message||"An unknown error occurred.";return n(t),s().fire({html:`\n          <div style="padding: 20px; text-align: center;">\n            <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; display: flex; align-items: center; justify-content: center;">\n              <svg style="width: 48px; height: 48px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">\n                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n              </svg>\n            </div>\n            <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Request Failed</h3>\n            <p style="color: #64748b; font-size: 15px; margin: 0; font-weight: 500;">${t}</p>\n          </div>\n          <style>\n            .swal2-close {\n              width: 36px !important;\n              height: 36px !important;\n              font-size: 28px !important;\n              color: #94a3b8 !important;\n              transition: all 0.2s ease !important;\n            }\n            .swal2-close:hover {\n              color: #1e293b !important;\n              background: #f1f5f9 !important;\n            }\n          </style>\n        `,showCloseButton:!0,showConfirmButton:!1,customClass:{popup:"rounded-2xl shadow-2xl border-0",closeButton:"hover:bg-gray-100 rounded-md"}}),{success:!1,error:t}}finally{a(!1)}}),[]),uploadImages:(0,t.useCallback)((async e=>{const t=Array.isArray(e)?e.filter(Boolean).map((e=>"string"==typeof e?{url:e,title:"",author:""}:e)):[];if(0===t.length)return{success:0,failed:0,results:[]};a(!0),n(null);const r=[];let o=0,i=0;for(let e=0;e<t.length;e++){const{url:a,title:n,author:l}=t[e],m=Math.round(e/t.length*100);s().fire({html:`\n          <div style="padding: 20px; text-align: center;">\n            <div style="width: 80px; height: 80px; margin: 0 auto 24px; position: relative;">\n              <div style="width: 80px; height: 80px; border: 4px solid #e0e7ff; border-top-color: #6366f1; border-radius: 50%; animation: spin 1s linear infinite;"></div>\n              <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 18px; font-weight: 700; color: #6366f1;">${e+1}</div>\n            </div>\n            <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Batch Import</h3>\n            <p style="color: #64748b; font-size: 15px; margin: 0 0 20px; font-weight: 500;">Importing image ${e+1} of ${t.length}...</p>\n            \n            <div style="background: #f1f5f9; border-radius: 12px; height: 12px; overflow: hidden; margin-bottom: 8px;">\n              <div style="height: 100%; background: linear-gradient(90deg, #6366f1, #8b5cf6); border-radius: 12px; width: ${m}%; transition: width 0.3s ease;"></div>\n            </div>\n            <p style="font-size: 13px; color: #94a3b8; margin: 0; font-weight: 600;">${m}% Complete</p>\n          </div>\n          <style>\n            @keyframes spin {\n              to { transform: rotate(360deg); }\n            }\n          </style>\n        `,allowOutsideClick:!1,showConfirmButton:!1,padding:"2rem",background:"#ffffff",backdrop:"rgba(0, 0, 0, 0.4)",customClass:{popup:"rounded-2xl shadow-2xl border-0"}});try{const e={action:"upload_image_to_wp",image_url:a,nonce:d()};n&&(e.image_title=n),l&&(e.image_author=l);const t=await fetch(c(),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-WP-Nonce":d()},body:new URLSearchParams(e)}),s=await t.json();t.ok&&s.success?(o++,r.push({url:a,success:!0,data:s.data})):(i++,r.push({url:a,success:!1,error:s.data?.message||"Upload failed"}))}catch(e){i++,r.push({url:a,success:!1,error:e.message||"Request failed"})}}if(a(!1),0===i?s().fire({html:`\n          <div style="padding: 20px; text-align: center;">\n            <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; animation: successPop 0.5s ease-out;">\n              <svg style="width: 48px; height: 48px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">\n                <path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7" />\n              </svg>\n            </div>\n            <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">All Imported!</h3>\n            <p style="color: #64748b; font-size: 15px; margin: 0; font-weight: 500;">\n              <span style="font-size: 32px; font-weight: 800; color: #10b981; display: block; margin-bottom: 8px;">${o}</span>\n              ${1===o?"image":"images"} successfully imported to your media library\n            </p>\n          </div>\n          <style>\n            @keyframes successPop {\n              0% { transform: scale(0); opacity: 0; }\n              50% { transform: scale(1.1); }\n              100% { transform: scale(1); opacity: 1; }\n            }\n            .swal2-close {\n              width: 36px !important;\n              height: 36px !important;\n              font-size: 28px !important;\n              color: #94a3b8 !important;\n              transition: all 0.2s ease !important;\n            }\n            .swal2-close:hover {\n              color: #1e293b !important;\n              background: #f1f5f9 !important;\n            }\n          </style>\n        `,showCloseButton:!0,showConfirmButton:!1,customClass:{popup:"rounded-2xl shadow-2xl border-0",closeButton:"hover:bg-gray-100 rounded-md"}}):s().fire({html:`\n          <div style="padding: 20px; text-align: center;">\n            <div style="width: 80px; height: 80px; margin: 0 auto 24px; background: linear-gradient(135deg, #f59e0b, #d97706); border-radius: 50%; display: flex; align-items: center; justify-content: center;">\n              <svg style="width: 48px; height: 48px; color: white;" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="3">\n                <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z" />\n              </svg>\n            </div>\n            <h3 style="font-size: 24px; font-weight: 700; color: #1e293b; margin: 0 0 12px;">Import Complete</h3>\n            <div style="display: flex; justify-content: center; gap: 24px; margin: 20px 0;">\n              <div style="text-align: center;">\n                <div style="font-size: 32px; font-weight: 800; color: #10b981;">${o}</div>\n                <div style="font-size: 13px; color: #64748b; font-weight: 600;">Successful</div>\n              </div>\n              <div style="text-align: center;">\n                <div style="font-size: 32px; font-weight: 800; color: #ef4444;">${i}</div>\n                <div style="font-size: 13px; color: #64748b; font-weight: 600;">Failed</div>\n              </div>\n            </div>\n            <p style="color: #64748b; font-size: 14px; margin: 0;">Some images couldn't be imported. Please try again.</p>\n          </div>\n          <style>\n            .swal2-close {\n              width: 36px !important;\n              height: 36px !important;\n              font-size: 28px !important;\n              color: #94a3b8 !important;\n              transition: all 0.2s ease !important;\n            }\n            .swal2-close:hover {\n              color: #1e293b !important;\n              background: #f1f5f9 !important;\n            }\n          </style>\n        `,showCloseButton:!0,showConfirmButton:!1,customClass:{popup:"rounded-2xl shadow-2xl border-0",closeButton:"hover:bg-gray-100 rounded-md"}}),o>0){const e=r.find((e=>e.success&&e.data?.attach_id));e&&g(e.data.attach_id)}return{success:o,failed:i,results:r}}),[]),uploading:e,error:r}}();return(0,t.createElement)(h.Provider,{value:a},e)}function b(){const e=(0,t.useContext)(h);if(!e)throw new Error("useUpload must be used within UploadProvider");return e}const w="ai-image-favorites",y="ai-image-search-history",v=(0,t.createContext)(null);function x(){try{const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{};return"list"===(e.general_settings?.default_view_mode||"grid")?"list":"grid"}catch{return"grid"}}function E(){try{const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},t=e.general_settings?.items_per_page;return"number"==typeof t&&t>=20&&t<=100?t:30}catch{return 30}}function k(){try{const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},t=e.general_settings?.thumbnail_size;return"small"===t||"medium"===t||"large"===t?t:"medium"}catch{return"medium"}}function C(){try{const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},t=e.general_settings?.load_more_mode;return"auto"===t||"manual"===t?t:"auto"}catch{return"auto"}}function _(){try{const e=localStorage.getItem(w);if(!e)return{};const t=JSON.parse(e);return"object"==typeof t&&null!==t?t:{}}catch{return{}}}function A(){try{const e=localStorage.getItem(y);if(!e)return{};const t=JSON.parse(e);return"object"==typeof t&&null!==t?t:{}}catch{return{}}}function N({children:e}){const[a,r]=(0,t.useState)(x),[n,o]=(0,t.useState)({}),[i,s]=(0,t.useState)(_),[l,c]=(0,t.useState)(A),[d,m]=(0,t.useState)(new Set),[u,p]=(0,t.useState)({}),[g,h]=(0,t.useState)(!1),[f,b]=(0,t.useState)(null),[N,S]=(0,t.useState)([]),[I,L]=(0,t.useState)(!1),[M,P]=(0,t.useState)(E),[O,j]=(0,t.useState)(k),[B,R]=(0,t.useState)(C);(0,t.useEffect)((()=>{!function(e){try{localStorage.setItem(w,JSON.stringify(e))}catch(e){console.error("GeneratorContext: could not write favorites",e)}}(i)}),[i]),(0,t.useEffect)((()=>{!function(e){try{const t={};for(const[a,r]of Object.entries(e))t[a]=Array.isArray(r)?r.slice(0,10):[];localStorage.setItem(y,JSON.stringify(t))}catch(e){console.error("GeneratorContext: could not write search history",e)}}(l)}),[l]),(0,t.useEffect)((()=>{const e=e=>{const t=e.detail;t&&"undefined"!=typeof AI_IMAGE_AdminConfig&&AI_IMAGE_AdminConfig.general_settings&&(void 0!==t.items_per_page&&(AI_IMAGE_AdminConfig.general_settings.items_per_page=t.items_per_page,P(t.items_per_page)),void 0!==t.thumbnail_size&&(AI_IMAGE_AdminConfig.general_settings.thumbnail_size=t.thumbnail_size,j(t.thumbnail_size)),void 0!==t.load_more_mode&&(AI_IMAGE_AdminConfig.general_settings.load_more_mode=t.load_more_mode,R(t.load_more_mode)),void 0!==t.default_view_mode&&(AI_IMAGE_AdminConfig.general_settings.default_view_mode=t.default_view_mode,r("list"===t.default_view_mode?"list":"grid")))};return window.addEventListener("aiImageSettingsUpdated",e),()=>window.removeEventListener("aiImageSettingsUpdated",e)}),[]);const U=(0,t.useCallback)((e=>{r((t=>"list"===e?"list":"grid"))}),[]),T=(0,t.useCallback)((e=>({orientation:"",size:"",license:"",rating:"",color:"",imageType:"",order:"",category:"",source:"",...n[e]||{}})),[n]),z=(0,t.useCallback)(((e,t,a)=>{o((r=>({...r,[e]:{orientation:"",size:"",license:"",rating:"",color:"",imageType:"",order:"",category:"",source:"",...r[e]||{},[t]:a}})))}),[]),D=(0,t.useCallback)((e=>{o((t=>{const a={...t};return e?(delete a[e],a):{}}))}),[]),F=(0,t.useCallback)(((e,t,a={})=>{s((r=>{const n={...r},o={..."object"==typeof n[e]&&n[e]&&!Array.isArray(n[e])?n[e]:{}};return o[t]?delete o[t]:o[t]={id:t,...a},n[e]=Object.keys(o).length?o:void 0,n[e]||delete n[e],n}))}),[]),G=(0,t.useCallback)(((e,t)=>{const a=i[e];return!(!a||Array.isArray(a))&&Boolean(a[t])}),[i]),$=(0,t.useCallback)((()=>{const e=[];for(const[t,a]of Object.entries(i))a&&"object"==typeof a&&!Array.isArray(a)&&Object.entries(a).forEach((([a,r])=>e.push({providerId:t,imageId:a,...r})));return e}),[i]),W=(0,t.useCallback)(((e,t)=>{const a=(t||"").trim();a&&c((t=>{const r=[...t[e]||[]].filter((e=>e!==a));return{...t,[e]:[a,...r].slice(0,10)}}))}),[]),H=(0,t.useCallback)((e=>l[e]||[]),[l]),q=(0,t.useCallback)((e=>{c((t=>{const a={...t};return e?(delete a[e],a):{}}))}),[]),V=(0,t.useCallback)(((e,t)=>`${e}:${t}`),[]),K=(0,t.useCallback)(((e,t,a)=>{const r=`${e}:${t}`;m((e=>{const t=new Set(e),n=t.has(r);return n?t.delete(r):t.add(r),p((e=>{const t={...e};return n?delete t[r]:a&&(a.importUrl||a.imageSrc)&&(t[r]={importUrl:a.importUrl,imageSrc:a.imageSrc,imageAlt:a.imageAlt,author:a.author,previewUrl:a.previewUrl}),t})),t}))}),[]),Z=(0,t.useCallback)(((e,t)=>d.has(`${e}:${t}`)),[d]),Y=(0,t.useCallback)(((e,t,a={})=>{m((a=>{const r=new Set(a);return(t||[]).forEach((t=>r.add(`${e}:${t}`))),r})),p((e=>({...e,...a})))}),[]),X=(0,t.useCallback)((()=>{m(new Set),p({}),h(!1)}),[]),J=(0,t.useCallback)((e=>{h(Boolean(e)),e||(m(new Set),p({}))}),[]),Q=(0,t.useCallback)((()=>{const e=[];return d.forEach((t=>{const a=u[t];a?.importUrl&&e.push(a.importUrl)})),e}),[d,u]),ee=(0,t.useCallback)((()=>{const e=[];return d.forEach((t=>{const[a,r]=t.split(":"),n=u[t];n&&e.push({providerId:a,imageId:r,...n})})),e}),[d,u]),te=(0,t.useCallback)((()=>d.size),[d]),ae=(0,t.useCallback)((()=>{const e={};return d.forEach((t=>{const[a,r]=t.split(":");e[a]||(e[a]=[]),e[a].push(r)})),e}),[d]),re={viewMode:a,setViewMode:U,itemsPerPage:M,thumbnailSize:O,loadMoreMode:B,filters:n,getFilters:T,setFilter:z,clearFilters:D,favorites:i,toggleFavorite:F,isFavorite:G,getFavoritesList:$,searchHistory:l,addSearchToHistory:W,getSearchHistory:H,clearSearchHistory:q,selectedImages:d,selectionMode:g,setSelectionMode:J,toggleSelection:K,isSelected:Z,selectAll:Y,clearSelection:X,getSelectedCount:te,getSelectedIdsByProvider:ae,getSelectedUrls:Q,getSelectedItemsData:ee,selectionKey:V,previewImage:f,setPreviewImage:b,previewImageList:N,setPreviewImageList:S,isGenerating:I,setIsGenerating:L};return(0,t.createElement)(v.Provider,{value:re},e)}function S(){const e=(0,t.useContext)(v);if(!e)throw new Error("useGenerator must be used within GeneratorProvider");return e}const I=({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})),L=({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})),M=(0,t.memo)((function({className:e=""}){const{viewMode:a,setViewMode:r}=S();return(0,t.createElement)("div",{className:`flex rounded-md border border-gray-200 bg-white p-0.5 h-9 ${e}`,role:"group","aria-label":"View mode"},(0,t.createElement)("button",{type:"button",onClick:()=>r("grid"),"aria-pressed":"grid"===a,className:"flex items-center justify-center gap-1.5 sm:gap-2 rounded-[5px] px-2 sm:px-3 h-8 text-xs sm:text-sm font-medium transition-colors "+("grid"===a?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,t.createElement)(I,{className:"w-4 h-4 shrink-0"}),(0,t.createElement)("span",null,"Grid")),(0,t.createElement)("button",{type:"button",onClick:()=>r("list"),"aria-pressed":"list"===a,className:"flex items-center justify-center gap-1.5 sm:gap-2 rounded-[5px] px-2 sm:px-3 h-8 text-xs sm:text-sm font-medium transition-colors "+("list"===a?"bg-gray-800 text-white":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")},(0,t.createElement)(L,{className:"w-4 h-4 shrink-0"}),(0,t.createElement)("span",null,"List")))})),P={global:[],openverse:[{key:"source",label:"Source",options:[{value:"",label:"All"},{value:"wordpress",label:"WordPress"},{value:"flickr",label:"Flickr"},{value:"nasa",label:"Nasa"},{value:"spacex",label:"SpaceX"},{value:"wikimedia",label:"Wikimedia"},{value:"museum-victoria",label:"Museum Victoria"},{value:"met",label:"Met Museum"},{value:"rawpixel",label:"Rawpixel"},{value:"europeana",label:"Europeana"},{value:"bio_diversity",label:"Biodiversity Heritage"},{value:"smithsonian",label:"Smithsonian"},{value:"clevelandmuseum",label:"Cleveland Museum"},{value:"brooklynmuseum",label:"Brooklyn Museum"}]},{key:"orientation",label:"Orientation",options:[{value:"",label:"All"},{value:"square",label:"Square"},{value:"tall",label:"Tall"},{value:"wide",label:"Wide"}]}],unsplash:[{key:"order",label:"Order",options:[{value:"latest",label:"Latest"},{value:"relevant",label:"Relevant"}]}],pixabay:[{key:"order",label:"Order",options:[{value:"popular",label:"Popular"},{value:"latest",label:"Latest"}]},{key:"imageType",label:"Type",options:[{value:"",label:"All"},{value:"photo",label:"Photo"},{value:"illustration",label:"Illustration"},{value:"vector",label:"Vector"}]},{key:"category",label:"Category",options:[{value:"",label:"All"},{value:"backgrounds",label:"Backgrounds"},{value:"fashion",label:"Fashion"},{value:"nature",label:"Nature"},{value:"science",label:"Science"},{value:"education",label:"Education"},{value:"feelings",label:"Feelings"},{value:"health",label:"Health"},{value:"people",label:"People"},{value:"religion",label:"Religion"},{value:"places",label:"Places"},{value:"animals",label:"Animals"},{value:"industry",label:"Industry"},{value:"computer",label:"Computer"},{value:"food",label:"Food"},{value:"sports",label:"Sports"},{value:"transportation",label:"Transportation"},{value:"travel",label:"Travel"},{value:"buildings",label:"Buildings"},{value:"business",label:"Business"},{value:"music",label:"Music"}]},{key:"color",label:"Colors",options:[{value:"",label:"All",hex:null},{value:"grayscale",label:"Grayscale",hex:"#9ca3af"},{value:"red",label:"Red",hex:"#ef4444"},{value:"orange",label:"Orange",hex:"#f97316"},{value:"yellow",label:"Yellow",hex:"#eab308"},{value:"green",label:"Green",hex:"#22c55e"},{value:"turquoise",label:"Turquoise",hex:"#14b8a6"},{value:"blue",label:"Blue",hex:"#3b82f6"},{value:"lilac",label:"Lilac",hex:"#a78bfa"},{value:"pink",label:"Pink",hex:"#ec4899"},{value:"white",label:"White",hex:"#f3f4f6"},{value:"gray",label:"Gray",hex:"#6b7280"},{value:"black",label:"Black",hex:"#1f2937"},{value:"brown",label:"Brown",hex:"#92400e"},{value:"transparent",label:"Transparent",hex:null}],type:"color"},{key:"orientation",label:"Orientation",options:[{value:"",label:"All"},{value:"horizontal",label:"Horizontal"},{value:"vertical",label:"Vertical"}]}],pexels:[{key:"orientation",label:"Orientation",options:[{value:"",label:"All"},{value:"landscape",label:"Landscape"},{value:"portrait",label:"Portrait"},{value:"square",label:"Square"}]},{key:"color",label:"Colors",options:[{value:"",label:"All",hex:null},{value:"red",label:"Red",hex:"#ef4444"},{value:"orange",label:"Orange",hex:"#f97316"},{value:"yellow",label:"Yellow",hex:"#eab308"},{value:"green",label:"Green",hex:"#22c55e"},{value:"turquoise",label:"Turquoise",hex:"#14b8a6"},{value:"blue",label:"Blue",hex:"#3b82f6"},{value:"violet",label:"Violet",hex:"#a78bfa"},{value:"pink",label:"Pink",hex:"#ec4899"},{value:"brown",label:"Brown",hex:"#92400e"},{value:"black",label:"Black",hex:"#1f2937"},{value:"gray",label:"Gray",hex:"#6b7280"},{value:"white",label:"White",hex:"#f3f4f6"}],type:"color"}],giphy:[{key:"rating",label:"Rating",options:[{value:"g",label:"G"},{value:"pg",label:"PG"},{value:"pg-13",label:"PG-13"},{value:"r",label:"R"}]}],openai:[],gemini:[]};function O({label:e,value:a,options:r,onChange:n,type:o}){const i=r.find((e=>e.value===a))||r[0];return"color"===o?(0,t.createElement)("div",{className:"relative inline-flex items-center gap-1.5"},(0,t.createElement)("span",{className:"text-xs font-medium text-gray-500"},e),(0,t.createElement)("div",{className:"relative inline-flex items-center bg-white border border-gray-200 rounded-md hover:border-gray-300 transition-colors h-9"},i.hex&&(0,t.createElement)("div",{className:"absolute left-2.5 w-3.5 h-3.5 rounded-full ring-1 ring-gray-300 pointer-events-none",style:{backgroundColor:i.hex,border:"white"===i.value?"1px solid #d1d5db":"none"}}),(0,t.createElement)("select",{"aria-label":e,value:a,onChange:e=>n(e.target.value),className:"appearance-none bg-transparent text-sm font-medium text-gray-700 cursor-pointer focus:outline-none focus:ring-0 border-0 pr-7 py-2 h-9 min-h-0",style:{paddingLeft:i.hex?"2rem":"0.625rem",backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.25rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.25em 1.25em"}},r.map((e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))))):(0,t.createElement)("div",{className:"relative inline-flex items-center gap-1.5"},(0,t.createElement)("span",{className:"text-xs font-medium text-gray-500"},e),(0,t.createElement)("div",{className:"relative inline-flex items-center bg-white border border-gray-200 rounded-md hover:border-gray-300 transition-colors h-9"},(0,t.createElement)("select",{"aria-label":e,value:a,onChange:e=>n(e.target.value),className:"appearance-none bg-transparent text-sm font-medium text-gray-800 cursor-pointer focus:outline-none focus:ring-0 border-0 pl-2.5 pr-7 py-2 h-9 min-h-0",style:{backgroundImage:"url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e\")",backgroundPosition:"right 0.25rem center",backgroundRepeat:"no-repeat",backgroundSize:"1.25em 1.25em"}},r.map((e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label))))))}const j=(0,t.memo)((function({providerId:e,className:a=""}){const{getFilters:r,setFilter:n}=S(),o=r(e),i=P[e]||[];return 0===i.length?null:(0,t.createElement)("div",{className:`flex flex-wrap items-center gap-3 sm:gap-4 ${a}`,role:"group","aria-label":"Filters"},i.map((a=>(0,t.createElement)(O,{key:a.key,label:a.label,value:o[a.key]||a.options[0]?.value||"",options:a.options,onChange:t=>n(e,a.key,t),type:a.type}))))})),B=(0,t.memo)((function({currentImages:e=[],providerId:a=null,inline:r=!1}){const{getSelectedCount:n,clearSelection:o,setSelectionMode:i,getSelectedUrls:s,getSelectedItemsData:l,toggleFavorite:c,selectAll:d}=S(),{uploadImages:m,uploading:u}=b(),[p,g]=(0,t.useState)(!1),h=n();if(!(h>0||e.length>0||e.length))return null;const f=s().length>0&&!u&&!p,w="favorites"===a;return 0===h?null:(0,t.createElement)("div",{className:r?"px-6 py-4 border-t border-gray-200 flex flex-wrap items-center gap-3":"fixed bottom-0 left-0 right-0 z-50 flex justify-center border-t border-gray-200 bg-white py-4 shadow-lg transition-transform duration-300",role:"toolbar","aria-label":"Selection actions"},(0,t.createElement)("div",{className:r?"flex flex-wrap items-center gap-3 w-full":"flex max-w-5xl flex-wrap items-center justify-center gap-4 px-4"},(0,t.createElement)("span",{className:"text-xs sm:text-sm font-medium text-gray-700"},h," image",1!==h?"s":""," selected"),(0,t.createElement)("div",{className:"flex flex-wrap items-center gap-2"},(0,t.createElement)("button",{type:"button",onClick:async()=>{const e=l();if(0===e.length)return;const t=e.filter((e=>e.importUrl)).map((e=>({url:e.importUrl,title:e.imageAlt||"",author:e.author?.name||""})));if(0!==t.length){g(!0);try{await m(t),o()}finally{g(!1)}}},disabled:!f,className:"rounded-md border border-gray-800 bg-gray-800 px-3 sm:px-4 h-9 text-xs sm:text-sm font-medium text-white hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 disabled:opacity-50"},p?"Importing...":"Import All"),(0,t.createElement)("button",{type:"button",onClick:()=>{l().forEach((({providerId:e,imageId:t,...a})=>{c(e,t,a)})),o()},className:"rounded-md border border-gray-200 bg-white px-3 sm:px-4 h-9 text-xs sm:text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-600"},w?"Unfavorite All":"Favorite All"),(0,t.createElement)("button",{type:"button",onClick:()=>{o(),i(!1)},className:"rounded-md border border-gray-200 bg-white px-3 sm:px-4 h-9 text-xs sm:text-sm font-medium text-gray-700 hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-600"},"Clear"))))}));function R({url:e,avatar:a,name:r,variant:n="grid"}){const o="list"===n;return(0,t.createElement)("a",{href:e||"javascript:void(0);",className:"flex items-center gap-2.5 no-underline text-base font-medium "+(o?"text-gray-600 mt-1":"text-white mt-3"),target:e&&e.startsWith("http")?"_blank":void 0,rel:e&&e.startsWith("http")?"noopener noreferrer":void 0},(0,t.createElement)("img",{src:a,alt:r,className:"rounded-full align-middle object-cover "+(o?"w-5 h-5 border border-gray-300":"w-[30px] h-[30px] border-2 border-white p-0.5")}),(0,t.createElement)("span",{className:"whitespace-nowrap overflow-hidden text-ellipsis "+(o?"text-xs w-auto":"w-[120px]")},r))}const U=()=>(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 15v2a3 3 0 003 3h10a3 3 0 003-3v-2m-8 1V4m0 12-4-4m4 4 4-4"})),T=(0,t.memo)((function(){const{previewImage:e,setPreviewImage:a,toggleFavorite:r,isFavorite:n}=S(),o=(0,t.useCallback)((()=>{a(null)}),[a]),i=(0,t.useCallback)((t=>{if(!e)return;const a=new CustomEvent("previewNavigate",{detail:{direction:t,currentIndex:e.index}});window.dispatchEvent(a)}),[e]);if((0,t.useEffect)((()=>{const t=e=>{"Escape"===e.key&&o(),"ArrowLeft"===e.key&&i("prev"),"ArrowRight"===e.key&&i("next")};return e&&(window.addEventListener("keydown",t),document.body.style.overflow="hidden"),()=>{window.removeEventListener("keydown",t),document.body.style.overflow=""}}),[e,o,i]),!e)return null;const{imageSrc:s,imageAlt:l="Image",previewUrl:c,author:d={},importUrl:m,downloadOptions:u=[],providerId:p,imageId:g,providerBadge:h,gifAnimatedUrl:f}=e,b=s||f,w=p&&g&&n(p,g);return(0,t.createElement)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/80",style:{zIndex:999999},onClick:e=>{e.target===e.currentTarget&&o()},role:"dialog","aria-modal":"true","aria-label":"Image preview"},(0,t.createElement)("div",{className:"relative flex max-h-[95vh] w-full max-w-7xl mx-4 sm:mx-6 flex-col md:flex-row overflow-hidden rounded-xl bg-white"},(0,t.createElement)("button",{type:"button",onClick:o,className:"absolute top-3 right-3 md:hidden flex h-9 w-9 items-center justify-center rounded-full bg-black/40 text-white hover:bg-black/60 focus:outline-none transition-colors z-10","aria-label":"Close"},(0,t.createElement)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))),(0,t.createElement)("div",{className:"relative flex flex-1 items-center justify-center overflow-hidden bg-gray-50 min-h-[280px] md:min-h-[500px]"},(0,t.createElement)("img",{src:b,alt:l,className:"max-h-[55vh] md:max-h-[90vh] w-auto max-w-full object-contain"}),(0,t.createElement)("button",{type:"button",onClick:e=>{e.stopPropagation(),i("prev")},className:"absolute left-2 top-1/2 -translate-y-1/2 flex h-9 w-9 items-center justify-center rounded-full border border-white/20 bg-black/30 text-white hover:bg-black/50 focus:outline-none transition-colors","aria-label":"Previous image"},(0,t.createElement)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19l-7-7 7-7"}))),(0,t.createElement)("button",{type:"button",onClick:e=>{e.stopPropagation(),i("next")},className:"absolute right-2 top-1/2 -translate-y-1/2 flex h-9 w-9 items-center justify-center rounded-full border border-white/20 bg-black/30 text-white hover:bg-black/50 focus:outline-none transition-colors","aria-label":"Next image"},(0,t.createElement)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5l7 7-7 7"})))),(0,t.createElement)("div",{className:"flex w-full md:w-[280px] lg:w-[320px] shrink-0 flex-col border-t md:border-t-0 md:border-l border-gray-100 bg-white max-h-[40vh] md:max-h-none overflow-y-auto"},(0,t.createElement)("div",{className:"hidden md:flex items-center justify-end px-4 pt-3"},(0,t.createElement)("button",{type:"button",onClick:o,className:"flex h-8 w-8 items-center justify-center rounded-full border border-gray-200 bg-gray-50 text-gray-500 hover:bg-gray-100 hover:text-gray-700 focus:outline-none transition-colors","aria-label":"Close"},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})))),(0,t.createElement)("div",{className:"px-4 pt-2 md:pt-0 pb-3 border-b border-gray-100"},(0,t.createElement)("div",{className:"flex flex-wrap items-center gap-1.5 mb-2"},h&&(0,t.createElement)("span",{className:"inline-flex items-center rounded bg-gray-100 px-2 py-0.5 text-[11px] font-medium text-gray-700"},h),f&&(0,t.createElement)("span",{className:"inline-flex items-center gap-1 rounded bg-gray-100 px-2 py-0.5 text-[11px] font-medium text-gray-700"},(0,t.createElement)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),"GIF")),(0,t.createElement)("h2",{className:"text-sm font-semibold text-gray-900 leading-snug line-clamp-3"},l)),(0,t.createElement)("div",{className:"px-4 py-3 border-b border-gray-100"},(0,t.createElement)("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wider mb-2"},"Author"),(0,t.createElement)(R,{url:d?.url,avatar:d?.avatar,name:d?.name||"",variant:"list"})),(0,t.createElement)("div",{className:"px-4 py-3 mt-auto"},(0,t.createElement)("p",{className:"text-[10px] font-medium text-gray-400 uppercase tracking-wider mb-2"},"Actions"),(0,t.createElement)("div",{className:"flex flex-col gap-2"},m&&(0,t.createElement)("button",{type:"button",className:"bdt-aimg-download-btn flex items-center justify-center gap-2 w-full h-9 rounded-md border border-gray-800 bg-gray-800 text-white text-sm font-medium hover:bg-gray-900 transition-colors","data-url":m,"data-title":l||"","data-author":d?.name||""},(0,t.createElement)(U,null),"Import to Media Library"),u?.map((e=>(0,t.createElement)("button",{key:e.label,type:"button",className:"bdt-aimg-download-btn flex items-center justify-center gap-2 w-full h-9 rounded-md border border-gray-200 bg-white text-gray-700 text-sm font-medium hover:bg-gray-50 transition-colors","data-url":e.url,"data-type":e.type,"data-title":l||"","data-author":d?.name||""},(0,t.createElement)(U,null),"Import ",e.label))),p&&g&&(0,t.createElement)("button",{type:"button",onClick:()=>{p&&g&&r(p,g,{imageSrc:s,imageAlt:l,author:d,importUrl:m,previewUrl:c})},className:"flex items-center justify-center gap-2 w-full h-9 rounded-md border text-sm font-medium transition-colors "+(w?"border-red-200 bg-red-50 text-red-600 hover:bg-red-100":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50")},(0,t.createElement)("svg",{className:"w-4 h-4",fill:w?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),w?"Favorited":"Add to Favorites"),c&&(0,t.createElement)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full h-9 rounded-md border border-gray-800 bg-gray-800 text-sm font-medium text-white hover:bg-gray-900 transition-colors"},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})),"View Original"))))))}));function z(e,t){return function(){return e.apply(t,arguments)}}const{toString:D}=Object.prototype,{getPrototypeOf:F}=Object,{iterator:G,toStringTag:$}=Symbol,W=(H=Object.create(null),e=>{const t=D.call(e);return H[t]||(H[t]=t.slice(8,-1).toLowerCase())});var H;const q=e=>(e=e.toLowerCase(),t=>W(t)===e),V=e=>t=>typeof t===e,{isArray:K}=Array,Z=V("undefined");function Y(e){return null!==e&&!Z(e)&&null!==e.constructor&&!Z(e.constructor)&&Q(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const X=q("ArrayBuffer"),J=V("string"),Q=V("function"),ee=V("number"),te=e=>null!==e&&"object"==typeof e,ae=e=>{if("object"!==W(e))return!1;const t=F(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||$ in e||G in e)},re=q("Date"),ne=q("File"),oe=q("Blob"),ie=q("FileList"),se=q("URLSearchParams"),[le,ce,de,me]=["ReadableStream","Request","Response","Headers"].map(q);function ue(e,t,{allOwnKeys:a=!1}={}){if(null==e)return;let r,n;if("object"!=typeof e&&(e=[e]),K(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{if(Y(e))return;const n=a?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let i;for(r=0;r<o;r++)i=n[r],t.call(null,e[i],i,e)}}function pe(e,t){if(Y(e))return null;t=t.toLowerCase();const a=Object.keys(e);let r,n=a.length;for(;n-- >0;)if(r=a[n],t===r.toLowerCase())return r;return null}const ge="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,he=e=>!Z(e)&&e!==ge,fe=(be="undefined"!=typeof Uint8Array&&F(Uint8Array),e=>be&&e instanceof be);var be;const we=q("HTMLFormElement"),ye=(({hasOwnProperty:e})=>(t,a)=>e.call(t,a))(Object.prototype),ve=q("RegExp"),xe=(e,t)=>{const a=Object.getOwnPropertyDescriptors(e),r={};ue(a,((a,n)=>{let o;!1!==(o=t(a,n,e))&&(r[n]=o||a)})),Object.defineProperties(e,r)},Ee=q("AsyncFunction"),ke=(Ce="function"==typeof setImmediate,_e=Q(ge.postMessage),Ce?setImmediate:_e?(Ae=`axios@${Math.random()}`,Ne=[],ge.addEventListener("message",(({source:e,data:t})=>{e===ge&&t===Ae&&Ne.length&&Ne.shift()()}),!1),e=>{Ne.push(e),ge.postMessage(Ae,"*")}):e=>setTimeout(e));var Ce,_e,Ae,Ne;const Se="undefined"!=typeof queueMicrotask?queueMicrotask.bind(ge):"undefined"!=typeof process&&process.nextTick||ke,Ie={isArray:K,isArrayBuffer:X,isBuffer:Y,isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||Q(e.append)&&("formdata"===(t=W(e))||"object"===t&&Q(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&X(e.buffer),t},isString:J,isNumber:ee,isBoolean:e=>!0===e||!1===e,isObject:te,isPlainObject:ae,isEmptyObject:e=>{if(!te(e)||Y(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(e){return!1}},isReadableStream:le,isRequest:ce,isResponse:de,isHeaders:me,isUndefined:Z,isDate:re,isFile:ne,isBlob:oe,isRegExp:ve,isFunction:Q,isStream:e=>te(e)&&Q(e.pipe),isURLSearchParams:se,isTypedArray:fe,isFileList:ie,forEach:ue,merge:function e(){const{caseless:t,skipUndefined:a}=he(this)&&this||{},r={},n=(n,o)=>{if("__proto__"===o||"constructor"===o||"prototype"===o)return;const i=t&&pe(r,o)||o;ae(r[i])&&ae(n)?r[i]=e(r[i],n):ae(n)?r[i]=e({},n):K(n)?r[i]=n.slice():a&&Z(n)||(r[i]=n)};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&ue(arguments[e],n);return r},extend:(e,t,a,{allOwnKeys:r}={})=>(ue(t,((t,r)=>{a&&Q(t)?Object.defineProperty(e,r,{value:z(t,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(e,r,{value:t,writable:!0,enumerable:!0,configurable:!0})}),{allOwnKeys:r}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,a,r)=>{e.prototype=Object.create(t.prototype,r),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(e,"super",{value:t.prototype}),a&&Object.assign(e.prototype,a)},toFlatObject:(e,t,a,r)=>{let n,o,i;const s={};if(t=t||{},null==e)return t;do{for(n=Object.getOwnPropertyNames(e),o=n.length;o-- >0;)i=n[o],r&&!r(i,e,t)||s[i]||(t[i]=e[i],s[i]=!0);e=!1!==a&&F(e)}while(e&&(!a||a(e,t))&&e!==Object.prototype);return t},kindOf:W,kindOfTest:q,endsWith:(e,t,a)=>{e=String(e),(void 0===a||a>e.length)&&(a=e.length),a-=t.length;const r=e.indexOf(t,a);return-1!==r&&r===a},toArray:e=>{if(!e)return null;if(K(e))return e;let t=e.length;if(!ee(t))return null;const a=new Array(t);for(;t-- >0;)a[t]=e[t];return a},forEachEntry:(e,t)=>{const a=(e&&e[G]).call(e);let r;for(;(r=a.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},matchAll:(e,t)=>{let a;const r=[];for(;null!==(a=e.exec(t));)r.push(a);return r},isHTMLForm:we,hasOwnProperty:ye,hasOwnProp:ye,reduceDescriptors:xe,freezeMethods:e=>{xe(e,((t,a)=>{if(Q(e)&&-1!==["arguments","caller","callee"].indexOf(a))return!1;const r=e[a];Q(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")}))}))},toObjectSet:(e,t)=>{const a={},r=e=>{e.forEach((e=>{a[e]=!0}))};return K(e)?r(e):r(String(e).split(t)),a},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,a){return t.toUpperCase()+a})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:pe,global:ge,isContextDefined:he,isSpecCompliantForm:function(e){return!!(e&&Q(e.append)&&"FormData"===e[$]&&e[G])},toJSONObject:e=>{const t=new Array(10),a=(e,r)=>{if(te(e)){if(t.indexOf(e)>=0)return;if(Y(e))return e;if(!("toJSON"in e)){t[r]=e;const n=K(e)?[]:{};return ue(e,((e,t)=>{const o=a(e,r+1);!Z(o)&&(n[t]=o)})),t[r]=void 0,n}}return e};return a(e,0)},isAsyncFn:Ee,isThenable:e=>e&&(te(e)||Q(e))&&Q(e.then)&&Q(e.catch),setImmediate:ke,asap:Se,isIterable:e=>null!=e&&Q(e[G])};class Le extends Error{static from(e,t,a,r,n,o){const i=new Le(e.message,t||e.code,a,r,n);return i.cause=e,i.name=e.name,o&&Object.assign(i,o),i}constructor(e,t,a,r,n){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),a&&(this.config=a),r&&(this.request=r),n&&(this.response=n,this.status=n.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ie.toJSONObject(this.config),code:this.code,status:this.status}}}Le.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE",Le.ERR_BAD_OPTION="ERR_BAD_OPTION",Le.ECONNABORTED="ECONNABORTED",Le.ETIMEDOUT="ETIMEDOUT",Le.ERR_NETWORK="ERR_NETWORK",Le.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS",Le.ERR_DEPRECATED="ERR_DEPRECATED",Le.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE",Le.ERR_BAD_REQUEST="ERR_BAD_REQUEST",Le.ERR_CANCELED="ERR_CANCELED",Le.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT",Le.ERR_INVALID_URL="ERR_INVALID_URL";const Me=Le;function Pe(e){return Ie.isPlainObject(e)||Ie.isArray(e)}function Oe(e){return Ie.endsWith(e,"[]")?e.slice(0,-2):e}function je(e,t,a){return e?e.concat(t).map((function(e,t){return e=Oe(e),!a&&t?"["+e+"]":e})).join(a?".":""):t}const Be=Ie.toFlatObject(Ie,{},null,(function(e){return/^is[A-Z]/.test(e)})),Re=function(e,t,a){if(!Ie.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(a=Ie.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!Ie.isUndefined(t[e])}))).metaTokens,n=a.visitor||c,o=a.dots,i=a.indexes,s=(a.Blob||"undefined"!=typeof Blob&&Blob)&&Ie.isSpecCompliantForm(t);if(!Ie.isFunction(n))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(Ie.isDate(e))return e.toISOString();if(Ie.isBoolean(e))return e.toString();if(!s&&Ie.isBlob(e))throw new Me("Blob is not supported. Use a Buffer instead.");return Ie.isArrayBuffer(e)||Ie.isTypedArray(e)?s&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,a,n){let s=e;if(e&&!n&&"object"==typeof e)if(Ie.endsWith(a,"{}"))a=r?a:a.slice(0,-2),e=JSON.stringify(e);else if(Ie.isArray(e)&&function(e){return Ie.isArray(e)&&!e.some(Pe)}(e)||(Ie.isFileList(e)||Ie.endsWith(a,"[]"))&&(s=Ie.toArray(e)))return a=Oe(a),s.forEach((function(e,r){!Ie.isUndefined(e)&&null!==e&&t.append(!0===i?je([a],r,o):null===i?a:a+"[]",l(e))})),!1;return!!Pe(e)||(t.append(je(n,a,o),l(e)),!1)}const d=[],m=Object.assign(Be,{defaultVisitor:c,convertValue:l,isVisitable:Pe});if(!Ie.isObject(e))throw new TypeError("data must be an object");return function e(a,r){if(!Ie.isUndefined(a)){if(-1!==d.indexOf(a))throw Error("Circular reference detected in "+r.join("."));d.push(a),Ie.forEach(a,(function(a,o){!0===(!(Ie.isUndefined(a)||null===a)&&n.call(t,a,Ie.isString(o)?o.trim():o,r,m))&&e(a,r?r.concat(o):[o])})),d.pop()}}(e),t};function Ue(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Te(e,t){this._pairs=[],e&&Re(e,this,t)}const ze=Te.prototype;ze.append=function(e,t){this._pairs.push([e,t])},ze.toString=function(e){const t=e?function(t){return e.call(this,t,Ue)}:Ue;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const De=Te;function Fe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Ge(e,t,a){if(!t)return e;const r=a&&a.encode||Fe,n=Ie.isFunction(a)?{serialize:a}:a,o=n&&n.serialize;let i;if(i=o?o(t,n):Ie.isURLSearchParams(t)?t.toString():new De(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const $e=class{constructor(){this.handlers=[]}use(e,t,a){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!a&&a.synchronous,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ie.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},We={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},He={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:De,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},qe="undefined"!=typeof window&&"undefined"!=typeof document,Ve="object"==typeof navigator&&navigator||void 0,Ke=qe&&(!Ve||["ReactNative","NativeScript","NS"].indexOf(Ve.product)<0),Ze="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,Ye=qe&&window.location.href||"http://localhost",Xe={...e,...He},Je=function(e){function t(e,a,r,n){let o=e[n++];if("__proto__"===o)return!0;const i=Number.isFinite(+o),s=n>=e.length;return o=!o&&Ie.isArray(r)?r.length:o,s?(Ie.hasOwnProp(r,o)?r[o]=[r[o],a]:r[o]=a,!i):(r[o]&&Ie.isObject(r[o])||(r[o]=[]),t(e,a,r[o],n)&&Ie.isArray(r[o])&&(r[o]=function(e){const t={},a=Object.keys(e);let r;const n=a.length;let o;for(r=0;r<n;r++)o=a[r],t[o]=e[o];return t}(r[o])),!i)}if(Ie.isFormData(e)&&Ie.isFunction(e.entries)){const a={};return Ie.forEachEntry(e,((e,r)=>{t(function(e){return Ie.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,a,0)})),a}return null},Qe={transitional:We,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const a=t.getContentType()||"",r=a.indexOf("application/json")>-1,n=Ie.isObject(e);if(n&&Ie.isHTMLForm(e)&&(e=new FormData(e)),Ie.isFormData(e))return r?JSON.stringify(Je(e)):e;if(Ie.isArrayBuffer(e)||Ie.isBuffer(e)||Ie.isStream(e)||Ie.isFile(e)||Ie.isBlob(e)||Ie.isReadableStream(e))return e;if(Ie.isArrayBufferView(e))return e.buffer;if(Ie.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(n){if(a.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Re(e,new Xe.classes.URLSearchParams,{visitor:function(e,t,a,r){return Xe.isNode&&Ie.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)},...t})}(e,this.formSerializer).toString();if((o=Ie.isFileList(e))||a.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Re(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return n||r?(t.setContentType("application/json",!1),function(e){if(Ie.isString(e))try{return(0,JSON.parse)(e),Ie.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Qe.transitional,a=t&&t.forcedJSONParsing,r="json"===this.responseType;if(Ie.isResponse(e)||Ie.isReadableStream(e))return e;if(e&&Ie.isString(e)&&(a&&!this.responseType||r)){const a=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(e){if(a){if("SyntaxError"===e.name)throw Me.from(e,Me.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xe.classes.FormData,Blob:Xe.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ie.forEach(["delete","get","head","post","put","patch"],(e=>{Qe.headers[e]={}}));const et=Qe,tt=Ie.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),at=Symbol("internals");function rt(e){return e&&String(e).trim().toLowerCase()}function nt(e){return!1===e||null==e?e:Ie.isArray(e)?e.map(nt):String(e)}function ot(e,t,a,r,n){return Ie.isFunction(r)?r.call(this,t,a):(n&&(t=a),Ie.isString(t)?Ie.isString(r)?-1!==t.indexOf(r):Ie.isRegExp(r)?r.test(t):void 0:void 0)}class it{constructor(e){e&&this.set(e)}set(e,t,a){const r=this;function n(e,t,a){const n=rt(t);if(!n)throw new Error("header name must be a non-empty string");const o=Ie.findKey(r,n);(!o||void 0===r[o]||!0===a||void 0===a&&!1!==r[o])&&(r[o||t]=nt(e))}const o=(e,t)=>Ie.forEach(e,((e,a)=>n(e,a,t)));if(Ie.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(Ie.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let a,r,n;return e&&e.split("\n").forEach((function(e){n=e.indexOf(":"),a=e.substring(0,n).trim().toLowerCase(),r=e.substring(n+1).trim(),!a||t[a]&&tt[a]||("set-cookie"===a?t[a]?t[a].push(r):t[a]=[r]:t[a]=t[a]?t[a]+", "+r:r)})),t})(e),t);else if(Ie.isObject(e)&&Ie.isIterable(e)){let a,r,n={};for(const t of e){if(!Ie.isArray(t))throw TypeError("Object iterator must return a key-value pair");n[r=t[0]]=(a=n[r])?Ie.isArray(a)?[...a,t[1]]:[a,t[1]]:t[1]}o(n,t)}else null!=e&&n(t,e,a);return this}get(e,t){if(e=rt(e)){const a=Ie.findKey(this,e);if(a){const e=this[a];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(e);)t[r[1]]=r[2];return t}(e);if(Ie.isFunction(t))return t.call(this,e,a);if(Ie.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=rt(e)){const a=Ie.findKey(this,e);return!(!a||void 0===this[a]||t&&!ot(0,this[a],a,t))}return!1}delete(e,t){const a=this;let r=!1;function n(e){if(e=rt(e)){const n=Ie.findKey(a,e);!n||t&&!ot(0,a[n],n,t)||(delete a[n],r=!0)}}return Ie.isArray(e)?e.forEach(n):n(e),r}clear(e){const t=Object.keys(this);let a=t.length,r=!1;for(;a--;){const n=t[a];e&&!ot(0,this[n],n,e,!0)||(delete this[n],r=!0)}return r}normalize(e){const t=this,a={};return Ie.forEach(this,((r,n)=>{const o=Ie.findKey(a,n);if(o)return t[o]=nt(r),void delete t[n];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,a)=>t.toUpperCase()+a))}(n):String(n).trim();i!==n&&delete t[n],t[i]=nt(r),a[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ie.forEach(this,((a,r)=>{null!=a&&!1!==a&&(t[r]=e&&Ie.isArray(a)?a.join(", "):a)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const a=new this(e);return t.forEach((e=>a.set(e))),a}static accessor(e){const t=(this[at]=this[at]={accessors:{}}).accessors,a=this.prototype;function r(e){const r=rt(e);t[r]||(function(e,t){const a=Ie.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+a,{value:function(e,a,n){return this[r].call(this,t,e,a,n)},configurable:!0})}))}(a,e),t[r]=!0)}return Ie.isArray(e)?e.forEach(r):r(e),this}}it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Ie.reduceDescriptors(it.prototype,(({value:e},t)=>{let a=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[a]=e}}})),Ie.freezeMethods(it);const st=it;function lt(e,t){const a=this||et,r=t||a,n=st.from(r.headers);let o=r.data;return Ie.forEach(e,(function(e){o=e.call(a,o,n.normalize(),t?t.status:void 0)})),n.normalize(),o}function ct(e){return!(!e||!e.__CANCEL__)}const dt=class extends Me{constructor(e,t,a){super(null==e?"canceled":e,Me.ERR_CANCELED,t,a),this.name="CanceledError",this.__CANCEL__=!0}};function mt(e,t,a){const r=a.config.validateStatus;a.status&&r&&!r(a.status)?t(new Me("Request failed with status code "+a.status,[Me.ERR_BAD_REQUEST,Me.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a)):e(a)}const ut=(e,t,a=3)=>{let r=0;const n=function(e,t){e=e||10;const a=new Array(e),r=new Array(e);let n,o=0,i=0;return t=void 0!==t?t:1e3,function(s){const l=Date.now(),c=r[i];n||(n=l),a[o]=s,r[o]=l;let d=i,m=0;for(;d!==o;)m+=a[d++],d%=e;if(o=(o+1)%e,o===i&&(i=(i+1)%e),l-n<t)return;const u=c&&l-c;return u?Math.round(1e3*m/u):void 0}}(50,250);return function(e,t){let a,r,n=0,o=1e3/t;const i=(t,o=Date.now())=>{n=o,a=null,r&&(clearTimeout(r),r=null),e(...t)};return[(...e)=>{const t=Date.now(),s=t-n;s>=o?i(e,t):(a=e,r||(r=setTimeout((()=>{r=null,i(a)}),o-s)))},()=>a&&i(a)]}((a=>{const o=a.loaded,i=a.lengthComputable?a.total:void 0,s=o-r,l=n(s);r=o,e({loaded:o,total:i,progress:i?o/i:void 0,bytes:s,rate:l||void 0,estimated:l&&i&&o<=i?(i-o)/l:void 0,event:a,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),a)},pt=(e,t)=>{const a=null!=e;return[r=>t[0]({lengthComputable:a,total:e,loaded:r}),t[1]]},gt=e=>(...t)=>Ie.asap((()=>e(...t))),ht=Xe.hasStandardBrowserEnv?((e,t)=>a=>(a=new URL(a,Xe.origin),e.protocol===a.protocol&&e.host===a.host&&(t||e.port===a.port)))(new URL(Xe.origin),Xe.navigator&&/(msie|trident)/i.test(Xe.navigator.userAgent)):()=>!0,ft=Xe.hasStandardBrowserEnv?{write(e,t,a,r,n,o,i){if("undefined"==typeof document)return;const s=[`${e}=${encodeURIComponent(t)}`];Ie.isNumber(a)&&s.push(`expires=${new Date(a).toUTCString()}`),Ie.isString(r)&&s.push(`path=${r}`),Ie.isString(n)&&s.push(`domain=${n}`),!0===o&&s.push("secure"),Ie.isString(i)&&s.push(`SameSite=${i}`),document.cookie=s.join("; ")},read(e){if("undefined"==typeof document)return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read:()=>null,remove(){}};function bt(e,t,a){let r=!("string"==typeof(n=t)&&/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n));var n;return e&&(r||0==a)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const wt=e=>e instanceof st?{...e}:e;function yt(e,t){t=t||{};const a={};function r(e,t,a,r){return Ie.isPlainObject(e)&&Ie.isPlainObject(t)?Ie.merge.call({caseless:r},e,t):Ie.isPlainObject(t)?Ie.merge({},t):Ie.isArray(t)?t.slice():t}function n(e,t,a,n){return Ie.isUndefined(t)?Ie.isUndefined(e)?void 0:r(void 0,e,0,n):r(e,t,0,n)}function o(e,t){if(!Ie.isUndefined(t))return r(void 0,t)}function i(e,t){return Ie.isUndefined(t)?Ie.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function s(a,n,o){return o in t?r(a,n):o in e?r(void 0,a):void 0}const l={url:o,method:o,data:o,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:s,headers:(e,t,a)=>n(wt(e),wt(t),0,!0)};return Ie.forEach(Object.keys({...e,...t}),(function(r){if("__proto__"===r||"constructor"===r||"prototype"===r)return;const o=Ie.hasOwnProp(l,r)?l[r]:n,i=o(e[r],t[r],r);Ie.isUndefined(i)&&o!==s||(a[r]=i)})),a}const vt=e=>{const t=yt({},e);let{data:a,withXSRFToken:r,xsrfHeaderName:n,xsrfCookieName:o,headers:i,auth:s}=t;if(t.headers=i=st.from(i),t.url=Ge(bt(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),s&&i.set("Authorization","Basic "+btoa((s.username||"")+":"+(s.password?unescape(encodeURIComponent(s.password)):""))),Ie.isFormData(a))if(Xe.hasStandardBrowserEnv||Xe.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(Ie.isFunction(a.getHeaders)){const e=a.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach((([e,a])=>{t.includes(e.toLowerCase())&&i.set(e,a)}))}if(Xe.hasStandardBrowserEnv&&(r&&Ie.isFunction(r)&&(r=r(t)),r||!1!==r&&ht(t.url))){const e=n&&o&&ft.read(o);e&&i.set(n,e)}return t},xt="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,a){const r=vt(e);let n=r.data;const o=st.from(r.headers).normalize();let i,s,l,c,d,{responseType:m,onUploadProgress:u,onDownloadProgress:p}=r;function g(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function f(){if(!h)return;const r=st.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());mt((function(e){t(e),g()}),(function(e){a(e),g()}),{data:m&&"text"!==m&&"json"!==m?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=f:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(f)},h.onabort=function(){h&&(a(new Me("Request aborted",Me.ECONNABORTED,e,h)),h=null)},h.onerror=function(t){const r=t&&t.message?t.message:"Network Error",n=new Me(r,Me.ERR_NETWORK,e,h);n.event=t||null,a(n),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const n=r.transitional||We;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),a(new Me(t,n.clarifyTimeoutError?Me.ETIMEDOUT:Me.ECONNABORTED,e,h)),h=null},void 0===n&&o.setContentType(null),"setRequestHeader"in h&&Ie.forEach(o.toJSON(),(function(e,t){h.setRequestHeader(t,e)})),Ie.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),m&&"json"!==m&&(h.responseType=r.responseType),p&&([l,d]=ut(p,!0),h.addEventListener("progress",l)),u&&h.upload&&([s,c]=ut(u),h.upload.addEventListener("progress",s),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{h&&(a(!t||t.type?new dt(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const b=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);b&&-1===Xe.protocols.indexOf(b)?a(new Me("Unsupported protocol "+b+":",Me.ERR_BAD_REQUEST,e)):h.send(n||null)}))},Et=(e,t)=>{const{length:a}=e=e?e.filter(Boolean):[];if(t||a){let a,r=new AbortController;const n=function(e){if(!a){a=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Me?t:new dt(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,n(new Me(`timeout of ${t}ms exceeded`,Me.ETIMEDOUT))}),t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(n):e.removeEventListener("abort",n)})),e=null)};e.forEach((e=>e.addEventListener("abort",n)));const{signal:s}=r;return s.unsubscribe=()=>Ie.asap(i),s}},kt=function*(e,t){let a=e.byteLength;if(!t||a<t)return void(yield e);let r,n=0;for(;n<a;)r=n+t,yield e.slice(n,r),n=r},Ct=(e,t,a,r)=>{const n=async function*(e,t){for await(const a of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:a}=await t.read();if(e)break;yield a}}finally{await t.cancel()}}(e))yield*kt(a,t)}(e,t);let o,i=0,s=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await n.next();if(t)return s(),void e.close();let o=r.byteLength;if(a){let e=i+=o;a(e)}e.enqueue(new Uint8Array(r))}catch(e){throw s(e),e}},cancel:e=>(s(e),n.return())},{highWaterMark:2})},{isFunction:_t}=Ie,At=(({Request:e,Response:t})=>({Request:e,Response:t}))(Ie.global),{ReadableStream:Nt,TextEncoder:St}=Ie.global,It=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},Lt=e=>{e=Ie.merge.call({skipUndefined:!0},At,e);const{fetch:t,Request:a,Response:r}=e,n=t?_t(t):"function"==typeof fetch,o=_t(a),i=_t(r);if(!n)return!1;const s=n&&_t(Nt),l=n&&("function"==typeof St?(c=new St,e=>c.encode(e)):async e=>new Uint8Array(await new a(e).arrayBuffer()));var c;const d=o&&s&&It((()=>{let e=!1;const t=new a(Xe.origin,{body:new Nt,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),m=i&&s&&It((()=>Ie.isReadableStream(new r("").body))),u={stream:m&&(e=>e.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!u[e]&&(u[e]=(t,a)=>{let r=t&&t[e];if(r)return r.call(t);throw new Me(`Response type '${e}' is not supported`,Me.ERR_NOT_SUPPORT,a)})}));return async e=>{let{url:n,method:i,data:s,signal:c,cancelToken:p,timeout:g,onDownloadProgress:h,onUploadProgress:f,responseType:b,headers:w,withCredentials:y="same-origin",fetchOptions:v}=vt(e),x=t||fetch;b=b?(b+"").toLowerCase():"text";let E=Et([c,p&&p.toAbortSignal()],g),k=null;const C=E&&E.unsubscribe&&(()=>{E.unsubscribe()});let _;try{if(f&&d&&"get"!==i&&"head"!==i&&0!==(_=await(async(e,t)=>{const r=Ie.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(Ie.isBlob(e))return e.size;if(Ie.isSpecCompliantForm(e)){const t=new a(Xe.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return Ie.isArrayBufferView(e)||Ie.isArrayBuffer(e)?e.byteLength:(Ie.isURLSearchParams(e)&&(e+=""),Ie.isString(e)?(await l(e)).byteLength:void 0)})(t):r})(w,s))){let e,t=new a(n,{method:"POST",body:s,duplex:"half"});if(Ie.isFormData(s)&&(e=t.headers.get("content-type"))&&w.setContentType(e),t.body){const[e,a]=pt(_,ut(gt(f)));s=Ct(t.body,65536,e,a)}}Ie.isString(y)||(y=y?"include":"omit");const t=o&&"credentials"in a.prototype,c={...v,signal:E,method:i.toUpperCase(),headers:w.normalize().toJSON(),body:s,duplex:"half",credentials:t?y:void 0};k=o&&new a(n,c);let p=await(o?x(k,v):x(n,c));const g=m&&("stream"===b||"response"===b);if(m&&(h||g&&C)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=p[t]}));const t=Ie.toFiniteNumber(p.headers.get("content-length")),[a,n]=h&&pt(t,ut(gt(h),!0))||[];p=new r(Ct(p.body,65536,a,(()=>{n&&n(),C&&C()})),e)}b=b||"text";let A=await u[Ie.findKey(u,b)||"text"](p,e);return!g&&C&&C(),await new Promise(((t,a)=>{mt(t,a,{data:A,headers:st.from(p.headers),status:p.status,statusText:p.statusText,config:e,request:k})}))}catch(t){if(C&&C(),t&&"TypeError"===t.name&&/Load failed|fetch/i.test(t.message))throw Object.assign(new Me("Network Error",Me.ERR_NETWORK,e,k,t&&t.response),{cause:t.cause||t});throw Me.from(t,t&&t.code,e,k,t&&t.response)}}},Mt=new Map,Pt=e=>{let t=e&&e.env||{};const{fetch:a,Request:r,Response:n}=t,o=[r,n,a];let i,s,l=o.length,c=Mt;for(;l--;)i=o[l],s=c.get(i),void 0===s&&c.set(i,s=l?new Map:Lt(t)),c=s;return s},Ot=(Pt(),{http:null,xhr:xt,fetch:{get:Pt}});Ie.forEach(Ot,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const jt=e=>`- ${e}`,Bt=e=>Ie.isFunction(e)||null===e||!1===e,Rt=function(e,t){e=Ie.isArray(e)?e:[e];const{length:a}=e;let r,n;const o={};for(let i=0;i<a;i++){let a;if(r=e[i],n=r,!Bt(r)&&(n=Ot[(a=String(r)).toLowerCase()],void 0===n))throw new Me(`Unknown adapter '${a}'`);if(n&&(Ie.isFunction(n)||(n=n.get(t))))break;o[a||"#"+i]=n}if(!n){const e=Object.entries(o).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let t=a?e.length>1?"since :\n"+e.map(jt).join("\n"):" "+jt(e[0]):"as no adapter specified";throw new Me("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n};function Ut(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new dt(null,e)}function Tt(e){return Ut(e),e.headers=st.from(e.headers),e.data=lt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Rt(e.adapter||et.adapter,e)(e).then((function(t){return Ut(e),t.data=lt.call(e,e.transformResponse,t),t.headers=st.from(t.headers),t}),(function(t){return ct(t)||(Ut(e),t&&t.response&&(t.response.data=lt.call(e,e.transformResponse,t.response),t.response.headers=st.from(t.response.headers))),Promise.reject(t)}))}const zt="1.13.5",Dt={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Dt[e]=function(a){return typeof a===e||"a"+(t<1?"n ":" ")+e}}));const Ft={};Dt.transitional=function(e,t,a){function r(e,t){return"[Axios v"+zt+"] Transitional option '"+e+"'"+t+(a?". "+a:"")}return(a,n,o)=>{if(!1===e)throw new Me(r(n," has been removed"+(t?" in "+t:"")),Me.ERR_DEPRECATED);return t&&!Ft[n]&&(Ft[n]=!0,console.warn(r(n," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(a,n,o)}},Dt.spelling=function(e){return(t,a)=>(console.warn(`${a} is likely a misspelling of ${e}`),!0)};const Gt={assertOptions:function(e,t,a){if("object"!=typeof e)throw new Me("options must be an object",Me.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let n=r.length;for(;n-- >0;){const o=r[n],i=t[o];if(i){const t=e[o],a=void 0===t||i(t,o,e);if(!0!==a)throw new Me("option "+o+" must be "+a,Me.ERR_BAD_OPTION_VALUE)}else if(!0!==a)throw new Me("Unknown option "+o,Me.ERR_BAD_OPTION)}},validators:Dt},$t=Gt.validators;class Wt{constructor(e){this.defaults=e||{},this.interceptors={request:new $e,response:new $e}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const a=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?a&&!String(e.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+a):e.stack=a}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=yt(this.defaults,t);const{transitional:a,paramsSerializer:r,headers:n}=t;void 0!==a&&Gt.assertOptions(a,{silentJSONParsing:$t.transitional($t.boolean),forcedJSONParsing:$t.transitional($t.boolean),clarifyTimeoutError:$t.transitional($t.boolean),legacyInterceptorReqResOrdering:$t.transitional($t.boolean)},!1),null!=r&&(Ie.isFunction(r)?t.paramsSerializer={serialize:r}:Gt.assertOptions(r,{encode:$t.function,serialize:$t.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Gt.assertOptions(t,{baseUrl:$t.spelling("baseURL"),withXsrfToken:$t.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=n&&Ie.merge(n.common,n[t.method]);n&&Ie.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete n[e]})),t.headers=st.concat(o,n);const i=[];let s=!0;this.interceptors.request.forEach((function(e){if("function"==typeof e.runWhen&&!1===e.runWhen(t))return;s=s&&e.synchronous;const a=t.transitional||We;a&&a.legacyInterceptorReqResOrdering?i.unshift(e.fulfilled,e.rejected):i.push(e.fulfilled,e.rejected)}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let d,m=0;if(!s){const e=[Tt.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);m<d;)c=c.then(e[m++],e[m++]);return c}d=i.length;let u=t;for(;m<d;){const e=i[m++],t=i[m++];try{u=e(u)}catch(e){t.call(this,e);break}}try{c=Tt.call(this,u)}catch(e){return Promise.reject(e)}for(m=0,d=l.length;m<d;)c=c.then(l[m++],l[m++]);return c}getUri(e){return Ge(bt((e=yt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}Ie.forEach(["delete","get","head","options"],(function(e){Wt.prototype[e]=function(t,a){return this.request(yt(a||{},{method:e,url:t,data:(a||{}).data}))}})),Ie.forEach(["post","put","patch"],(function(e){function t(t){return function(a,r,n){return this.request(yt(n||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:a,data:r}))}}Wt.prototype[e]=t(),Wt.prototype[e+"Form"]=t(!0)}));const Ht=Wt;class qt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const a=this;this.promise.then((e=>{if(!a._listeners)return;let t=a._listeners.length;for(;t-- >0;)a._listeners[t](e);a._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{a.subscribe(e),t=e})).then(e);return r.cancel=function(){a.unsubscribe(t)},r},e((function(e,r,n){a.reason||(a.reason=new dt(e,r,n),t(a.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new qt((function(t){e=t})),cancel:e}}}const Vt=qt,Kt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Kt).forEach((([e,t])=>{Kt[t]=e}));const Zt=Kt,Yt=function e(t){const a=new Ht(t),r=z(Ht.prototype.request,a);return Ie.extend(r,Ht.prototype,a,{allOwnKeys:!0}),Ie.extend(r,a,null,{allOwnKeys:!0}),r.create=function(a){return e(yt(t,a))},r}(et);Yt.Axios=Ht,Yt.CanceledError=dt,Yt.CancelToken=Vt,Yt.isCancel=ct,Yt.VERSION=zt,Yt.toFormData=Re,Yt.AxiosError=Me,Yt.Cancel=Yt.CanceledError,Yt.all=function(e){return Promise.all(e)},Yt.spread=function(e){return function(t){return e.apply(null,t)}},Yt.isAxiosError=function(e){return Ie.isObject(e)&&!0===e.isAxiosError},Yt.mergeConfig=yt,Yt.AxiosHeaders=st,Yt.formToJSON=e=>Je(Ie.isHTMLForm(e)?new FormData(e):e),Yt.getAdapter=Rt,Yt.HttpStatusCode=Zt,Yt.default=Yt;const Xt=Yt,Jt={small:"256x256",medium:"512x512",large:"1024x1024"},Qt={small:"512x512",medium:"1024x1024",large:"2048x2048"};function ea(e,a){const[r,n]=(0,t.useState)(e);return(0,t.useEffect)((()=>{const t=setTimeout((()=>{n(e)}),a);return()=>clearTimeout(t)}),[e,a]),r}function ta({url:e,title:a,author:r}){return(0,t.createElement)("button",{type:"button",className:"bdt-aimg-download-btn flex items-center gap-2 h-9 px-4 bg-teal-500 text-white text-sm font-medium rounded-md border-0 cursor-pointer hover:bg-teal-600 focus:outline-none focus:ring-2 focus:ring-teal-500 focus:ring-offset-1 transition-all shadow-sm","data-url":e,"data-title":a||"","data-author":r||""},"Import",(0,t.createElement)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 24 24",className:"block"},(0,t.createElement)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4"})))}function aa({label:e,type:a,url:r,title:n,author:o}){return(0,t.createElement)("button",{type:"button","data-type":a,"data-url":r,"data-title":n||"","data-author":o||"",className:"bdt-aimg-download-btn w-full text-left py-2.5 px-3 border-0 bg-transparent text-sm font-medium cursor-pointer text-gray-700 transition-colors duration-200 flex items-center gap-2.5 hover:bg-gray-50 hover:text-gray-900"},(0,t.createElement)("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",width:18,height:18,fill:"none",viewBox:"0 0 24 24",className:"shrink-0"},(0,t.createElement)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 15v2a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3v-2m-8 1V4m0 12-4-4m4 4 4-4"})),(0,t.createElement)("span",null,e))}function ra({options:e,title:a,author:r}){const[n,o]=(0,t.useState)(!1);return(0,t.createElement)("div",{className:"relative",onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},(0,t.createElement)("button",{type:"button",className:"flex items-center justify-center h-9 px-3 rounded-md bg-gray-100 text-gray-700 border-0 cursor-pointer hover:bg-gray-200 transition-all","aria-haspopup":"true","aria-expanded":n,onClick:()=>o(!n)},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,fill:"none",viewBox:"0 0 24 24",className:"transition-transform duration-200 "+(n?"rotate-180":"")},(0,t.createElement)("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"m19 9-7 7-7-7"}))),n&&(0,t.createElement)("div",{className:"absolute right-0 bottom-full mb-2 bg-white min-w-[180px] rounded-xl shadow-xl border border-gray-200 py-2 z-50",style:{animation:"fadeInUp 0.2s ease-out"},onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)},(0,t.createElement)("div",{className:"absolute -bottom-1.5 right-4 w-3 h-3 bg-white border-r border-b border-gray-200 transform rotate-45"}),e.map((e=>(0,t.createElement)(aa,{key:e.label,label:e.label,type:e.type,url:e.url,title:a,author:r})))))}const na=({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),oa=(0,t.memo)((function({value:e,onChange:a,placeholder:r="Search images...",onSubmit:n,showSubmitButton:o=!0,submitLabel:i="Search",disabled:s=!1,providerId:l,isSearching:c=!1}){const[d,m]=(0,t.useState)(e),[u,p]=(0,t.useState)(!1),[g,h]=(0,t.useState)(-1),f=(0,t.useRef)(null),b=(0,t.useRef)(null),w=S(),y=l?w.getSearchHistory(l):[],v=l?w.addSearchToHistory:()=>{},x=l?w.clearSearchHistory:()=>{};(0,t.useEffect)((()=>{m(e)}),[e]),(0,t.useEffect)((()=>{u||h(-1)}),[u]),(0,t.useEffect)((()=>{const e=e=>{(e.ctrlKey||e.metaKey)&&"k"===e.key&&(e.preventDefault(),f.current?.focus()),"Escape"===e.key&&(p(!1),d&&(m(""),a("")),f.current?.blur())};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)}),[d,a]);const E=e=>{m(e),a(e),p(!1),f.current?.focus()},k=(d||"").trim().length>0;return(0,t.createElement)("form",{className:"relative w-full mb-6",onSubmit:e=>{e.preventDefault();const t=(d||"").trim();t&&v(l,t),p(!1),a(t),n?.()},role:"search","aria-label":r},(0,t.createElement)("div",{className:"relative flex items-center rounded-md border border-gray-200 bg-white h-[46px] focus-within:border-gray-400 focus-within:ring-1 focus-within:ring-gray-400"},(0,t.createElement)("div",{className:"pointer-events-none absolute left-3 text-gray-400"},(0,t.createElement)(na,{className:"w-4 h-4"})),(0,t.createElement)("input",{ref:f,type:"text",value:d,onChange:e=>m(e.target.value),onFocus:()=>y.length>0&&p(!0),onBlur:()=>setTimeout((()=>p(!1)),200),onKeyDown:e=>{u&&0!==y.length&&("ArrowDown"===e.key?(e.preventDefault(),h((e=>e<y.length-1?e+1:e))):"ArrowUp"===e.key?(e.preventDefault(),h((e=>e>0?e-1:-1))):"Enter"===e.key&&g>=0&&(e.preventDefault(),E(y[g])))},placeholder:r,disabled:s,className:"search-input-field","aria-label":r,"aria-describedby":u?"search-history-list":void 0,"aria-activedescendant":u&&g>=0?`history-item-${g}`:void 0,"aria-expanded":u,"aria-controls":"search-history-list"}),(0,t.createElement)("div",{className:"absolute right-1 flex items-center gap-1"},k&&!c&&(0,t.createElement)("button",{type:"button",onClick:()=>{m(""),a("")},className:"flex h-7 w-7 items-center justify-center rounded text-gray-400 hover:bg-gray-100 hover:text-gray-600 transition-colors","aria-label":"Clear search"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"}))),o&&(0,t.createElement)("button",{type:"submit",disabled:s||c,className:"flex items-center justify-center gap-1.5 rounded-md border border-gray-800 bg-gray-800 h-9 min-w-[80px] px-3 text-sm font-medium text-white hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":i},c?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},(0,t.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,t.createElement)("span",null,"Searching...")):(0,t.createElement)("span",null,i)))),u&&y.length>0&&(0,t.createElement)("div",{ref:b,id:"search-history-list",className:"absolute left-0 right-0 top-full z-20 mt-1 max-h-60 overflow-auto rounded-xl border border-gray-200 bg-white py-2 shadow-lg",role:"listbox"},(0,t.createElement)("div",{className:"flex items-center justify-between px-4 py-2 text-xs font-medium text-gray-500"},(0,t.createElement)("span",null,"Recent searches"),(0,t.createElement)("button",{type:"button",onClick:()=>x(l),className:"text-gray-800 hover:underline focus:outline-none focus:ring-2 focus:ring-gray-600 rounded",tabIndex:-1},"Clear")),y.map(((e,a)=>(0,t.createElement)("button",{key:`${a}-${e}`,id:`history-item-${a}`,type:"button",onClick:()=>E(e),onMouseEnter:()=>h(a),className:"w-full px-4 py-2.5 text-left text-sm transition-colors "+(g===a?"bg-indigo-50 text-indigo-900 font-medium":"text-gray-700 hover:bg-gray-50"),role:"option","aria-selected":g===a,tabIndex:-1},(0,t.createElement)("div",{className:"flex items-center gap-2"},(0,t.createElement)("svg",{className:"w-4 h-4 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,t.createElement)("span",null,e)))))))}));function ia({message:e="Loading..."}){return(0,t.createElement)("div",{className:"flex flex-col items-center justify-center py-12 gap-4"},(0,t.createElement)("svg",{className:"animate-spin h-10 w-10 text-ai-teal",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","aria-hidden":"true"},(0,t.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,t.createElement)("p",{className:"text-sm text-gray-600"},e))}function sa({message:e,onDismiss:a}){return e?(0,t.createElement)("div",{className:"p-4 rounded-md bg-red-50 text-red-800 text-sm flex items-center justify-between gap-4",role:"alert"},(0,t.createElement)("span",null,e),a&&(0,t.createElement)("button",{type:"button",onClick:a,className:"shrink-0 p-1 rounded hover:bg-red-100","aria-label":"Dismiss"},(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:16,height:16,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{d:"M18 6L6 18M6 6l12 12"})))):null}const la=({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})),ca=({filled:e,className:a="w-5 h-5"})=>(0,t.createElement)("svg",{className:a,fill:e?"currentColor":"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),da=(0,t.memo)((function({imageSrc:e,imageAlt:a="Image",previewUrl:r,author:n={},importUrl:o,downloadOptions:i=[],loading:s="lazy",providerId:l,imageId:c,imageData:d={},providerBadge:m,variant:u="grid",index:p=0,gifStillUrl:g,gifAnimatedUrl:h}){var f,b,w;const{url:y,avatar:v,name:x}=n,E=S(),k=null!==(f=E?.selectionMode)&&void 0!==f&&f,C=null!==(b=E?.isSelected(l,c))&&void 0!==b&&b,_=null!==(w=E?.isFavorite(l,c))&&void 0!==w&&w,A=E?.toggleSelection,N=E?.toggleFavorite,I=E?.setPreviewImage,[L,M]=(0,t.useState)(!1),[P,O]=(0,t.useState)(!1),[j,B]=(0,t.useState)(!1),U=g&&h?j?h:g:e;(0,t.useRef)(null).current={imageSrc:e,imageAlt:a,previewUrl:r,author:n,importUrl:o,downloadOptions:i,providerId:l,imageId:c,gifStillUrl:g,gifAnimatedUrl:h,providerBadge:m,index:p},(0,t.useEffect)((()=>{const e=e=>{const{direction:t,currentIndex:a}=e.detail,r=E?.previewImageList;if(!r||0===r.length)return;let n;n="next"===t?a+1>=r.length?0:a+1:a-1<0?r.length-1:a-1;const o=r[n];o&&E?.setPreviewImage&&E.setPreviewImage({...o,index:n})};return window.addEventListener("previewNavigate",e),()=>window.removeEventListener("previewNavigate",e)}),[E]);const T=t=>{if(t.preventDefault(),t.stopPropagation(),!I)return;const s=E?.previewImageList;if(s&&s.length>0&&null!=p){const e=s[p];if(e)return void I({...e,index:p})}I({imageSrc:e,imageAlt:a,previewUrl:r,author:n,importUrl:o,downloadOptions:i,providerId:l,imageId:c,gifStillUrl:g,gifAnimatedUrl:h,providerBadge:m,index:p})},z=t=>{t.preventDefault(),t.stopPropagation(),N&&N(l,c,{imageSrc:e,imageAlt:a,author:n,importUrl:o,downloadOptions:i,previewUrl:r})},D=t=>{t.preventDefault(),t.stopPropagation(),A&&A(l,c,{importUrl:o,imageSrc:e,imageAlt:a,author:n,previewUrl:r})},F=(0,t.createElement)("div",{className:"relative overflow-hidden rounded-xl bg-gray-100",onMouseEnter:()=>B(!0),onMouseLeave:()=>B(!1)},!L&&!P&&(0,t.createElement)("div",{className:"absolute inset-0 animate-pulse bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 bg-[length:200%_100%]",style:{animation:"shimmer 1.5s infinite"}}),(0,t.createElement)("img",{src:U,alt:a,loading:s,onLoad:()=>M(!0),onError:()=>O(!0),className:"w-full h-full object-cover rounded-xl transition-all duration-500 group-hover:scale-105 "+(L?"opacity-100":"opacity-0")}),P&&(0,t.createElement)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100"},(0,t.createElement)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))),g&&h&&(0,t.createElement)("div",{className:"absolute bottom-3 left-3 z-10"},(0,t.createElement)("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-md bg-black/80 text-white text-xs font-semibold shadow-sm"},(0,t.createElement)("svg",{className:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2.5},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),"GIF")),(0,t.createElement)("div",{className:"absolute inset-0 rounded-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/40"}),I&&(0,t.createElement)("button",{type:"button",onClick:T,className:"absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 scale-75 opacity-0 transition-all duration-300 ease-out group-hover:opacity-100 group-hover:scale-100 flex items-center justify-center w-12 h-12 rounded-full bg-white/95 text-gray-800 border-0 cursor-pointer hover:bg-white shadow-lg z-20 focus:outline-none focus:ring-2 focus:ring-gray-600","aria-label":"Quick preview"},(0,t.createElement)("svg",{className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"}))),(0,t.createElement)("div",{className:"absolute bottom-0 left-0 right-0 p-3 opacity-0 translate-y-2 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-300 ease-out bg-gradient-to-t from-black/60 to-transparent"},(0,t.createElement)("div",{className:"flex items-end justify-between gap-2"},(0,t.createElement)(R,{url:y,avatar:v,name:x||""}),(0,t.createElement)("div",{className:"flex items-center gap-1.5 shrink-0"},o&&(0,t.createElement)(ta,{url:o,title:a,author:x}),i.length>0&&(0,t.createElement)(ra,{options:i,title:a,author:x})))),k&&A&&null!=l&&null!=c&&(0,t.createElement)("button",{type:"button",onClick:D,className:"absolute top-3 left-3 z-10 flex h-8 w-8 items-center justify-center rounded-md border-2 bg-white/90 shadow-sm transition-transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-600","aria-label":C?"Deselect":"Select","aria-checked":C},C?(0,t.createElement)("svg",{className:"w-5 h-5 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})):(0,t.createElement)("span",{className:"block h-4 w-4 rounded border-2 border-gray-400"})),N&&null!=l&&null!=c&&(0,t.createElement)("button",{type:"button",onClick:z,className:"absolute top-3 right-3 z-10 flex h-8 w-8 items-center justify-center rounded-md bg-white/90 shadow-sm transition-all hover:scale-105 focus:outline-none focus:ring-2 focus:ring-gray-600 "+(_?"text-red-500":"text-gray-500 hover:text-red-400"),"aria-label":_?"Remove from favorites":"Add to favorites"},(0,t.createElement)(ca,{filled:_,className:"w-5 h-5"})),m&&!k&&(0,t.createElement)("span",{className:"absolute top-3 left-3 z-10 rounded-full bg-black/70 px-2.5 py-1 text-xs font-semibold text-white shadow-sm"},m));return"list"===u?(0,t.createElement)("div",{role:"listitem",className:"flex items-center gap-3 rounded-md border bg-white py-2.5 px-3 transition-colors group "+(C?"border-gray-800 ring-1 ring-gray-800/20":"border-gray-100 hover:border-gray-200 hover:bg-gray-50/50")},k&&A&&null!=l&&null!=c&&(0,t.createElement)("button",{type:"button",onClick:D,className:"flex h-5 w-5 shrink-0 items-center justify-center rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-gray-400","aria-checked":C},C?(0,t.createElement)("svg",{className:"w-3 h-3 text-gray-800",fill:"currentColor",viewBox:"0 0 20 20"},(0,t.createElement)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})):null),(0,t.createElement)("div",{className:"h-14 w-20 shrink-0 overflow-hidden rounded bg-gray-100"},(0,t.createElement)("img",{src:e,alt:a,loading:s,className:"h-full w-full object-cover"})),(0,t.createElement)("div",{className:"min-w-0 flex-1"},(0,t.createElement)("p",{className:"truncate text-sm font-medium text-gray-800"},a),(0,t.createElement)(R,{url:y,avatar:v,name:x||"",variant:"list"})),(0,t.createElement)("div",{className:"flex items-center gap-1 shrink-0"},I&&(0,t.createElement)("button",{type:"button",onClick:T,className:"p-1.5 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-100 transition-colors","aria-label":"Quick preview"},(0,t.createElement)(la,{className:"w-4 h-4"})),N&&null!=l&&null!=c&&(0,t.createElement)("button",{type:"button",onClick:z,className:"p-1.5 rounded transition-colors "+(_?"text-red-500 hover:bg-red-50":"text-gray-400 hover:text-red-400 hover:bg-gray-100"),"aria-label":_?"Remove from favorites":"Add to favorites"},(0,t.createElement)(ca,{filled:_,className:"w-4 h-4"})),o&&(0,t.createElement)(ta,{url:o,title:a,author:x}),i.length>0&&(0,t.createElement)(ra,{options:i,title:a,author:x}))):(0,t.createElement)("div",{className:"relative p-0 bg-white border border-gray-200 rounded-xl mb-6 break-inside-avoid transition-all duration-300 ease-in-out group hover:shadow-lg "+(C?"ring-2 ring-gray-600":""),role:"listitem"},F)}));function ma(){return ma=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ma.apply(this,arguments)}function ua(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function pa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ua(Object(a),!0).forEach((function(t){ga(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ua(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function ga(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class ha extends r().Component{constructor(e){let t;super(e),this.reCalculateColumnCount=this.reCalculateColumnCount.bind(this),this.reCalculateColumnCountDebounce=this.reCalculateColumnCountDebounce.bind(this),t=this.props.breakpointCols&&this.props.breakpointCols.default?this.props.breakpointCols.default:parseInt(this.props.breakpointCols)||2,this.state={columnCount:t}}componentDidMount(){this.reCalculateColumnCount(),window&&window.addEventListener("resize",this.reCalculateColumnCountDebounce)}componentDidUpdate(){this.reCalculateColumnCount()}componentWillUnmount(){window&&window.removeEventListener("resize",this.reCalculateColumnCountDebounce)}reCalculateColumnCountDebounce(){window&&window.requestAnimationFrame?(window.cancelAnimationFrame&&window.cancelAnimationFrame(this._lastRecalculateAnimationFrame),this._lastRecalculateAnimationFrame=window.requestAnimationFrame((()=>{this.reCalculateColumnCount()}))):this.reCalculateColumnCount()}reCalculateColumnCount(){const e=window&&window.innerWidth||1/0;let t=this.props.breakpointCols;"object"!=typeof t&&(t={default:parseInt(t)||2});let a=1/0,r=t.default||2;for(let n in t){const o=parseInt(n);o>0&&e<=o&&o<a&&(a=o,r=t[n])}r=Math.max(1,parseInt(r)||1),this.state.columnCount!==r&&this.setState({columnCount:r})}itemsInColumns(){const e=this.state.columnCount,t=new Array(e),a=r().Children.toArray(this.props.children);for(let r=0;r<a.length;r++){const n=r%e;t[n]||(t[n]=[]),t[n].push(a[r])}return t}renderColumns(){const{column:e,columnAttrs:t={},columnClassName:a}=this.props,n=this.itemsInColumns(),o=100/n.length+"%";let i=a;i&&"string"!=typeof i&&(this.logDeprecated('The property "columnClassName" requires a string'),void 0===i&&(i="my-masonry-grid_column"));const s=pa(pa(pa({},e),t),{},{style:pa(pa({},t.style),{},{width:o}),className:i});return n.map(((e,t)=>r().createElement("div",ma({},s,{key:t}),e)))}logDeprecated(e){console.error("[Masonry]",e)}render(){const e=this.props,{children:t,breakpointCols:a,columnClassName:n,columnAttrs:o,column:i,className:s}=e,l=function(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}(e,["children","breakpointCols","columnClassName","columnAttrs","column","className"]);let c=s;return"string"!=typeof s&&(this.logDeprecated('The property "className" requires a string'),void 0===s&&(c="my-masonry-grid")),r().createElement("div",ma({},l,{className:c}),this.renderColumns())}}ha.defaultProps={breakpointCols:void 0,className:void 0,columnClassName:void 0,children:void 0,columnAttrs:void 0,column:void 0};const fa=ha,ba=(0,t.memo)((function({children:e,className:a=""}){const{thumbnailSize:r}=S(),n="small"===r?{default:6,1536:5,1280:4,1024:3,768:2,640:1}:"large"===r?{default:3,1280:3,1024:2,768:2,640:1}:{default:4,1536:4,1280:3,768:2,640:1};return(0,t.createElement)(fa,{breakpointCols:n,className:`masonry-grid thumbnail-${r||"medium"} ${a}`,columnClassName:"masonry-grid-column",role:"list","aria-label":"Image grid"},e)}));var wa=a(848);const ya=(0,t.createContext)({});function va(e){const a=(0,t.useRef)(null);return null===a.current&&(a.current=e()),a.current}const xa="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,Ea=(0,t.createContext)(null);function ka(e){return"object"==typeof(t=e)&&null!==t&&"offsetHeight"in e;var t}const Ca=(0,t.createContext)({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});function _a(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}class Aa extends t.Component{getSnapshotBeforeUpdate(e){const t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent&&!1!==this.props.pop){const e=t.offsetParent,a=ka(e)&&e.offsetWidth||0,r=ka(e)&&e.offsetHeight||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=a-n.width-n.left,n.bottom=r-n.height-n.top}return null}componentDidUpdate(){}render(){return this.props.children}}function Na({children:e,isPresent:a,anchorX:r,anchorY:n,root:o,pop:i}){const s=(0,t.useId)(),l=(0,t.useRef)(null),c=(0,t.useRef)({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:d}=(0,t.useContext)(Ca),m=e.props?.ref??e?.ref,u=function(...e){return t.useCallback(function(...e){return t=>{let a=!1;const r=e.map((e=>{const r=_a(e,t);return a||"function"!=typeof r||(a=!0),r}));if(a)return()=>{for(let t=0;t<r.length;t++){const a=r[t];"function"==typeof a?a():_a(e[t],null)}}}}(...e),e)}(l,m);return(0,t.useInsertionEffect)((()=>{const{width:e,height:t,top:m,left:u,right:p,bottom:g}=c.current;if(a||!1===i||!l.current||!e||!t)return;const h="left"===r?`left: ${u}`:`right: ${p}`,f="bottom"===n?`bottom: ${g}`:`top: ${m}`;l.current.dataset.motionPopId=s;const b=document.createElement("style");d&&(b.nonce=d);const w=o??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`\n          [data-motion-pop-id="${s}"] {\n            position: absolute !important;\n            width: ${e}px !important;\n            height: ${t}px !important;\n            ${h}px !important;\n            ${f}px !important;\n          }\n        `),()=>{w.contains(b)&&w.removeChild(b)}}),[a]),(0,wa.jsx)(Aa,{isPresent:a,childRef:l,sizeRef:c,pop:i,children:!1===i?e:t.cloneElement(e,{ref:u})})}const Sa=({children:e,initial:a,isPresent:r,onExitComplete:n,custom:o,presenceAffectsLayout:i,mode:s,anchorX:l,anchorY:c,root:d})=>{const m=va(Ia),u=(0,t.useId)();let p=!0,g=(0,t.useMemo)((()=>(p=!1,{id:u,initial:a,isPresent:r,custom:o,onExitComplete:e=>{m.set(e,!0);for(const e of m.values())if(!e)return;n&&n()},register:e=>(m.set(e,!1),()=>m.delete(e))})),[r,m,n]);return i&&p&&(g={...g}),(0,t.useMemo)((()=>{m.forEach(((e,t)=>m.set(t,!1)))}),[r]),t.useEffect((()=>{!r&&!m.size&&n&&n()}),[r]),e=(0,wa.jsx)(Na,{pop:"popLayout"===s,isPresent:r,anchorX:l,anchorY:c,root:d,children:e}),(0,wa.jsx)(Ea.Provider,{value:g,children:e})};function Ia(){return new Map}const La=e=>e.key||"";function Ma(e){const a=[];return t.Children.forEach(e,(e=>{(0,t.isValidElement)(e)&&a.push(e)})),a}const Pa=({children:e,custom:a,initial:r=!0,onExitComplete:n,presenceAffectsLayout:o=!0,mode:i="sync",propagate:s=!1,anchorX:l="left",anchorY:c="top",root:d})=>{const[m,u]=function(e=!0){const a=(0,t.useContext)(Ea);if(null===a)return[!0,null];const{isPresent:r,onExitComplete:n,register:o}=a,i=(0,t.useId)();(0,t.useEffect)((()=>{if(e)return o(i)}),[e]);const s=(0,t.useCallback)((()=>e&&n&&n(i)),[i,n,e]);return!r&&n?[!1,s]:[!0]}(s),p=(0,t.useMemo)((()=>Ma(e)),[e]),g=s&&!m?[]:p.map(La),h=(0,t.useRef)(!0),f=(0,t.useRef)(p),b=va((()=>new Map)),w=(0,t.useRef)(new Set),[y,v]=(0,t.useState)(p),[x,E]=(0,t.useState)(p);xa((()=>{h.current=!1,f.current=p;for(let e=0;e<x.length;e++){const t=La(x[e]);g.includes(t)?(b.delete(t),w.current.delete(t)):!0!==b.get(t)&&b.set(t,!1)}}),[x,g.length,g.join("-")]);const k=[];if(p!==y){let e=[...p];for(let t=0;t<x.length;t++){const a=x[t],r=La(a);g.includes(r)||(e.splice(t,0,a),k.push(a))}return"wait"===i&&k.length&&(e=k),E(Ma(e)),v(p),null}const{forceRender:C}=(0,t.useContext)(ya);return(0,wa.jsx)(wa.Fragment,{children:x.map((e=>{const t=La(e),y=!(s&&!m)&&(p===x||g.includes(t));return(0,wa.jsx)(Sa,{isPresent:y,initial:!(h.current&&!r)&&void 0,custom:a,presenceAffectsLayout:o,mode:i,root:d,onExitComplete:y?void 0:()=>{if(w.current.has(t))return;if(w.current.add(t),!b.has(t))return;b.set(t,!0);let e=!0;b.forEach((t=>{t||(e=!1)})),e&&(C?.(),E(f.current),s&&u?.(),n&&n())},anchorX:l,anchorY:c,children:e},t)}))})},Oa=(0,t.memo)((function({children:e,className:a=""}){return(0,t.createElement)(Pa,{mode:"popLayout"},(0,t.createElement)("div",{className:`flex flex-col gap-2 ${a}`,role:"list","aria-label":"Image list"},e))}));function ja({className:e=""}){return(0,t.createElement)("div",{className:`animate-pulse rounded-xl bg-gray-200 ${e}`,"aria-hidden":"true"})}function Ba({count:e=12}){return(0,t.createElement)("div",{className:"columns-1 gap-8 md:columns-2 xl:columns-3 2xl:columns-4 [&>*]:break-inside-avoid [&>*]:mb-8",role:"presentation"},Array.from({length:e},((e,a)=>(0,t.createElement)("div",{key:a,className:"rounded-xl overflow-hidden break-inside-avoid"},(0,t.createElement)(ja,{className:"aspect-[4/3] w-full"}),(0,t.createElement)("div",{className:"mt-2 flex gap-2"},(0,t.createElement)(ja,{className:"h-4 w-12"}),(0,t.createElement)(ja,{className:"h-4 flex-1"}))))))}function Ra({count:e=8}){return(0,t.createElement)("div",{className:"flex flex-col gap-2",role:"presentation"},Array.from({length:e},((e,a)=>(0,t.createElement)("div",{key:a,className:"flex items-center gap-4 rounded-md border border-gray-200 bg-white p-3"},(0,t.createElement)(ja,{className:"h-16 w-24 shrink-0 rounded-md"}),(0,t.createElement)(ja,{className:"h-4 w-32"}),(0,t.createElement)(ja,{className:"h-4 w-24"}),(0,t.createElement)(ja,{className:"h-4 w-16 ml-auto"})))))}const Ua=(0,t.memo)((function({variant:e="grid",count:a}){const r=null!=a?a:"list"===e?8:12;return"list"===e?(0,t.createElement)(Ra,{count:r}):(0,t.createElement)(Ba,{count:r})})),Ta={search:(0,t.createElement)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),heart:(0,t.createElement)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),history:(0,t.createElement)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})),settings:(0,t.createElement)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"})),image:(0,t.createElement)("svg",{className:"w-16 h-16 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))},za={noResults:{icon:"search",title:"No images found",description:e=>e?`No images found for "${e}". Try different keywords or clear filters.`:"Try different keywords or clear filters.",actionLabel:"Clear filters"},noFavorites:{icon:"heart",title:"No favorites yet",description:()=>"Images you favorite will appear here.",actionLabel:null},noHistory:{icon:"history",title:"No search history",description:()=>"Your recent searches will appear here.",actionLabel:null},providerDisabled:{icon:"settings",title:"Provider disabled",description:()=>"Enable this source in Dashboard  Image sources.",actionLabel:"Open Dashboard",actionHref:()=>"undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig.settings_url:"#"}},Da=(0,t.memo)((function({variant:e="noResults",query:a="",onAction:r,className:n=""}){const o=za[e]||za.noResults,i=Ta[o.icon]||Ta.search,s="function"==typeof o.description?o.description(a):o.description;return(0,t.createElement)("div",{className:`flex flex-col items-center justify-center rounded-xl border border-gray-200 bg-gray-50/50 py-12 px-6 text-center ${n}`,role:"status","aria-live":"polite"},(0,t.createElement)("div",{className:"mb-4"},i),(0,t.createElement)("h3",{className:"text-lg font-semibold text-gray-800"},o.title),(0,t.createElement)("p",{className:"mt-1 max-w-sm text-sm text-gray-500"},s),o.actionLabel&&(0,t.createElement)("div",{className:"mt-4"},o.actionHref?(0,t.createElement)("a",{href:o.actionHref(),className:"inline-flex items-center rounded-md bg-gray-800 px-4 py-2 text-sm font-medium text-white hover:bg-gray-900"},o.actionLabel):(0,t.createElement)("button",{type:"button",onClick:r,className:"inline-flex items-center rounded-md bg-gray-800 px-4 py-2 text-sm font-medium text-white hover:bg-gray-900"},o.actionLabel)))})),Fa="imgs/ChatGPT_logo.svg.png",Ga="openai",$a="imgs/gemini-logo.png";function Wa(e=1,a={}){const r=(0,t.useRef)(!0),n=(0,t.useRef)(!1),o=a.hasMoreRef||r,i=a.loadingRef||n,[s,l]=(0,t.useState)(e),c=(0,t.useRef)(null);null==a.hasMoreRef&&void 0!==a.hasMore&&(r.current=a.hasMore),null==a.loadingRef&&void 0!==a.loading&&(n.current=a.loading);const d=(0,t.useCallback)((()=>{l((e=>e+1))}),[]),m=(0,t.useCallback)(((e=1)=>{l(e)}),[]);return(0,t.useEffect)((()=>{const e=c.current;if(!e)return;const t=new IntersectionObserver((e=>{const[t]=e;t?.isIntersecting&&o.current&&!i.current&&d()}),{rootMargin:"200px",threshold:0});return t.observe(e),()=>t.disconnect()}),[d]),{page:s,setPage:l,loadMore:d,resetPage:m,observerTarget:c}}function Ha(e,a,r={},n=30){const[o,i]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)(null),[p,g]=(0,t.useState)(!0),h=r.orientation||r.color,f=""!==e.trim()||h,b=(0,t.useCallback)((async()=>{try{1===a?l(!0):d(!0),u(null);const t="https://api.pexels.com/v1/"+(f?"search":"curated"),o=e.trim()||(h?"photo":""),s={page:a,per_page:n,...f&&{query:o},...r.orientation&&""!==r.orientation&&{orientation:r.orientation},...r.color&&""!==r.color&&{color:r.color}},c=await Xt.get(t,{params:s,headers:{Authorization:"l7Pk56fQ7sjfslcgFBUXVuggY5sZ2EIRLtSvM1pBwLyzpIWjdQ93gVpH"}});if(c.data&&c.data.photos){const e=c.data.photos;g(e.length>=n),i((t=>1===a?e:[...t,...e]))}}catch(e){console.error(" Pexels API Error:",e.response?.data||e.message||e),u(e.response?.data?.error||e.message||"Error fetching images.")}finally{l(!1),d(!1)}}),[e,a,f,h,r.orientation,r.color,n]);return(0,t.useEffect)((()=>{b()}),[b]),{images:o,loading:s,scrollLoading:c,error:m,hasMore:p}}const qa="pexels";function Va(e,a,r={},n=30){const[o,i]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)(null),[p,g]=(0,t.useState)(!0),h=(0,t.useCallback)((async()=>{try{1===a?l(!0):d(!0),u(null);const t=await Xt.get("https://pixabay.com/api/",{params:{key:"27427772-5e3b7770787f4e0e591d5d2eb",q:e,image_type:r.imageType||"all",page:a,per_page:n,pretty:!0,order:r.order||"popular",...r.orientation&&{orientation:r.orientation},...r.color&&{colors:r.color},...r.category&&{category:r.category}}});if(t.data&&t.data.hits){const e=t.data.hits;g(e.length>=n),i((t=>1===a?e:[...t,...e]))}}catch(e){u(e.message||"Error fetching images.")}finally{l(!1),d(!1)}}),[e,a,r.orientation,r.imageType,r.color,r.order,r.category,n]);return(0,t.useEffect)((()=>{h()}),[h]),{images:o,loading:s,scrollLoading:c,error:m,hasMore:p}}const Ka="pixabay";function Za(e,a,r={},n=30){const[o,i]=(0,t.useState)(""),[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[m,u]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[f,b]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=p("unsplash");if(!e)return h("Add your Unsplash Access Key in Settings  AI Image to use this source."),void d(!1);try{const t=await Xt.get(e,{withCredentials:!0}),a=t.data?.data?.api_key;a&&"string"==typeof a&&a.trim()?i(a.trim()):(h("Add your Unsplash Access Key in Settings  AI Image to use this source."),d(!1))}catch(e){h("Add your Unsplash Access Key in Settings  AI Image to use this source."),d(!1)}})()}),[]);const w=(0,t.useCallback)((async()=>{if(o)try{1===a?d(!0):u(!0),h(null);const t=e.trim()?"search/photos":"photos",i=r.order||"latest",s=e.trim()?{query:e,page:a,per_page:n,order_by:i,...r.orientation&&{orientation:r.orientation},...r.color&&{color:r.color}}:{page:a,per_page:n,order_by:i,...r.orientation&&{orientation:r.orientation},...r.color&&{color:r.color}},c=await Xt.get(`https://api.unsplash.com/${t}`,{params:s,headers:{Authorization:`Client-ID ${o}`}}),m=e.trim()?c.data?.results||[]:Array.isArray(c.data)?c.data:[];b(m.length>=n),l((e=>1===a?m:[...e,...m]))}catch(e){h(e.response?.data?.errors?.[0]||e.message||"Error fetching images.")}finally{d(!1),u(!1)}else d(!1)}),[o,e,a,r.orientation,r.color,r.order,n]);return(0,t.useEffect)((()=>{o?w():""===o&&g&&d(!1)}),[w,o,g]),{images:s,loading:c,scrollLoading:m,error:g,hasMore:f}}const Ya="unsplash";function Xa(e,a,r={},n=30){const[o,i]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)(!1),[m,u]=(0,t.useState)(null),[p,g]=(0,t.useState)(!0),h=(0,t.useCallback)((async()=>{try{1===a?l(!0):d(!0),u(null);const t={cc0:"cc0",public_domain:"pdm",attribution:"by,by-sa,by-nd"},o=r.license&&t[r.license]?t[r.license]:void 0,s={page_size:n,page:a,...e.trim()&&{q:e},...o&&{license:o},...r.source&&{source:r.source},...r.orientation&&{aspect_ratio:r.orientation}},c=await Xt.get("https://api.openverse.org/v1/images/",{params:s}),m=c.data?.results||[];g(m.length>=n),i((e=>1===a?m:[...e,...m]))}catch(e){u(e.message||"Error fetching images.")}finally{l(!1),d(!1)}}),[e,a,r.license,r.source,r.orientation,n]);return(0,t.useEffect)((()=>{h()}),[h]),{images:o,loading:s,scrollLoading:c,error:m,hasMore:p}}const Ja="openverse";function Qa(e,a,r={},n=30){const[o,i]=(0,t.useState)(""),[s,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!0),[m,u]=(0,t.useState)(!1),[g,h]=(0,t.useState)(null),[f,b]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>{const e=p("giphy");if(!e)return h("Add your Giphy API Key in Settings  AI Image to use this source."),void d(!1);try{const t=await Xt.get(e,{withCredentials:!0}),a=t.data?.data?.api_key;a&&"string"==typeof a&&a.trim()?i(a.trim()):(h("Add your Giphy API Key in Settings  AI Image to use this source."),d(!1))}catch(e){h("Add your Giphy API Key in Settings  AI Image to use this source."),d(!1)}})()}),[]);const w=(0,t.useCallback)((async()=>{if(o)try{1===a?d(!0):u(!0),h(null);const t=(a-1)*n,i=""!==e.trim(),s=i?"gifs/search":"gifs/trending",c={api_key:o,limit:n,offset:t,rating:r.rating||"g",...i&&{q:e.trim()}},m=await Xt.get(`https://api.giphy.com/v1/${s}`,{params:c}),p=m.data?.data||[];b(p.length>=n),l((e=>1===a?p:[...e,...p]))}catch(e){h(e.response?.data?.message||e.message||"Error fetching GIFs.")}finally{d(!1),u(!1)}else d(!1)}),[o,e,a,r.rating,n]);return(0,t.useEffect)((()=>{o?w():""===o&&g&&d(!1)}),[w,o,g]),{images:s,loading:c,scrollLoading:m,error:g,hasMore:f}}const er="giphy",tr="global",ar={pexels:{name:"Pexels",color:"#05a081"},pixabay:{name:"Pixabay",color:"#2ec66d"},unsplash:{name:"Unsplash",color:"#000000"},openverse:{name:"Openverse",color:"#c52b9b"},giphy:{name:"Giphy",color:"#00ff99"}},rr={global:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})),color:"indigo",description:"Search across all enabled providers at once"},favorites:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"})),color:"pink",description:"Your saved favorites"},pexels:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})),color:"blue",description:"High-quality stock photos"},pixabay:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})),color:"green",description:"Free images and videos"},unsplash:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 13v4a2 2 0 01-2 2H7a2 2 0 01-2-2v-4M14 12v.01"})),color:"purple",description:"Beautiful free images"},openverse:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 01-9 9m9-9a9 9 0 00-9-9m9 9H3m9 9a9 9 0 01-9-9m9 9c1.657 0 3-4.03 3-9s-1.343-9-3-9m0 18c-1.657 0-3-4.03-3-9s1.343-9 3-9m-9 9a9 9 0 019-9"})),color:"orange",description:"Open-licensed content"},giphy:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),color:"pink",description:"Animated GIFs",badge:"NEW"},openai:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})),color:"indigo",description:"AI-generated images"},gemini:{icon:({className:e="w-5 h-5"})=>(0,t.createElement)("svg",{className:e,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"})),color:"blue",description:"Google Gemini AI images",badge:"NEW"}},nr={id:"global",label:"Global Search",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:o,itemsPerPage:i,loadMoreMode:s,getFilters:l,selectAll:c,setPreviewImageList:d}=S(),{settings:m}=function(){const e=(0,t.useContext)(n);if(!e)throw new Error("useApp must be used within AppProvider");return e}(),u=l(tr),p=(0,t.useRef)(!0),g=(0,t.useRef)(!1),[h,f]=(0,t.useState)(!1),{page:b,loadMore:w,resetPage:y,observerTarget:v}=Wa(1,{hasMoreRef:p,loadingRef:g}),x="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},E=x.provider_enabled||{},k={pexels:!1!==E.pexels,pixabay:!1!==E.pixabay,unsplash:!1!==E.unsplash,openverse:!1!==E.openverse,giphy:!1!==E.giphy},C=x.provider_order||["pexels","pixabay","unsplash","openverse","giphy"],_={};C.forEach(((e,t)=>{_[e]=t}));const A=k.pexels?Ha(r,b,u,i):{images:[],loading:!1,scrollLoading:!1,error:null,hasMore:!1},N=k.pixabay?Va(r||"",b,u,i):{images:[],loading:!1,scrollLoading:!1,error:null,hasMore:!1},I=k.unsplash?Za(r,b,u,i):{images:[],loading:!1,scrollLoading:!1,error:null,hasMore:!1},L=k.openverse?Xa(r||"",b,u,i):{images:[],loading:!1,scrollLoading:!1,error:null,hasMore:!1},M=k.giphy?Qa(r,b,u,i):{images:[],loading:!1,scrollLoading:!1,error:null,hasMore:!1};(0,t.useEffect)((()=>{y(1)}),[r,u.color,u.license,u.rating,u.order,u.source,u.category,y]);const P=[];k.pexels&&A.images&&A.images.forEach((e=>{P.push({provider:"pexels",id:e.id,data:e,imageSrc:e.src?.large||e.src?.medium||e.src?.original,imageAlt:e.alt||"Pexels image",previewUrl:e.url,author:{name:e.photographer,url:e.photographer_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.photographer)}&background=random`},importUrl:e.src?.large||e.src?.original,downloadOptions:[{label:"Original",url:e.src?.original},{label:"Large",url:e.src?.large2x},{label:"Medium",url:e.src?.large},{label:"Small",url:e.src?.medium}].filter((e=>e.url))})})),k.pixabay&&N.images&&N.images.forEach((e=>{P.push({provider:"pixabay",id:e.id,data:e,imageSrc:e.webformatURL,imageAlt:e.tags||"Pixabay image",previewUrl:e.pageURL,author:{name:e.user,url:`https://pixabay.com/users/${e.user}-${e.user_id}/`,avatar:e.userImageURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.user)}&background=random`},importUrl:e.largeImageURL,downloadOptions:[{label:"Large",url:e.largeImageURL},{label:"Medium",url:e.webformatURL}].filter((e=>e.url))})})),k.unsplash&&I.images&&I.images.forEach((e=>{P.push({provider:"unsplash",id:e.id,data:e,imageSrc:e.urls?.regular||e.urls?.small,imageAlt:e.alt_description||e.description||"Unsplash image",previewUrl:e.links?.html,author:{name:e.user?.name||e.user?.username,url:e.user?.links?.html,avatar:e.user?.profile_image?.medium||e.user?.profile_image?.small},importUrl:e.urls?.regular||e.urls?.full,downloadOptions:[{label:"Full",url:e.urls?.full},{label:"Regular",url:e.urls?.regular},{label:"Small",url:e.urls?.small}].filter((e=>e.url))})})),k.openverse&&L.images&&L.images.forEach((e=>{P.push({provider:"openverse",id:e.id,data:e,imageSrc:e.thumbnail||e.url,imageAlt:e.title||"Openverse image",previewUrl:e.foreign_landing_url,author:{name:e.creator||"Unknown",url:e.creator_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||"Unknown")}&background=random`},importUrl:e.url,downloadOptions:[{label:"Original",url:e.url}]})})),k.giphy&&M.images&&M.images.forEach((e=>{const t=e.images?.original?.url,a=e.images?.downsized?.url;P.push({provider:"giphy",id:e.id,data:e,imageSrc:t||a||e.images?.fixed_width?.url,imageAlt:e.title||"GIF",previewUrl:e.url,author:{name:e.username||"Giphy",url:e.username?`https://giphy.com/${e.username}`:"https://giphy.com",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.username||"Giphy")}&background=random`},importUrl:t,downloadOptions:[{label:"Original",url:t},{label:"Downsized",url:a}].filter((e=>e.url)),gifStillUrl:e.images?.fixed_height_still?.url||e.images?.fixed_width_still?.url,gifAnimatedUrl:e.images?.fixed_height?.url||e.images?.fixed_width?.url||t})})),P.sort(((e,t)=>(void 0!==_[e.provider]?_[e.provider]:999)-(void 0!==_[t.provider]?_[t.provider]:999))),(0,t.useEffect)((()=>{if(P.length>0){const e=P.map(((e,t)=>({imageSrc:e.imageSrc,imageAlt:e.imageAlt,previewUrl:e.previewUrl,author:e.author,importUrl:e.importUrl,downloadOptions:e.downloadOptions,providerId:e.provider,imageId:String(e.id),providerBadge:ar[e.provider]?.name,index:t,gifStillUrl:e.gifStillUrl,gifAnimatedUrl:e.gifAnimatedUrl})));d(e)}}),[P.length,d]);const O=k.pexels&&A.loading||k.pixabay&&N.loading||k.unsplash&&I.loading||k.openverse&&L.loading||k.giphy&&M.loading,j=h||k.pexels&&A.scrollLoading||k.pixabay&&N.scrollLoading||k.unsplash&&I.scrollLoading||k.openverse&&L.scrollLoading||k.giphy&&M.scrollLoading,B=k.pexels&&A.error||k.pixabay&&N.error||k.unsplash&&I.error||k.openverse&&L.error||k.giphy&&M.error,R=k.pexels&&A.hasMore||k.pixabay&&N.hasMore||k.unsplash&&I.hasMore||k.openverse&&L.hasMore||k.giphy&&M.hasMore,U=!O&&0===P.length;return(0,t.useEffect)((()=>{p.current="auto"===s&&R,g.current=j}),[R,j,b,P.length,s]),(0,t.useEffect)((()=>{!(k.pexels&&A.scrollLoading||k.pixabay&&N.scrollLoading||k.unsplash&&I.scrollLoading||k.openverse&&L.scrollLoading||k.giphy&&M.scrollLoading)&&h&&f(!1)}),[A.scrollLoading,N.scrollLoading,I.scrollLoading,L.scrollLoading,M.scrollLoading,h,k]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===tr&&P.length>0){const e={};P.forEach((t=>{const a=`${t.provider}:${t.id}`;e[a]={importUrl:t.importUrl,imageSrc:t.imageSrc,imageAlt:t.imageAlt,author:t.author,previewUrl:t.previewUrl}})),P.map((e=>({providerId:e.provider,imageId:String(e.id)}))),P.forEach((t=>{const a=`${t.provider}:${t.id}`,r=e[a];r&&c(t.provider,[String(t.id)],{[a]:r})}))}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[P,c]),(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e)},placeholder:"Search across all providers...",providerId:tr,isSearching:O&&r.length>0}),O&&0===P.length&&(0,t.createElement)(Ua,{count:15,variant:o}),B&&0===P.length&&(0,t.createElement)(sa,null,"Error loading images from one or more providers. Please try again."),U&&(0,t.createElement)(Da,{variant:"no_results",title:"No images found",description:"Try a different search term or check if at least one provider is enabled in settings."}),P.length>0&&(0,t.createElement)(t.Fragment,null,"list"===o?(0,t.createElement)(Oa,null,P.map(((e,a)=>(0,t.createElement)(da,{key:`${e.provider}-${e.id}`,index:a,imageSrc:e.imageSrc,imageAlt:e.imageAlt,previewUrl:e.previewUrl,author:e.author,importUrl:e.importUrl,downloadOptions:e.downloadOptions,providerId:e.provider,imageId:String(e.id),imageData:e.data,providerBadge:ar[e.provider]?.name,variant:"list",gifStillUrl:e.gifStillUrl,gifAnimatedUrl:e.gifAnimatedUrl})))):(0,t.createElement)(ba,null,P.map(((e,a)=>(0,t.createElement)(da,{key:`${e.provider}-${e.id}`,index:a,imageSrc:e.imageSrc,imageAlt:e.imageAlt,previewUrl:e.previewUrl,author:e.author,importUrl:e.importUrl,downloadOptions:e.downloadOptions,providerId:e.provider,imageId:String(e.id),gifStillUrl:e.gifStillUrl,gifAnimatedUrl:e.gifAnimatedUrl,imageData:e.data,providerBadge:ar[e.provider]?.name,variant:"grid"})))),"auto"===s&&(0,t.createElement)("div",{ref:v,className:"h-20 w-full flex items-center justify-center",style:{minHeight:"80px"}}),j&&(0,t.createElement)("div",{className:"mt-8 mb-4"},(0,t.createElement)(Ua,{count:8,variant:o})),!j&&R&&(0,t.createElement)("div",{className:"mt-8 mb-4 flex justify-center"},(0,t.createElement)("button",{onClick:()=>{f(!0),w()},disabled:h,className:"inline-flex items-center gap-2 px-6 py-3 bg-gray-800 text-white text-sm font-semibold rounded-md hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 transition-all shadow-sm hover:shadow-md disabled:opacity-50 disabled:cursor-not-allowed"},h?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"w-5 h-5 animate-spin",fill:"none",viewBox:"0 0 24 24"},(0,t.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),"Loading..."):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})),"Load More Images"))),!R&&!j&&(0,t.createElement)("div",{className:"mt-8 mb-4 text-center"},(0,t.createElement)("p",{className:"text-sm text-gray-500"},"No more images to load. Showing all ",P.length," results from all providers."))))}},or={id:"favorites",label:"Favorites",component:function(){const{viewMode:e,getFavoritesList:a,selectAll:r,setPreviewImageList:n}=S(),o=a();if((0,t.useEffect)((()=>{if(o.length>0){const e=o.map(((e,t)=>({imageSrc:e.imageSrc||e.urls?.regular||e.url,imageAlt:e.imageAlt||e.title||e.alt_description||"Favorite",previewUrl:e.previewUrl||e.url||e.links?.html,author:e.author||{url:e.creator_url||e.user?.links?.html,avatar:e.photographer_avatar||e.user?.profile_image?.small||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||e.photographer||e.user?.name||"?")}&size=64`,name:e.creator||e.photographer||e.user?.name||e.user?.username},importUrl:e.importUrl||e.url||e.src?.original||e.urls?.full,downloadOptions:e.downloadOptions||[],providerId:e.providerId,imageId:String(e.imageId||e.id),providerBadge:e.providerId?e.providerId.charAt(0).toUpperCase()+e.providerId.slice(1):void 0,index:t})));n(e)}else n([])}),[o,n]),(0,t.useEffect)((()=>{const e=e=>{if("favorites"===e.detail.providerId&&o.length>0){const e={};o.forEach((t=>{const a=String(t.imageId||t.id),r=`${t.providerId}:${a}`;e[r]={importUrl:t.importUrl||t.url||t.src?.original||t.urls?.full,imageSrc:t.imageSrc||t.urls?.regular||t.url,imageAlt:t.imageAlt||t.title||t.alt_description||"Favorite",author:t.author||{url:t.creator_url||t.user?.links?.html,avatar:t.photographer_avatar||t.user?.profile_image?.small||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.creator||t.photographer||t.user?.name||"?")}&size=64`,name:t.creator||t.photographer||t.user?.name||t.user?.username},previewUrl:t.previewUrl||t.url||t.links?.html}}));const t={};o.forEach((a=>{const r=a.providerId,n=String(a.imageId||a.id);t[r]||(t[r]={ids:[],data:{}}),t[r].ids.push(n),t[r].data[`${r}:${n}`]=e[`${r}:${n}`]})),Object.entries(t).forEach((([e,{ids:t,data:a}])=>{r(e,t,a)}))}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[o,r]),0===o.length)return(0,t.createElement)(Da,{variant:"noFavorites"});const i=e=>{const t=e.imageSrc||e.urls?.regular||e.url,a=e.imageAlt||e.title||e.alt_description||"Favorite",r=e.author||{url:e.creator_url||e.user?.links?.html,avatar:e.photographer_avatar||e.user?.profile_image?.small||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||e.photographer||e.user?.name||"?")}&size=64`,name:e.creator||e.photographer||e.user?.name||e.user?.username},n=e.importUrl||e.url||e.src?.original||e.urls?.full,o=e.downloadOptions||[],i=e.previewUrl||e.url||e.links?.html;return{providerId:e.providerId,imageId:String(e.imageId||e.id),imageData:e,imageSrc:t,imageAlt:a,previewUrl:i,author:r,importUrl:n,downloadOptions:o,providerBadge:e.providerId?e.providerId.charAt(0).toUpperCase()+e.providerId.slice(1):void 0}};return"list"===e?(0,t.createElement)(Oa,null,o.map(((e,a)=>(0,t.createElement)(da,{key:`${e.providerId}-${e.imageId||e.id}-${a}`,index:a,variant:"list",...i(e)})))):(0,t.createElement)(ba,null,o.map(((e,a)=>(0,t.createElement)(da,{key:`${e.providerId}-${e.imageId||e.id}-${a}`,index:a,...i(e)}))))}},ir={pexels:{id:"pexels",label:"Pexels",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:n,itemsPerPage:o,loadMoreMode:i,getFilters:s,selectAll:l,setPreviewImageList:c}=S(),d=s(qa),m=(0,t.useRef)(!0),u=(0,t.useRef)(!1),{page:p,loadMore:g,resetPage:h,observerTarget:f}=Wa(1,{hasMoreRef:m,loadingRef:u}),{images:b,loading:w,scrollLoading:y,error:v,hasMore:x}=Ha(r,p,d,o);(0,t.useEffect)((()=>{m.current="auto"===i&&x,u.current=y}),[x,y,i]),(0,t.useEffect)((()=>{h(1)}),[d.orientation,d.color,d.order,o,h]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===qa&&b.length>0){const e={};b.forEach((t=>{const a=`${qa}:${t.id}`;e[a]={importUrl:t.src?.original,imageSrc:t.src?.original,imageAlt:t.alt||"Pexels photo",author:{url:t.photographer_url,avatar:t.photographer_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.photographer||"")}&background=random&size=64`,name:t.photographer},previewUrl:t.url}})),l(qa,b.map((e=>String(e.id))),e)}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[b,l]),(0,t.useEffect)((()=>{if(b.length>0){const e=b.map(((e,t)=>({imageSrc:e.src?.original,imageAlt:e.alt||"Pexels photo",previewUrl:e.url,author:{url:e.photographer_url,avatar:e.photographer_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.photographer||"")}&background=random&size=64`,name:e.photographer},importUrl:e.src?.original,downloadOptions:[{label:"Original",type:"original",url:e.src?.original},{label:"Large",type:"large",url:e.src?.large2x||e.src?.large},{label:"Medium",type:"medium",url:e.src?.medium}].filter((e=>e.url)),providerId:qa,imageId:String(e.id),providerBadge:"Pexels",index:t})));c(e)}}),[b,c]);const E=!w&&!v&&0===b.length;return(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e),h(1)},placeholder:"Search images...",showSubmitButton:!0,providerId:qa,isSearching:w&&r.length>0}),(0,t.createElement)(sa,{message:v}),w?(0,t.createElement)(Ua,{variant:n}):E?(0,t.createElement)(Da,{variant:"noResults",query:r||void 0}):"list"===n?(0,t.createElement)(Oa,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:qa,imageId:String(e.id),imageData:e,imageSrc:e.src?.original,imageAlt:e.alt||"Pexels photo",previewUrl:e.url,author:{url:e.photographer_url,avatar:e.photographer_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.photographer||"")}&background=random&size=64`,name:e.photographer},importUrl:e.src?.original,downloadOptions:[{label:"Original",type:"original",url:e.src?.original},{label:"Large",type:"large",url:e.src?.large},{label:"Medium",type:"medium",url:e.src?.medium},{label:"Small",type:"small",url:e.src?.small},{label:"Tiny",type:"tiny",url:e.src?.tiny}].filter((e=>e?.url)),variant:"list",providerBadge:"Pexels"})))):(0,t.createElement)(ba,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:qa,imageId:String(e.id),imageData:e,imageSrc:e.src?.original,imageAlt:e.alt||"Pexels photo",previewUrl:e.url,author:{url:e.photographer_url,avatar:e.photographer_avatar||`https://ui-avatars.com/api/?name=${encodeURIComponent(e.photographer||"")}&background=random&size=64`,name:e.photographer},importUrl:e.src?.original,downloadOptions:[{label:"Original",type:"original",url:e.src?.original},{label:"Large",type:"large",url:e.src?.large},{label:"Medium",type:"medium",url:e.src?.medium},{label:"Small",type:"small",url:e.src?.small},{label:"Tiny",type:"tiny",url:e.src?.tiny}].filter((e=>e?.url)),providerBadge:"Pexels"})))),"auto"===i&&(0,t.createElement)("div",{ref:f,className:"h-4","aria-hidden":"true"}),"manual"===i&&!w&&x&&b.length>0&&(0,t.createElement)("div",{className:"text-center mt-6"},(0,t.createElement)("button",{type:"button",onClick:g,disabled:y,className:"px-5 py-2.5 text-sm font-medium text-white rounded-xl bg-gray-800 hover:bg-gray-900 disabled:opacity-50"},y?"Loading more...":"Load More")),y&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500","aria-live":"polite"},"Loading more images..."),!w&&!y&&b.length>0&&!x&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500"},"No more results."))}},pixabay:{id:"pixabay",label:"Pixabay",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:n,itemsPerPage:o,loadMoreMode:i,getFilters:s,selectAll:l,setPreviewImageList:c}=S(),d=s(Ka),m=(0,t.useRef)(!0),u=(0,t.useRef)(!1),{page:p,loadMore:g,resetPage:h,observerTarget:f}=Wa(1,{hasMoreRef:m,loadingRef:u}),{images:b,loading:w,scrollLoading:y,error:v,hasMore:x}=Va(r,p,d,o);(0,t.useEffect)((()=>{m.current="auto"===i&&x,u.current=y}),[x,y,i]),(0,t.useEffect)((()=>{h(1)}),[d.orientation,d.imageType,d.color,d.order,d.category,o,h]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===Ka&&b.length>0){const e={};b.forEach((t=>{const a=`${Ka}:${t.id}`;e[a]={importUrl:t.largeImageURL,imageSrc:t.webformatURL,imageAlt:t.tags||"Pixabay image",author:{url:`https://pixabay.com/users/${t.user}-${t.user_id}/`,avatar:t.userImageURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(t.user)}&background=random`,name:t.user},previewUrl:t.pageURL}})),l(Ka,b.map((e=>String(e.id))),e)}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[b,l]),(0,t.useEffect)((()=>{if(b.length>0){const e=b.map(((e,t)=>({imageSrc:e.largeImageURL||e.webformatURL,imageAlt:e.tags||"Pixabay photo",previewUrl:e.pageURL,author:{url:`https://pixabay.com/users/${e.user}-${e.user_id}`,avatar:e.userImageURL||`${AI_IMAGE_AdminConfig.assets_url}imgs/avatar-human.svg`,name:e.user},importUrl:e.largeImageURL,downloadOptions:[{label:"Large",type:"large",url:e.largeImageURL},{label:"Medium",type:"medium",url:e.webformatURL},{label:"Small",type:"small",url:e.previewURL}].filter((e=>e.url)),providerId:Ka,imageId:String(e.id),providerBadge:"Pixabay",index:t})));c(e)}}),[b,c]);const E=!w&&!v&&0===b.length;return(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e),h(1)},placeholder:"Search Pixabay images...",showSubmitButton:!0,providerId:Ka,isSearching:w&&r.length>0}),(0,t.createElement)(sa,{message:v}),w?(0,t.createElement)(Ua,{variant:n}):E?(0,t.createElement)(Da,{variant:"noResults",query:r||void 0}):"list"===n?(0,t.createElement)(Oa,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ka,imageId:String(e.id),imageData:e,imageSrc:e.webformatURL,imageAlt:e.tags||"Pixabay photo",previewUrl:e.pageURL,author:{url:`https://pixabay.com/users/${e.user}-${e.user_id}`,avatar:e.userImageURL||`${AI_IMAGE_AdminConfig.assets_url}imgs/avatar-human.svg`,name:e.user},importUrl:e.largeImageURL,downloadOptions:[{label:"Large",type:"large",url:e.largeImageURL},{label:"Medium",type:"medium",url:e.webformatURL},{label:"Small",type:"small",url:e.previewURL}],variant:"list",providerBadge:"Pixabay"})))):(0,t.createElement)(ba,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ka,imageId:String(e.id),imageData:e,imageSrc:e.webformatURL,imageAlt:e.tags||"Pixabay photo",previewUrl:e.pageURL,author:{url:`https://pixabay.com/users/${e.user}-${e.user_id}`,avatar:e.userImageURL||`${AI_IMAGE_AdminConfig.assets_url}imgs/avatar-human.svg`,name:e.user},importUrl:e.largeImageURL,downloadOptions:[{label:"Large",type:"large",url:e.largeImageURL},{label:"Medium",type:"medium",url:e.webformatURL},{label:"Small",type:"small",url:e.previewURL}],providerBadge:"Pixabay"})))),"auto"===i&&(0,t.createElement)("div",{ref:f,className:"h-4","aria-hidden":"true"}),"manual"===i&&!w&&x&&b.length>0&&(0,t.createElement)("div",{className:"text-center mt-6"},(0,t.createElement)("button",{type:"button",onClick:g,disabled:y,className:"px-5 py-2.5 text-sm font-medium text-white rounded-xl bg-gray-800 hover:bg-gray-900 disabled:opacity-50"},y?"Loading more...":"Load More")),y&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500","aria-live":"polite"},"Loading more images..."),!w&&!y&&b.length>0&&!x&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500"},"No more results."))}},unsplash:{id:"unsplash",label:"Unsplash",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:n,itemsPerPage:o,loadMoreMode:i,getFilters:s,selectAll:l,setPreviewImageList:c}=S(),d=s(Ya),m=(0,t.useRef)(!0),u=(0,t.useRef)(!1),{page:p,loadMore:g,resetPage:h,observerTarget:f}=Wa(1,{hasMoreRef:m,loadingRef:u}),{images:b,loading:w,scrollLoading:y,error:v,hasMore:x}=Za(r,p,d,o);(0,t.useEffect)((()=>{m.current="auto"===i&&x,u.current=y}),[x,y,i]),(0,t.useEffect)((()=>{h(1)}),[d.orientation,d.color,d.order,o,h]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===Ya&&b.length>0){const e={};b.forEach((t=>{const a=`${Ya}:${t.id}`;e[a]={importUrl:t.urls?.regular||t.urls?.full,imageSrc:t.urls?.regular||t.urls?.small,imageAlt:t.alt_description||t.description||"Unsplash image",author:{url:t.user?.links?.html,avatar:t.user?.profile_image?.medium||t.user?.profile_image?.small,name:t.user?.name||t.user?.username},previewUrl:t.links?.html}})),l(Ya,b.map((e=>String(e.id))),e)}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[b,l]),(0,t.useEffect)((()=>{if(b.length>0){const e=b.map(((e,t)=>({imageSrc:e.urls?.full||e.urls?.regular,imageAlt:e.alt_description||e.description||"Unsplash photo",previewUrl:e.links?.html||e.urls?.full,author:{url:e.user?.links?.html,avatar:e.user?.profile_image?.small,name:e.user?.name||e.user?.username},importUrl:e.urls?.full||e.urls?.regular,downloadOptions:[{label:"Full",type:"full",url:e.urls?.full},{label:"Regular",type:"regular",url:e.urls?.regular},{label:"Small",type:"small",url:e.urls?.small}].filter((e=>e.url)),providerId:Ya,imageId:String(e.id),providerBadge:"Unsplash",index:t})));c(e)}}),[b,c]);const E=!w&&!v&&0===b.length;return(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e),h(1)},placeholder:"Search Unsplash photos...",showSubmitButton:!0,providerId:Ya,isSearching:w&&r.length>0}),(0,t.createElement)(sa,{message:v}),w?(0,t.createElement)(Ua,{variant:n}):E?(0,t.createElement)(Da,{variant:"noResults",query:r||void 0}):"list"===n?(0,t.createElement)(Oa,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ya,imageId:String(e.id),imageData:e,imageSrc:e.urls?.regular||e.urls?.full,imageAlt:e.alt_description||e.description||"Unsplash photo",previewUrl:e.links?.html||e.urls?.full,author:{url:e.user?.links?.html,avatar:e.user?.profile_image?.small,name:e.user?.name||e.user?.username},importUrl:e.urls?.full||e.urls?.regular,downloadOptions:[{label:"Full",type:"full",url:e.urls?.full},{label:"Regular",type:"regular",url:e.urls?.regular},{label:"Small",type:"small",url:e.urls?.small},{label:"Thumb",type:"thumb",url:e.urls?.thumb}].filter((e=>e.url)),variant:"list",providerBadge:"Unsplash"})))):(0,t.createElement)(ba,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ya,imageId:String(e.id),imageData:e,imageSrc:e.urls?.regular||e.urls?.full,imageAlt:e.alt_description||e.description||"Unsplash photo",previewUrl:e.links?.html||e.urls?.full,author:{url:e.user?.links?.html,avatar:e.user?.profile_image?.small,name:e.user?.name||e.user?.username},importUrl:e.urls?.full||e.urls?.regular,downloadOptions:[{label:"Full",type:"full",url:e.urls?.full},{label:"Regular",type:"regular",url:e.urls?.regular},{label:"Small",type:"small",url:e.urls?.small},{label:"Thumb",type:"thumb",url:e.urls?.thumb}].filter((e=>e.url)),providerBadge:"Unsplash"})))),"auto"===i&&(0,t.createElement)("div",{ref:f,className:"h-4","aria-hidden":"true"}),"manual"===i&&!w&&x&&b.length>0&&(0,t.createElement)("div",{className:"text-center mt-6"},(0,t.createElement)("button",{type:"button",onClick:g,disabled:y,className:"px-5 py-2.5 text-sm font-medium text-white rounded-xl bg-gray-800 hover:bg-gray-900 focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 disabled:opacity-50"},y?"Loading more...":"Load More")),y&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500","aria-live":"polite"},"Loading more images..."),!w&&!y&&b.length>0&&!x&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500"},"No more results."))}},openverse:{id:"openverse",label:"Openverse",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:n,itemsPerPage:o,loadMoreMode:i,getFilters:s,selectAll:l,setPreviewImageList:c}=S(),d=s(Ja),m=(0,t.useRef)(!0),u=(0,t.useRef)(!1),{page:p,loadMore:g,resetPage:h,observerTarget:f}=Wa(1,{hasMoreRef:m,loadingRef:u}),{images:b,loading:w,scrollLoading:y,error:v,hasMore:x}=Xa(r,p,d,o);(0,t.useEffect)((()=>{m.current="auto"===i&&x,u.current=y}),[x,y,i]),(0,t.useEffect)((()=>{h(1)}),[d.license,d.source,d.orientation,o,h]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===Ja&&b.length>0){const e={};b.forEach((t=>{const a=`${Ja}:${t.id}`;e[a]={importUrl:t.url,imageSrc:t.thumbnail||t.url,imageAlt:t.title||"Openverse image",author:{url:t.creator_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.creator||"Unknown")}&background=random`,name:t.creator||"Unknown"},previewUrl:t.foreign_landing_url}})),l(Ja,b.map((e=>String(e.id))),e)}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[b,l]),(0,t.useEffect)((()=>{if(b.length>0){const e=b.map(((e,t)=>({imageSrc:e.url,imageAlt:e.title||"Openverse image",previewUrl:e.foreign_landing_url,author:{url:e.creator_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||"Unknown")}&background=random`,name:e.creator||"Unknown"},importUrl:e.url,downloadOptions:[{label:"Original",url:e.url}].filter((e=>e.url)),providerId:Ja,imageId:String(e.id),providerBadge:"Openverse",index:t})));c(e)}}),[b,c]);const E=!w&&!v&&0===b.length;return(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e),h(1)},placeholder:"Search Openverse (free, open-licensed images)...",showSubmitButton:!0,providerId:Ja,isSearching:w&&r.length>0}),(0,t.createElement)(sa,{message:v}),w?(0,t.createElement)(Ua,{variant:n}):E?(0,t.createElement)(Da,{variant:"noResults",query:r||void 0}):"list"===n?(0,t.createElement)(Oa,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ja,imageId:String(e.id),imageData:e,imageSrc:e.url,imageAlt:e.title||"Openverse image",previewUrl:e.foreign_landing_url||e.detail_url,author:{url:e.creator_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||"Openverse")}&background=random&size=64`,name:e.creator},importUrl:e.url,downloadOptions:[{label:"Original",type:"original",url:e.url},...e.thumbnail?[{label:"Thumbnail",type:"thumb",url:e.thumbnail}]:[]],variant:"list",providerBadge:"Openverse"})))):(0,t.createElement)(ba,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,providerId:Ja,imageId:String(e.id),imageData:e,imageSrc:e.url,imageAlt:e.title||"Openverse image",previewUrl:e.foreign_landing_url||e.detail_url,author:{url:e.creator_url,avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(e.creator||"Openverse")}&background=random&size=64`,name:e.creator},importUrl:e.url,downloadOptions:[{label:"Original",type:"original",url:e.url},...e.thumbnail?[{label:"Thumbnail",type:"thumb",url:e.thumbnail}]:[]],providerBadge:"Openverse"})))),"auto"===i&&(0,t.createElement)("div",{ref:f,className:"h-4","aria-hidden":"true"}),"manual"===i&&!w&&x&&b.length>0&&(0,t.createElement)("div",{className:"text-center mt-6"},(0,t.createElement)("button",{type:"button",onClick:g,disabled:y,className:"px-5 py-2.5 text-sm font-medium text-white rounded-xl bg-gray-800 hover:bg-gray-900 disabled:opacity-50"},y?"Loading more...":"Load More")),y&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500","aria-live":"polite"},"Loading more images..."),!w&&!y&&b.length>0&&!x&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500"},"No more results."))}},giphy:{id:"giphy",label:"Giphy",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{viewMode:n,itemsPerPage:o,loadMoreMode:i,getFilters:s,selectAll:l,setPreviewImageList:c}=S(),d=s(er),m=(0,t.useRef)(!0),u=(0,t.useRef)(!1),{page:p,loadMore:g,resetPage:h,observerTarget:f}=Wa(1,{hasMoreRef:m,loadingRef:u}),{images:b,loading:w,scrollLoading:y,error:v,hasMore:x}=Qa(r,p,d,o);(0,t.useEffect)((()=>{m.current="auto"===i&&x,u.current=y}),[x,y,i]),(0,t.useEffect)((()=>{h(1)}),[d.rating,d.order,o,h]),(0,t.useEffect)((()=>{const e=e=>{if(e.detail.providerId===er&&b.length>0){const e={};b.forEach((t=>{const a=`${er}:${t.id}`;e[a]={importUrl:t.images?.original?.url,imageSrc:t.images?.fixed_width?.url||t.images?.downsized?.url,imageAlt:t.title||"GIF",author:{url:t.username?`https://giphy.com/${t.username}`:"https://giphy.com",avatar:`https://ui-avatars.com/api/?name=${encodeURIComponent(t.username||"Giphy")}&background=random`,name:t.username||"Giphy"},previewUrl:t.url}})),l(er,b.map((e=>String(e.id))),e)}};return window.addEventListener("bulkSelectAll",e),()=>window.removeEventListener("bulkSelectAll",e)}),[b,l]),(0,t.useEffect)((()=>{if(b.length>0){const e=b.map(((e,t)=>{const a=e.images?.original;return{imageSrc:a?.url||e.images?.downsized?.url,imageAlt:e.title||"Giphy GIF",previewUrl:e.url,author:{url:e.user?.profile_url,avatar:e.user?.avatar_url,name:e.user?.display_name||e.username},importUrl:a?.url,downloadOptions:[{label:"Original",type:"original",url:a?.url},{label:"Downsized",type:"downsized",url:e.images?.downsized?.url}].filter((e=>e.url)),providerId:er,imageId:String(e.id),providerBadge:"Giphy",index:t,gifStillUrl:e.images?.fixed_height_still?.url,gifAnimatedUrl:e.images?.fixed_height?.url||e.images?.fixed_width?.url}}));c(e)}}),[b,c]);const E=!w&&!v&&0===b.length,k=e=>{const t=e.images?.original,a=e.images?.fixed_height,r=e.images?.fixed_width,n=e.images?.fixed_height_still,o=e.images?.fixed_width_still,i=t?.url||a?.url||e.images?.downsized?.url,s=a?.url||r?.url||t?.url,l=n?.url||o?.url;return{providerId:er,imageId:String(e.id),imageData:e,imageSrc:i,imageAlt:e.title||"Giphy GIF",previewUrl:e.url,author:{url:e.user?.profile_url,avatar:e.user?.avatar_url,name:e.user?.display_name||e.username},importUrl:i,downloadOptions:[...t?.url?[{label:"Original",type:"original",url:t.url}]:[],...a?.url?[{label:"Fixed height",type:"fixed_height",url:a.url}]:[],...r?.url?[{label:"Fixed width",type:"fixed_width",url:r.url}]:[]].filter(Boolean),providerBadge:"Giphy",gifStillUrl:l,gifAnimatedUrl:s}};return(0,t.createElement)("div",null,(0,t.createElement)(oa,{value:e,onChange:e=>{a(e),h(1)},placeholder:"Search GIFs...",showSubmitButton:!0,providerId:er,isSearching:w&&r.length>0}),(0,t.createElement)(sa,{message:v}),w?(0,t.createElement)(Ua,{variant:n}):E?(0,t.createElement)(Da,{variant:"noResults",query:r||void 0}):"list"===n?(0,t.createElement)(Oa,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,variant:"list",...k(e)})))):(0,t.createElement)(ba,null,b.map(((e,a)=>(0,t.createElement)(da,{key:e.id,index:a,...k(e)})))),"auto"===i&&(0,t.createElement)("div",{ref:f,className:"h-4","aria-hidden":"true"}),"manual"===i&&!w&&x&&b.length>0&&(0,t.createElement)("div",{className:"text-center mt-6"},(0,t.createElement)("button",{type:"button",onClick:g,disabled:y,className:"px-5 py-2.5 text-sm font-medium text-white rounded-xl bg-gray-800 hover:bg-gray-900 disabled:opacity-50"},y?"Loading more...":"Load More")),y&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500","aria-live":"polite"},"Loading more GIFs..."),!w&&!y&&b.length>0&&!x&&(0,t.createElement)("p",{className:"text-center mt-4 text-sm text-gray-500"},"No more results."))},badge:"NEW"},openai:{id:"openai",label:"OpenAI",component:function(){const[e,a]=(0,t.useState)(""),r=ea(e,500),{setPreviewImageList:n,setIsGenerating:o}=S(),{generatedImages:i,loading:s,error:l,generateImage:c,clearImages:d}=function(){const[e,a]=(0,t.useState)(""),[r,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null);(0,t.useEffect)((()=>{(async()=>{const e=p("openai");if(e)try{const t=await Xt.get(e,{withCredentials:!0}),r=t.data?.data?.api_key;r&&"string"==typeof r&&r.trim()?a(r.trim()):l("Failed to fetch API key.")}catch(e){l("Error fetching API key. Go to Settings  AI Image to configure your API key.")}else l("Error fetching API key. Go to Settings  AI Image to configure your API key.")})()}),[]);const c=(0,t.useCallback)((async(t,a=2,r="medium")=>{if(t?.trim()&&e){i(!0),l(null);try{const o=Jt[r]||Jt.medium,i=await Xt.post("https://api.openai.com/v1/images/generations",{prompt:t.trim(),n:a,size:o},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${e}`}});i.data&&i.data.data&&n(i.data.data)}catch(e){l("Error generating image. Please try again.")}finally{i(!1)}}}),[e]),d=(0,t.useCallback)((()=>{n([]),l(null)}),[]);return{apiKey:e,generatedImages:r,loading:o,error:s,generateImage:c,clearImages:d}}(),u=m();return(0,t.useEffect)((()=>{if(i.length>0){const e=i.map(((e,t)=>({imageSrc:e.url,imageAlt:"Generated image",previewUrl:e.url,author:{url:"#",avatar:`${u}${Fa}`,name:"OpenAI"},importUrl:e.url,downloadOptions:[{label:"Small",type:"small",url:e.url},{label:"Medium",type:"medium",url:e.url},{label:"Large",type:"large",url:e.url}],providerId:Ga,imageId:String(t),providerBadge:"OpenAI",index:t})));n(e)}}),[i,u,n]),(0,t.useEffect)((()=>{o(s)}),[s,o]),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"max-w-2xl mx-auto mb-8"},(0,t.createElement)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden"},(0,t.createElement)("div",{className:"p-6 border-b border-gray-100"},(0,t.createElement)("div",{className:"flex items-center gap-2.5"},(0,t.createElement)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 text-gray-600","aria-hidden":!0},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"}))),(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"text-sm font-semibold text-gray-900"},"OpenAI DALLE"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Describe your image and generate with AI")))),(0,t.createElement)("form",{onSubmit:e=>{e.preventDefault(),c(r,2,"medium")},className:"p-4 sm:p-6 space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"openai-prompt",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Describe your image"),(0,t.createElement)("textarea",{id:"openai-prompt",value:e,onChange:e=>a(e.target.value),placeholder:"e.g., A futuristic city with flying cars at night",disabled:s,rows:3,className:"w-full py-2.5 px-3 rounded-md border border-gray-200 bg-white text-sm outline-none focus:border-gray-800 focus:ring-1 focus:ring-gray-800/20 resize-none disabled:bg-gray-50 disabled:cursor-not-allowed transition-colors","aria-label":"Image prompt"})),(0,t.createElement)("button",{type:"submit",disabled:s||!e.trim(),className:"w-full h-9 rounded-md border border-gray-800 bg-gray-800 text-sm font-medium text-white hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2"},s?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},(0,t.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,t.createElement)("span",null,"Generating...")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})),(0,t.createElement)("span",null,"Generate with DALLE"))),(0,t.createElement)("div",{className:"p-3 rounded-md bg-gray-50 border border-gray-100 flex items-start gap-2"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5 text-gray-400 mt-0.5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,t.createElement)("p",{className:"text-xs text-gray-600 leading-relaxed"},(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Tip:")," Add details like subject, setting, style, and mood for better results."))))),(0,t.createElement)(sa,{message:l,onDismiss:d}),s?(0,t.createElement)(ia,{message:"Generating images..."}):(0,t.createElement)(ba,null,i.map(((e,a)=>(0,t.createElement)(da,{key:a,index:a,providerId:Ga,imageId:String(a),imageSrc:e.url,imageAlt:"Generated",previewUrl:e.url,author:{url:"#",avatar:`${u}${Fa}`,name:"OpenAI"},importUrl:e.url,downloadOptions:[{label:"Small",type:"small",url:e.url},{label:"Medium",type:"medium",url:e.url},{label:"Large",type:"large",url:e.url}],providerBadge:"OpenAI"})))))}},gemini:{id:"gemini",label:"Gemini",component:function(){const[e,a]=(0,t.useState)(""),[r,n]=(0,t.useState)(2),[o,i]=(0,t.useState)("medium"),s=ea(e,500),{setPreviewImageList:l,setIsGenerating:c}=S(),{generatedImages:d,loading:u,error:g,generateImage:h,clearImages:f}=function(){const[e,a]=(0,t.useState)(""),[r,n]=(0,t.useState)([]),[o,i]=(0,t.useState)(!1),[s,l]=(0,t.useState)(null);return(0,t.useEffect)((()=>{(async()=>{const e=p("gemini");if(e)try{const t=await Xt.get(e,{withCredentials:!0}),r=t.data?.data?.api_key;r&&"string"==typeof r&&r.trim()?(a(r.trim()),l(null)):l("No API key configured. Go to Settings  AI Image to add your Gemini API key.")}catch(e){console.error("Error fetching Gemini API key:",e),l("Error fetching API key. Go to Settings  AI Image to configure your API key.")}else l("Error fetching API key. Go to Settings  AI Image to configure your API key.")})()}),[]),{apiKey:e,generatedImages:r,loading:o,error:s,generateImage:(0,t.useCallback)((async(e,t=2,a="medium")=>{if(e?.trim()){i(!0),l(null);try{const r=Qt[a]||Qt.medium,[o,i]=r.split("x").map(Number),s=o===i?"1:1":o>i?"16:9":"9:16",l=new FormData;l.append("action","ai_image_generate_gemini"),l.append("nonce","undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig.nonce:""),l.append("prompt",e.trim()),l.append("number_of_images",Math.min(t,4)),l.append("aspect_ratio",s);const c="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig.ajax_url:"",d=await Xt.post(c,l);if(!(d.data&&d.data.success&&d.data.data)){const e=d.data?.data||{};console.error("API Error Details:",e),console.error("Error Message:",e.message),console.error("Error Code:",e.code),console.error("Raw Response:",e.raw_response),console.error("Error Details:",e.error_details);let t=e.message||d.data?.message||"Failed to generate images";throw e.error_details?.message&&(t=e.error_details.message),new Error(t)}{const t=d.data.data.data;if(t&&t.predictions){const a=t.predictions.map(((t,a)=>({url:`data:image/png;base64,${t.bytesBase64Encoded||""}`,id:`gemini-${Date.now()}-${a}`,revised_prompt:e})));if(!(a.length>0))throw new Error("No images returned from Gemini API");n(a)}else{if(!t||!t.generatedImages)throw console.error("Unexpected response format:",t),new Error("Invalid response format from Gemini API");{const a=t.generatedImages.map(((t,a)=>({url:`data:image/png;base64,${t.image?.imageBytes||""}`,id:`gemini-${Date.now()}-${a}`,revised_prompt:e})));if(!(a.length>0))throw new Error("No images returned from Gemini API");n(a)}}}}catch(e){console.error("Gemini API Error:",e),l(e.response?.data?.message||e.message||"Error generating image. Please check your API key and try again.")}finally{i(!1)}}}),[e]),clearImages:(0,t.useCallback)((()=>{n([]),l(null)}),[])}}(),b=m();return(0,t.useEffect)((()=>{if(d.length>0){const t=d.map(((t,a)=>({imageSrc:t.url,imageAlt:t.revised_prompt||e||"Generated image",previewUrl:t.url,author:{url:"https://ai.google.dev/",avatar:`${b}${$a}`,name:"Google Gemini"},importUrl:t.url,downloadOptions:[{label:"Original",type:"original",url:t.url}],providerId:"gemini",imageId:t.id||`gemini-${a}`,providerBadge:"Gemini",index:a})));l(t)}}),[d,e,b,l]),(0,t.useEffect)((()=>{c(u)}),[u,c]),(0,t.createElement)("div",null,(0,t.createElement)("div",{className:"max-w-2xl mx-auto mb-8"},(0,t.createElement)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden"},(0,t.createElement)("div",{className:"p-6 border-b border-gray-100"},(0,t.createElement)("div",{className:"flex items-center gap-2.5"},(0,t.createElement)("span",{className:"flex items-center justify-center w-8 h-8 rounded-lg bg-gray-100 text-gray-600","aria-hidden":!0},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"}))),(0,t.createElement)("div",null,(0,t.createElement)("h3",{className:"text-sm font-semibold text-gray-900"},"Google Gemini"),(0,t.createElement)("p",{className:"text-xs text-gray-500"},"Imagen 4.0  describe your image and generate")))),(0,t.createElement)("form",{onSubmit:e=>{e.preventDefault(),s.trim()&&h(s,r,o)},className:"p-4 sm:p-6 space-y-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"gemini-prompt",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Describe your image"),(0,t.createElement)("textarea",{id:"gemini-prompt",value:e,onChange:e=>a(e.target.value),placeholder:"e.g., A serene mountain landscape at sunset with purple sky",disabled:u,rows:3,className:"w-full py-2.5 px-3 rounded-md border border-gray-200 bg-white text-sm outline-none focus:border-gray-800 focus:ring-1 focus:ring-gray-800/20 resize-none disabled:bg-gray-50 disabled:cursor-not-allowed transition-colors","aria-label":"Image prompt"})),(0,t.createElement)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"image-count",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Count"),(0,t.createElement)("select",{id:"image-count",value:r,onChange:e=>n(Number(e.target.value)),disabled:u,className:"w-full h-9 px-3 rounded-md border border-gray-200 bg-white text-sm outline-none focus:border-gray-800 focus:ring-1 focus:ring-gray-800/20 transition-colors disabled:bg-gray-50 disabled:cursor-not-allowed"},(0,t.createElement)("option",{value:1},"1 Image"),(0,t.createElement)("option",{value:2},"2 Images"),(0,t.createElement)("option",{value:3},"3 Images"),(0,t.createElement)("option",{value:4},"4 Images"))),(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"image-size",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Size"),(0,t.createElement)("select",{id:"image-size",value:o,onChange:e=>i(e.target.value),disabled:u,className:"w-full h-9 px-3 rounded-md border border-gray-200 bg-white text-sm outline-none focus:border-gray-800 focus:ring-1 focus:ring-gray-800/20 transition-colors disabled:bg-gray-50 disabled:cursor-not-allowed"},(0,t.createElement)("option",{value:"small"},"512512"),(0,t.createElement)("option",{value:"medium"},"10241024"),(0,t.createElement)("option",{value:"large"},"20482048"))),(0,t.createElement)("div",{className:"flex items-end"},(0,t.createElement)("button",{type:"submit",disabled:u||!e.trim(),className:"w-full h-9 rounded-md border border-gray-800 bg-gray-800 text-sm font-medium text-white hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center gap-2"},u?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"animate-spin h-4 w-4",fill:"none",viewBox:"0 0 24 24"},(0,t.createElement)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.createElement)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})),(0,t.createElement)("span",null,"Generating...")):(0,t.createElement)(t.Fragment,null,(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13 10V3L4 14h7v7l9-11h-7z"})),(0,t.createElement)("span",null,"Generate"))))),(0,t.createElement)("div",{className:"p-3 rounded-md bg-gray-50 border border-gray-100 flex items-start gap-2"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5 text-gray-400 mt-0.5 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,t.createElement)("p",{className:"text-xs text-gray-600 leading-relaxed"},(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Tip:")," Add details like style, mood, lighting, and composition for better results."))))),(0,t.createElement)(sa,{message:g,onDismiss:f}),u?(0,t.createElement)("div",{className:"flex flex-col items-center justify-center py-16"},(0,t.createElement)("div",{className:"relative"},(0,t.createElement)("div",{className:"w-20 h-20 border-4 border-indigo-200 border-t-gray-800 rounded-full animate-spin"}),(0,t.createElement)("div",{className:"absolute inset-0 flex items-center justify-center"},(0,t.createElement)("svg",{className:"w-8 h-8 text-gray-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})))),(0,t.createElement)("p",{className:"mt-4 text-gray-600 font-medium"},"Generating your images with Gemini..."),(0,t.createElement)("p",{className:"mt-2 text-sm text-gray-500"},"This may take a few moments")):d.length>0?(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",{className:"mb-4 flex items-center justify-between"},(0,t.createElement)("h3",{className:"text-lg font-semibold text-gray-900"},"Generated Images (",d.length,")"),(0,t.createElement)("button",{onClick:f,className:"text-sm text-gray-600 hover:text-gray-900 font-medium"},"Clear All")),(0,t.createElement)(ba,null,d.map(((a,r)=>(0,t.createElement)(da,{key:a.id||r,index:r,providerId:"gemini",imageId:a.id||`gemini-${r}`,imageSrc:a.url,imageAlt:a.revised_prompt||e||"Generated image",previewUrl:a.url,author:{url:"https://ai.google.dev/",avatar:`${b}${$a}`,name:"Google Gemini"},importUrl:a.url,downloadOptions:[{label:"Original",type:"original",url:a.url}],providerBadge:"Gemini"}))))):null)},badge:"NEW"}},sr=["pexels","pixabay","unsplash","openverse","giphy","openai","gemini"];function lr(){const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},t=e.provider_enabled||{},a=[...Array.isArray(e.provider_order)&&e.provider_order.length>0?e.provider_order:sr];sr.forEach((e=>{a.includes(e)||a.push(e)}));const r=a.filter((e=>ir[e]&&!1!==t[e])).map((e=>ir[e])),n=[];return!1!==t.global&&n.push(nr),n.push(or),n.push(...r),n}function cr(){const[e,a]=(0,t.useState)(0),r=(0,t.useMemo)((()=>lr()),[e]);(0,t.useEffect)((()=>{const e=e=>{const t=e.detail;"undefined"!=typeof AI_IMAGE_AdminConfig&&(t?.provider_order&&(AI_IMAGE_AdminConfig.provider_order=t.provider_order),t?.provider_enabled&&(AI_IMAGE_AdminConfig.provider_enabled={...t.provider_enabled}),t?.default_provider&&(AI_IMAGE_AdminConfig.general_settings=AI_IMAGE_AdminConfig.general_settings||{},AI_IMAGE_AdminConfig.general_settings.default_provider=t.default_provider)),a((e=>e+1)),t?.default_provider&&o(t.default_provider)};return window.addEventListener("aiImageSettingsUpdated",e),()=>window.removeEventListener("aiImageSettingsUpdated",e)}),[]);const[n,o]=(0,t.useState)((()=>function(){const e="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},t=lr(),a=e.general_settings?.default_provider||"global";return t.some((e=>e.id===a))?a:t[0]?.id||"global"}())),{uploadImage:i}=b(),{selectionMode:l,setSelectionMode:c,clearSelection:d,isGenerating:m}=S(),u=r.some((e=>e.id===n))?n:r[0]?.id,p=r;(0,t.useEffect)((()=>{d()}),[u,d]),(0,t.useEffect)((()=>{const e=e=>{const t=e.target.closest(".bdt-aimg-download-btn");if(t){const e=t.getAttribute("data-url"),a=t.getAttribute("data-title")||"",r=t.getAttribute("data-author")||"";e&&i(e,a,r)}};return document.addEventListener("click",e),s().showToast||(s().showToast=s().mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0})),()=>document.removeEventListener("click",e)}),[i]);const g=p.find((e=>e.id===u))?.component;return 0===p.length?(0,t.createElement)("div",{className:"flex flex-col p-6 bg-white rounded-md border border-gray-200"},(0,t.createElement)("p",{className:"text-gray-600"},"No image sources enabled. Enable at least one source in"," ",(0,t.createElement)("a",{href:"undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig.settings_url:"#",className:"text-gray-800 hover:underline"},"Dashboard  Image sources"),".")):(0,t.createElement)("div",{className:"flex flex-col gap-0 min-h-[calc(100vh-5rem)]",role:"region","aria-label":"Image generator"},(0,t.createElement)("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden mb-6"},(0,t.createElement)("div",{className:"flex items-center gap-2.5 px-6 py-4 border-b border-gray-100 ai-image-branding"},(0,t.createElement)("svg",{class:"w-8 h-8",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",fill:"none"},(0,t.createElement)("path",{d:"M0 50C0 13.64 13.64 0 50 0C86.36 0 100 13.64 100 50C100 86.36 86.36 100 50 100C13.64 100 0 86.36 0 50Z",fill:"#131D29"}),(0,t.createElement)("path",{d:"M36.5401 48.6601C39.9801 48.6601 42.7701 45.8501 42.7601 42.4101C42.7601 38.9701 39.9501 36.1801 36.5101 36.1901L36.4301 36.1401C33.0101 36.1901 30.2701 38.9901 30.2901 42.4101V42.4401C30.2901 45.8801 33.1001 48.6701 36.5401 48.6601Z",fill:"white"}),(0,t.createElement)("path",{d:"M33.9801 60.9101C33.9101 60.7801 33.8401 60.6601 33.7601 60.5301C31.9301 57.5801 28.0501 56.6701 25.1001 58.5001C22.1501 60.3301 21.2401 64.2101 23.0701 67.1601L25.0901 70.7201C25.0901 70.7201 25.0901 70.7201 25.0901 70.7301C26.8101 73.7301 30.6501 74.7701 33.6501 73.0501C33.6701 73.0401 33.6901 73.0301 33.7101 73.0101C36.7101 71.2601 37.7201 67.4101 35.9801 64.4101L33.9601 60.9001L33.9801 60.9101Z",fill:"white"}),(0,t.createElement)("path",{d:"M50.2001 52.7201C48.3801 50.1801 44.9601 49.3601 42.1901 50.8101C39.1101 52.4101 37.9101 56.2101 39.5201 59.2901L46.5801 70.6601C48.4101 73.6101 52.2801 74.5201 55.2301 72.7001C58.1401 70.8801 59.0501 67.0501 57.2701 64.1201L50.2101 52.7301L50.2001 52.7201Z",fill:"white"}),(0,t.createElement)("path",{d:"M68.0903 46.2301L55.1203 24.6801C55.1203 24.6801 55.0903 24.6301 55.0803 24.6101C53.2703 21.6601 49.4103 20.7401 46.4603 22.5501C43.5003 24.3401 42.5403 28.2001 44.3303 31.1701L57.3403 52.7301V52.8001C59.1503 55.7701 63.0303 56.7101 66.0003 54.8901C68.9703 53.0801 69.9103 49.2001 68.0903 46.2301Z",fill:"white"}),(0,t.createElement)("path",{d:"M72.9099 73.7301C76.3562 73.7301 79.1499 70.9364 79.1499 67.4901C79.1499 64.0439 76.3562 61.2501 72.9099 61.2501C69.4637 61.2501 66.6699 64.0439 66.6699 67.4901C66.6699 70.9364 69.4637 73.7301 72.9099 73.7301Z",fill:"white"})),(0,t.createElement)("div",{className:"flex items-baseline gap-2 min-w-0"},(0,t.createElement)("span",{className:"text-base font-semibold text-gray-900 truncate"},"AI Image Generator"),(0,t.createElement)("span",{className:"text-[13px] text-gray-400 shrink-0"},"v","undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig.version:"1.5.11"))),(0,t.createElement)("div",{role:"tablist","aria-label":"Image sources",className:"flex border-b border-gray-100 overflow-x-auto scrollbar-thin scrollbar-thumb-gray-200 scrollbar-track-gray-50 gap-6 px-6",style:{WebkitOverflowScrolling:"touch"}},p.map((e=>{const a=rr[e.id]||{},r=a.icon,n=u===e.id;return(0,t.createElement)("button",{key:e.id,type:"button",role:"tab","aria-selected":n,"aria-controls":`panel-${e.id}`,id:`tab-${e.id}`,onClick:()=>!m&&o(e.id),disabled:m,className:`flex items-center gap-2 font-medium px-0 py-4 text-xs sm:text-sm min-w-0 shrink-0 border-b-2 transition-colors ${n?"text-gray-900 border-gray-800 bg-white":"text-gray-500 border-transparent hover:text-gray-700 hover:bg-gray-50/50"} ${m?"opacity-50 cursor-not-allowed":"cursor-pointer"}`},r&&(0,t.createElement)(r,{className:"w-4 h-4 shrink-0"}),(0,t.createElement)("span",{className:"truncate whitespace-nowrap"},e.label),(e.badge||a.badge)&&(0,t.createElement)("span",{className:"px-1.5 py-0.5 text-[10px] font-medium rounded bg-amber-100 text-amber-800 shrink-0"},e.badge||a.badge))}))),(0,t.createElement)("div",{className:""},(0,t.createElement)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3 px-6 py-4"},"gemini"!==u&&"openai"!==u&&(0,t.createElement)("div",{className:"flex flex-wrap items-center gap-2"},(0,t.createElement)(M,null),(0,t.createElement)("button",{type:"button",onClick:()=>c(!l),className:"rounded-md border px-3 sm:px-4 h-9 text-xs sm:text-sm font-medium transition-colors "+(l?"border-gray-800 bg-gray-800 text-white hover:bg-gray-900":"border-gray-200 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-300"),"aria-pressed":l},(0,t.createElement)("div",{className:"flex items-center gap-1.5 sm:gap-2"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,t.createElement)("span",{className:"hidden sm:inline"},l?"Cancel Selection":"Select"),(0,t.createElement)("span",{className:"sm:hidden"},l?"Cancel":"Select"))),l&&(0,t.createElement)("button",{type:"button",onClick:()=>{const e=new CustomEvent("bulkSelectAll",{detail:{providerId:u}});window.dispatchEvent(e)},className:"rounded-md border border-gray-300 bg-white px-3 sm:px-4 h-9 text-xs sm:text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors"},(0,t.createElement)("div",{className:"flex items-center gap-1.5 sm:gap-2"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5 sm:w-4 sm:h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})),(0,t.createElement)("span",{className:"hidden sm:inline"},"Select All"),(0,t.createElement)("span",{className:"sm:hidden"},"All")))),(0,t.createElement)("div",{className:"w-full lg:w-auto overflow-x-auto"},(0,t.createElement)(j,{providerId:u}))),"gemini"!==u&&"openai"!==u&&(0,t.createElement)(B,{providerId:u,inline:!0}))),(0,t.createElement)("div",{role:"tabpanel",id:`panel-${u}`,"aria-labelledby":`tab-${u}`,"aria-describedby":"tab-description",className:"p-6 bg-white rounded-xl border border-gray-100"},g&&(0,t.createElement)(g,null)),(0,t.createElement)(T,null))}const dr=function(){return(0,t.createElement)(o,null,(0,t.createElement)(f,null,(0,t.createElement)(N,null,(0,t.createElement)(cr,null))))},mr={general:({className:e})=>(0,t.createElement)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"3"})),"display-settings":({className:e})=>(0,t.createElement)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"3"})),"image-sources":({className:e})=>(0,t.createElement)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),(0,t.createElement)("circle",{cx:"9",cy:"9",r:"2"}),(0,t.createElement)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})),"image-sizes":({className:e})=>(0,t.createElement)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M21 9v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h7"}),(0,t.createElement)("line",{x1:"16",x2:"22",y1:"5",y2:"5"}),(0,t.createElement)("circle",{cx:"9",cy:"9",r:"2"}),(0,t.createElement)("path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"})),support:({className:e})=>(0,t.createElement)("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},(0,t.createElement)("path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"}),(0,t.createElement)("line",{x1:"12",x2:"12",y1:"16",y2:"12"}),(0,t.createElement)("line",{x1:"12",x2:"12.01",y1:"8",y2:"8"}))},ur=[{label:"GENERAL SETTINGS",items:[{id:"general",label:"General"},{id:"display-settings",label:"Display Settings"},{id:"image-sources",label:"Image sources"},{id:"image-sizes",label:"Image Sizes"}]},{label:"SUPPORT",items:[{id:"support",label:"Help & Support"}]}];function pr({activeSection:e,onSelect:a}){return(0,t.createElement)("nav",{className:"p-4","aria-label":"Dashboard navigation"},ur.map(((r,n)=>(0,t.createElement)("div",{key:r.label,className:n>0?"mt-8":""},(0,t.createElement)("p",{className:" text-xs font-bold text-gray-400 uppercase tracking-wider mb-3"},r.label),(0,t.createElement)("ul",{className:"space-y-1"},r.items.map((r=>{const n=mr[r.id];return(0,t.createElement)("li",{key:r.id},(0,t.createElement)("button",{type:"button",onClick:()=>a(r.id),className:"w-full flex items-center gap-2 p-3 text-sm rounded-md font-medium transition-all duration-150 outline-none shadow-none group "+(e===r.id?"bg-gray-800 text-white font-medium":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),"aria-current":e===r.id?"page":void 0},n&&(0,t.createElement)(n,{className:"w-5 h-5 shrink-0 "+(e===r.id?"text-white":"text-gray-500 group-hover:text-gray-900 transition-all duration-150 ")}),r.label))})))))),(0,t.createElement)("div",{className:" mt-8 p-6 rounded-xl bg-gradient-to-br from-gray-600 to-gray-800 text-white text-center "},(0,t.createElement)("div",{className:"flex items-center gap-2 mb-2 flex-col"},(0,t.createElement)("svg",{class:"w-10 h-10",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",fill:"none"},(0,t.createElement)("path",{d:"M0 50C0 13.64 13.64 0 50 0C86.36 0 100 13.64 100 50C100 86.36 86.36 100 50 100C13.64 100 0 86.36 0 50Z",fill:"#131D29"}),(0,t.createElement)("path",{d:"M36.5401 48.6601C39.9801 48.6601 42.7701 45.8501 42.7601 42.4101C42.7601 38.9701 39.9501 36.1801 36.5101 36.1901L36.4301 36.1401C33.0101 36.1901 30.2701 38.9901 30.2901 42.4101V42.4401C30.2901 45.8801 33.1001 48.6701 36.5401 48.6601Z",fill:"white"}),(0,t.createElement)("path",{d:"M33.9801 60.9101C33.9101 60.7801 33.8401 60.6601 33.7601 60.5301C31.9301 57.5801 28.0501 56.6701 25.1001 58.5001C22.1501 60.3301 21.2401 64.2101 23.0701 67.1601L25.0901 70.7201C25.0901 70.7201 25.0901 70.7201 25.0901 70.7301C26.8101 73.7301 30.6501 74.7701 33.6501 73.0501C33.6701 73.0401 33.6901 73.0301 33.7101 73.0101C36.7101 71.2601 37.7201 67.4101 35.9801 64.4101L33.9601 60.9001L33.9801 60.9101Z",fill:"white"}),(0,t.createElement)("path",{d:"M50.2001 52.7201C48.3801 50.1801 44.9601 49.3601 42.1901 50.8101C39.1101 52.4101 37.9101 56.2101 39.5201 59.2901L46.5801 70.6601C48.4101 73.6101 52.2801 74.5201 55.2301 72.7001C58.1401 70.8801 59.0501 67.0501 57.2701 64.1201L50.2101 52.7301L50.2001 52.7201Z",fill:"white"}),(0,t.createElement)("path",{d:"M68.0903 46.2301L55.1203 24.6801C55.1203 24.6801 55.0903 24.6301 55.0803 24.6101C53.2703 21.6601 49.4103 20.7401 46.4603 22.5501C43.5003 24.3401 42.5403 28.2001 44.3303 31.1701L57.3403 52.7301V52.8001C59.1503 55.7701 63.0303 56.7101 66.0003 54.8901C68.9703 53.0801 69.9103 49.2001 68.0903 46.2301Z",fill:"white"}),(0,t.createElement)("path",{d:"M72.9099 73.7301C76.3562 73.7301 79.1499 70.9364 79.1499 67.4901C79.1499 64.0439 76.3562 61.2501 72.9099 61.2501C69.4637 61.2501 66.6699 64.0439 66.6699 67.4901C66.6699 70.9364 69.4637 73.7301 72.9099 73.7301Z",fill:"white"})),(0,t.createElement)("p",{className:"font-bold text-sm"},"AI Image")),(0,t.createElement)("p",{className:"text-xs leading-relaxed opacity-90"},"Generate stunning images from multiple AI and stock photo sources instantly.")))}function gr({title:e,onReset:a,description:r,children:n}){return(0,t.createElement)("div",{className:"bg-white border border-gray-100 rounded-xl  mb-6"},(e||r||a)&&(0,t.createElement)("div",{className:"p-6 border-b border-gray-100"},(0,t.createElement)("div",{className:"flex items-start justify-between gap-4 mb-1"},e&&(0,t.createElement)("h2",{className:"text-lg font-bold text-gray-900"},e),a&&(0,t.createElement)("button",{type:"button",onClick:a,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 focus:outline-none focus:ring-2 focus:ring-gray-400 focus:ring-offset-2 transition-all shadow-sm"},(0,t.createElement)("svg",{className:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})),"Reset to Defaults")),r&&(0,t.createElement)("p",{className:"text-sm text-gray-600 leading-relaxed"},r)),(0,t.createElement)("div",{className:"p-6"},n))}function hr({checked:e,onChange:a,label:r,id:n,disabled:o}){const i=n||`toggle-${Math.random().toString(36).slice(2)}`;return(0,t.createElement)("label",{htmlFor:i,className:"inline-flex items-center gap-3 cursor-pointer group"},(0,t.createElement)("span",{className:"relative inline-flex h-6 w-11 flex-shrink-0 rounded-full focus-within:ring-2 focus-within:ring-gray-600 focus-within:ring-offset-2 has-[:disabled]:opacity-50 has-[:disabled]:cursor-not-allowed transition-all"},(0,t.createElement)("input",{id:i,type:"checkbox",role:"switch",checked:!!e,onChange:e=>a?.(e.target.checked),disabled:o,className:"sr-only peer","aria-checked":!!e}),(0,t.createElement)("span",{className:"absolute inset-0 rounded-full bg-gray-300 transition-all duration-200 peer-checked:bg-gray-800 peer-checked:shadow-md"}),(0,t.createElement)("span",{className:"absolute left-0.5 top-0.5 h-5 w-5 rounded-full bg-white shadow-sm transition-transform duration-200 peer-checked:translate-x-5 pointer-events-none"})),r&&(0,t.createElement)("span",{className:"text-sm font-medium text-gray-700 group-hover:text-gray-900 transition-colors"},r))}function fr({message:e,onDismiss:a}){const[r,n]=(0,t.useState)(!1),o=(0,t.useRef)(null),i=(0,t.useRef)(null);if((0,t.useEffect)((()=>{if(e?.type)return n(!1),o.current=setTimeout((()=>n(!0)),3e3),()=>{o.current&&clearTimeout(o.current)}}),[e?.type,e?.text]),(0,t.useEffect)((()=>{if(r)return i.current=setTimeout((()=>a()),300),()=>{i.current&&clearTimeout(i.current)}}),[r,a]),!e?.type)return null;const s="success"===e.type;return(0,t.createElement)("div",{role:"alert","aria-live":"polite",className:"fixed top-4 right-4 z-[100] px-4 py-3 rounded-lg border shadow-lg bg-white flex items-center gap-3 "+(r?"save-toast-exit":"save-toast-enter"),style:{maxWidth:"min(360px, calc(100vw - 2rem))"}},s?(0,t.createElement)((()=>(0,t.createElement)("svg",{className:"w-5 h-5 flex-shrink-0 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),null):(0,t.createElement)((()=>(0,t.createElement)("svg",{className:"w-5 h-5 flex-shrink-0 text-red-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),null),(0,t.createElement)("p",{className:"text-sm font-medium "+(s?"text-green-700":"text-red-700")},e.text))}const br=["global","pexels","pixabay","unsplash","openverse","giphy","openai","gemini"],wr=["pexels","pixabay","unsplash","openverse","giphy","openai","gemini"];function yr(){const e=l().provider_order;if(Array.isArray(e)&&e.length>0){const t=[...e];return wr.forEach((e=>{t.includes(e)||t.push(e)})),t}return[...wr]}function vr(){const e=l().provider_enabled;if(e&&"object"==typeof e)return br.reduce(((t,a)=>(t[a]=!1!==e[a],t)),{});const t=["global","pexels","openverse","pixabay"];return br.reduce(((e,a)=>(e[a]=t.includes(a),e)),{})}function xr(){const e=l().general_settings;var t,a,r;return e&&"object"==typeof e?{max_upload_width:null!==(t=e.max_upload_width)&&void 0!==t?t:1600,max_upload_height:null!==(a=e.max_upload_height)&&void 0!==a?a:1200,default_provider:e.default_provider||"pexels",image_attribution:!0===e.image_attribution,auto_alt_text:!0===e.auto_alt_text,auto_title:!0===e.auto_title,hide_media_modal_tab:!0===e.hide_media_modal_tab,default_view_mode:e.default_view_mode||"grid",items_per_page:null!==(r=e.items_per_page)&&void 0!==r?r:20,thumbnail_size:e.thumbnail_size||"small",load_more_mode:e.load_more_mode||"manual"}:{max_upload_width:1600,max_upload_height:1200,default_provider:"pexels",image_attribution:!1,auto_alt_text:!1,auto_title:!1,hide_media_modal_tab:!1,default_view_mode:"grid",items_per_page:20,thumbnail_size:"small",load_more_mode:"manual"}}function Er(){const[e,a]=(0,t.useState)({openai_api_key:"",gemini_api_key:"",unsplash_access_key:"",giphy_api_key:""}),[r,n]=(0,t.useState)(vr),[o,i]=(0,t.useState)(yr),[s,l]=(0,t.useState)(xr),[m,u]=(0,t.useState)(!0),[g,h]=(0,t.useState)(!1),f=(0,t.useCallback)((async()=>{u(!0);const e=c(),t=d();if(e&&t)try{const[e,t,r,n]=await Promise.all([fetch(p("openai")),fetch(p("gemini")),fetch(p("unsplash")),fetch(p("giphy"))]),o=e.ok?await e.json():{},i=t.ok?await t.json():{},s=r.ok?await r.json():{},l=n.ok?await n.json():{};a({openai_api_key:o.data&&o.data.api_key||"",gemini_api_key:i.data&&i.data.api_key||"",unsplash_access_key:s.data&&s.data.api_key||"",giphy_api_key:l.data&&l.data.api_key||""})}catch(e){}finally{u(!1)}else u(!1)}),[]);(0,t.useEffect)((()=>{f()}),[f]);const b=(0,t.useCallback)(((e,t)=>{a((a=>({...a,[e]:t})))}),[]),w=(0,t.useCallback)(((e,t)=>{n((a=>({...a,[e]:!!t})))}),[]),y=(0,t.useCallback)(((e,t)=>{l((a=>({...a,[e]:t})))}),[]),v=(0,t.useCallback)((async()=>{var t;const a=new FormData;a.append("action","ai_image_save_settings"),a.append("nonce",d());const n={openai_api_key:e.openai_api_key,gemini_api_key:e.gemini_api_key,unsplash_access_key:e.unsplash_access_key,giphy_api_key:e.giphy_api_key};br.forEach((e=>{n["provider_"+e]=!1!==r[e]})),n.max_upload_width=s.max_upload_width,n.max_upload_height=s.max_upload_height,n.default_provider=s.default_provider,n.image_attribution=!0===s.image_attribution,n.auto_alt_text=!1!==s.auto_alt_text,n.auto_title=!1!==s.auto_title,n.hide_media_modal_tab=!0===s.hide_media_modal_tab,n.default_view_mode=s.default_view_mode||"grid",n.items_per_page=null!==(t=s.items_per_page)&&void 0!==t?t:30,n.thumbnail_size=s.thumbnail_size||"medium",n.load_more_mode=s.load_more_mode||"auto",n.provider_order=o,a.append("data",JSON.stringify(n)),h(!0);try{const e=await fetch(c(),{method:"POST",body:a}),t=await e.json();if(t.success){"undefined"!=typeof AI_IMAGE_AdminConfig&&(AI_IMAGE_AdminConfig.provider_order=o,AI_IMAGE_AdminConfig.provider_enabled={...r},AI_IMAGE_AdminConfig.general_settings={...s});const e=new CustomEvent("aiImageSettingsUpdated",{detail:{items_per_page:s.items_per_page,thumbnail_size:s.thumbnail_size,default_view_mode:s.default_view_mode,load_more_mode:s.load_more_mode,default_provider:s.default_provider,provider_order:o,provider_enabled:r}});return window.dispatchEvent(e),{success:!0,message:t.data?.message||"Saved."}}return{success:!1,message:t.data?.message||"Save failed."}}catch(e){return{success:!1,message:e?.message||"Save failed."}}finally{h(!1)}}),[e,r,o,s]),x=(0,t.useCallback)((async(e,t)=>{const a=new FormData;a.append("action","ai_image_test_api_key"),a.append("nonce",d()),a.append("provider",e),t&&a.append("api_key",t);const r=await fetch(c(),{method:"POST",body:a}),n=await r.json();return{success:!!n.success,message:n.data?.message||n.data?.message||(n.success?"Key valid.":"Key invalid.")}}),[]),E=(0,t.useCallback)((()=>{l({max_upload_width:1600,max_upload_height:1200,default_provider:"pexels",image_attribution:!1,auto_alt_text:!1,auto_title:!1,hide_media_modal_tab:!1,default_view_mode:"grid",items_per_page:20,thumbnail_size:"small",load_more_mode:"manual"})}),[]),k=(0,t.useCallback)((()=>{l((e=>({...e,default_view_mode:"grid",items_per_page:20,thumbnail_size:"small",load_more_mode:"manual"})))}),[]),C=(0,t.useCallback)((()=>{const e=["global","pexels","openverse","pixabay"],t=br.reduce(((t,a)=>(t[a]=e.includes(a),t)),{});n(t),i([...wr])}),[]);return{settings:e,setSetting:b,providerEnabled:r,setProvider:w,providerOrder:o,setProviderOrder:i,generalSettings:s,setGeneralSetting:y,saveSettings:v,testKey:x,loading:m,saving:g,refetch:f,resetGeneralSettings:E,resetDisplaySettings:k,resetProviderSettings:C}}const kr=[{value:"pexels",label:"Pexels"},{value:"pixabay",label:"Pixabay"},{value:"unsplash",label:"Unsplash"},{value:"openverse",label:"Openverse"},{value:"giphy",label:"Giphy"},{value:"openai",label:"OpenAI"},{value:"gemini",label:"Gemini"}],Cr=("undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{}).generator_url||"";function _r(){var e,a;const{generalSettings:r,setGeneralSetting:n,providerEnabled:o,saveSettings:i,saving:s,resetGeneralSettings:l}=Er(),[c,d]=(0,t.useState)({type:null,text:""}),m=(0,t.useMemo)((()=>kr.filter((e=>!1!==o[e.value]))),[o]);return(0,t.useEffect)((()=>{const e=r.default_provider;!m.some((t=>t.value===e))&&m.length>0&&n("default_provider",m[0].value)}),[m,r.default_provider,n]),(0,t.createElement)(gr,{title:"General Settings",description:"Manage your Instant Image Generator plugin settings.",onReset:()=>{confirm("Reset all general settings to default values? This will not save automatically.")&&(l(),d({type:"success",text:"Settings reset to defaults. Click 'Save Settings' to apply."}))}},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"max-upload-width",className:"block text-sm font-semibold text-gray-700 mb-2"},"Max Image Upload Width"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Maximum width in pixels for imported images (19999)")),(0,t.createElement)("input",{id:"max-upload-width",type:"number",min:1,max:9999,value:null!==(e=r.max_upload_width)&&void 0!==e?e:1600,onChange:e=>n("max_upload_width",parseInt(e.target.value,10)||1600),className:"block w-full sm:max-w-xs rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0"})),(0,t.createElement)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"max-upload-height",className:"block text-sm font-semibold text-gray-700 mb-2"},"Max Image Upload Height"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Maximum height in pixels for imported images (19999)")),(0,t.createElement)("input",{id:"max-upload-height",type:"number",min:1,max:9999,value:null!==(a=r.max_upload_height)&&void 0!==a?a:1200,onChange:e=>n("max_upload_height",parseInt(e.target.value,10)||1200),className:"block w-full sm:max-w-xs rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0"})),(0,t.createElement)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"default-provider",className:"block text-sm font-semibold text-gray-700 mb-2"},"Default Provider"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Pre-selected tab when opening the Image Generator."),0===m.length&&(0,t.createElement)("p",{className:"mt-2 text-xs text-red-600 leading-relaxed"},"Please enable at least one provider in Image sources settings.")),(0,t.createElement)("select",{id:"default-provider",value:r.default_provider||"pexels",onChange:e=>n("default_provider",e.target.value),className:"block w-full sm:max-w-xs rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0 disabled:opacity-50 disabled:cursor-not-allowed",disabled:0===m.length},0===m.length?(0,t.createElement)("option",{value:""},"No providers enabled"):m.map((e=>(0,t.createElement)("option",{key:e.value,value:e.value},e.label)))))),(0,t.createElement)("div",{className:"pt-6 border-t border-gray-100"},(0,t.createElement)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3"},"Image Metadata on Import"),(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-3"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("p",{className:"text-sm font-semibold text-gray-700"},"Alternative Text"),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed"},"Automatically set the image source title as Alternative Text when importing.")),(0,t.createElement)(hr,{checked:!1!==r.auto_alt_text,onChange:e=>n("auto_alt_text",e),id:"auto-alt-text"})),(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-3 border-t border-gray-50"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("p",{className:"text-sm font-semibold text-gray-700"},"Image Title"),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed"},"Automatically set the image source title as WordPress Title when importing.")),(0,t.createElement)(hr,{checked:!1!==r.auto_title,onChange:e=>n("auto_title",e),id:"auto-title"})),(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-3 border-t border-gray-50"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("p",{className:"text-sm font-semibold text-gray-700"},"Image Attribution"),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed"},'Automatically add author attribution as Caption (e.g. "Photo by Author Name") when importing.')),(0,t.createElement)(hr,{checked:!0===r.image_attribution,onChange:e=>n("image_attribution",e),id:"image-attribution"}))),(0,t.createElement)("div",{className:"flex items-center justify-between gap-4 py-4 border-t border-gray-100"},(0,t.createElement)("div",{className:"flex-1"},(0,t.createElement)("p",{className:"text-sm font-semibold text-gray-700"},"Media Modal"),(0,t.createElement)("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed"},"Remove the Instant Images tab in the Media Modal.")),(0,t.createElement)(hr,{checked:!0===r.hide_media_modal_tab,onChange:e=>n("hide_media_modal_tab",e),id:"hide-media-modal-tab"})),Cr&&(0,t.createElement)("div",{className:"pt-2"},(0,t.createElement)("a",{href:Cr,className:"inline-flex items-center gap-2 text-sm text-gray-800 hover:text-gray-900 font-medium transition-colors"},(0,t.createElement)("span",null,"Open Image Generator"),(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14 5l7 7m0 0l-7 7m7-7H3"})))),(0,t.createElement)(fr,{message:c,onDismiss:()=>d({type:null,text:""})}),(0,t.createElement)("div",{className:"flex items-center justify-end pt-6 border-t border-gray-100"},(0,t.createElement)("button",{type:"button",onClick:async()=>{d({type:null,text:""});const e=await i();d({type:e.success?"success":"error",text:e.message})},disabled:s,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-800 text-white text-sm font-medium rounded-md hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},s?"Saving...":"Save Settings"))))}function Ar({label:e,value:a,onChange:r,onTest:n,provider:o,helpUrl:i,helpText:s,placeholder:l="",type:c="password"}){const[d,m]=(0,t.useState)(!1),[u,p]=(0,t.useState)({type:null,text:""});return(0,t.useEffect)((()=>{if("success"===u.type){const e=setTimeout((()=>{p({type:null,text:""})}),3e3);return()=>clearTimeout(e)}}),[u]),(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},e),(0,t.createElement)("div",{className:"flex flex-wrap items-center gap-2"},(0,t.createElement)("input",{type:c,value:a,onChange:e=>r?.(e.target.value),placeholder:l,className:"flex-1 min-w-[200px] rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0"}),n&&(0,t.createElement)("button",{type:"button",onClick:async()=>{if(n){m(!0),p({type:null,text:""});try{const e=await n(o,a);p({type:e.success?"success":"error",text:e.message||(e.success?"Key valid.":"Key invalid.")})}catch(e){p({type:"error",text:e?.message||"Test failed."})}finally{m(!1)}}},disabled:d,className:"inline-flex items-center px-4 py-2.5 border border-gray-300 rounded-md text-sm font-semibold text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},d?"Testing":"Test Key")),s&&(0,t.createElement)("p",{className:"mt-2 text-xs text-gray-500 leading-relaxed"},i?(0,t.createElement)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"text-gray-800 hover:text-gray-900 font-medium transition-colors"},s):s),u.text&&(0,t.createElement)("p",{className:"mt-2 text-sm font-medium "+("success"===u.type?"text-green-600":"text-red-600")},u.text))}const Nr={pexels:{id:"pexels",label:"Pexels",description:"Stock photos from Pexels. No API key required."},pixabay:{id:"pixabay",label:"Pixabay",description:"Images and videos from Pixabay. No API key required."},unsplash:{id:"unsplash",label:"Unsplash",description:"High-quality photos from Unsplash.",apiKey:!0,settingKey:"unsplash_access_key",labelKey:"Unsplash Access Key",helpText:"Get your free Access Key from Unsplash Developers.",helpUrl:"https://unsplash.com/developers",provider:"unsplash"},openverse:{id:"openverse",label:"Openverse",description:"Search openly licensed images. No API key required."},giphy:{id:"giphy",label:"Giphy",description:"GIFs and stickers from GIPHY.",apiKey:!0,settingKey:"giphy_api_key",labelKey:"Giphy API Key",helpText:"Get your free API key from GIPHY Developers.",helpUrl:"https://developers.giphy.com/",provider:"giphy"},openai:{id:"openai",label:"OpenAI",description:"Generate images with DALLE.",apiKey:!0,settingKey:"openai_api_key",labelKey:"OpenAI API Key",helpText:"Get your API key from OpenAI.",helpUrl:"https://platform.openai.com/api-keys",placeholder:"sk-...",provider:"openai"},gemini:{id:"gemini",label:"Google Gemini",description:"Generate images with Google's Imagen 4.0 AI.",apiKey:!0,settingKey:"gemini_api_key",labelKey:"Gemini API Key",helpText:"Get your free API key from Google AI Studio.",helpUrl:"https://aistudio.google.com/app/apikey",placeholder:"AIza...",provider:"gemini"}},Sr=()=>(0,t.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",class:"lucide lucide-grip-icon lucide-grip"},(0,t.createElement)("circle",{cx:"12",cy:"5",r:"1"}),(0,t.createElement)("circle",{cx:"19",cy:"5",r:"1"}),(0,t.createElement)("circle",{cx:"5",cy:"5",r:"1"}),(0,t.createElement)("circle",{cx:"12",cy:"12",r:"1"}),(0,t.createElement)("circle",{cx:"19",cy:"12",r:"1"}),(0,t.createElement)("circle",{cx:"5",cy:"12",r:"1"}),(0,t.createElement)("circle",{cx:"12",cy:"19",r:"1"}),(0,t.createElement)("circle",{cx:"19",cy:"19",r:"1"}),(0,t.createElement)("circle",{cx:"5",cy:"19",r:"1"})),Ir=()=>(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 15l7-7 7 7"})),Lr=()=>(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 9l-7 7-7-7"})),Mr="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},Pr=Mr.version||"1.0.0",Or=Mr.support_url||"#",jr=Mr.docs_url||"#",Br={general:_r,"display-settings":function(){const{generalSettings:e,setGeneralSetting:a,saveSettings:r,saving:n,resetDisplaySettings:o}=Er(),[i,s]=(0,t.useState)({type:null,text:""});return(0,t.createElement)(gr,{title:"Display Settings",description:"Customize how images are displayed in the Image Generator",onReset:()=>{confirm("Reset display settings to default values? This will not save automatically.")&&(o(),s({type:"success",text:"Display settings reset to defaults. Click 'Save Settings' to apply."}))}},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-8"},(0,t.createElement)("div",{className:"sm:col-span-2 flex items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{className:"block text-sm font-semibold text-gray-700 mb-2"},"Default View Mode"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Pre-selected view mode when opening the Image Generator.")),(0,t.createElement)("div",{className:"inline-flex p-1 rounded-lg border border-gray-200 bg-white"},(0,t.createElement)("button",{type:"button",onClick:()=>a("default_view_mode","grid"),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium outline-none focus:ring-0 border-2 transition-colors "+("list"!==e.default_view_mode?"bg-gray-800 text-white border-gray-800":"text-gray-600 hover:text-gray-800 border-transparent")},(0,t.createElement)("svg",{className:"w-4 h-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"})),"Grid"),(0,t.createElement)("button",{type:"button",onClick:()=>a("default_view_mode","list"),className:"flex items-center justify-center gap-2 px-4 py-2 rounded-md text-sm font-medium outline-none focus:ring-0 border-2 transition-colors "+("list"===e.default_view_mode?"bg-gray-800 text-white border-gray-800":"text-gray-600 hover:text-gray-800 border-transparent")},(0,t.createElement)("svg",{className:"w-4 h-4 shrink-0",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 6h16M4 10h16M4 14h16M4 18h16"})),"List"))),(0,t.createElement)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"items-per-page",className:"block text-sm font-semibold text-gray-700 mb-2"},"Items Per Page"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Number of images to show per page (20100)")),(0,t.createElement)("div",{className:"flex items-center gap-4 min-w-0 sm:flex-1 sm:max-w-md"},(0,t.createElement)("input",{id:"items-per-page",type:"range",min:20,max:100,step:5,value:e.items_per_page||30,onChange:e=>a("items_per_page",parseInt(e.target.value,10)),className:"flex-1 min-w-0 h-2.5 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-gray-800 hover:bg-gray-300 transition-colors"}),(0,t.createElement)("div",{className:"flex items-center gap-2 shrink-0"},(0,t.createElement)("input",{type:"number",min:20,max:100,step:5,value:e.items_per_page||30,onChange:e=>{const t=parseInt(e.target.value,10);isNaN(t)||a("items_per_page",Math.min(100,Math.max(20,t)))},className:"w-16 rounded-md border border-gray-200 px-3 py-2 text-sm text-center transition-all outline-none focus:border-gray-500 focus:ring-0 [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),(0,t.createElement)("span",{className:"text-sm text-gray-500 whitespace-nowrap"},"per page")))),(0,t.createElement)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"thumbnail-size",className:"block text-sm font-semibold text-gray-700 mb-2"},"Thumbnail Size (Grid View)"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Size of image thumbnails in grid view")),(0,t.createElement)("select",{id:"thumbnail-size",value:e.thumbnail_size||"medium",onChange:e=>a("thumbnail_size",e.target.value),className:"w-full sm:max-w-xs rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0"},(0,t.createElement)("option",{value:"small"},"Small (200px)"),(0,t.createElement)("option",{value:"medium"},"Medium (300px)"),(0,t.createElement)("option",{value:"large"},"Large (400px)"))),(0,t.createElement)("div",{className:"sm:col-span-2 flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"load-more-mode",className:"block text-sm font-semibold text-gray-700 mb-2"},"Load More Mode"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Choose how additional images are loaded when scrolling")),(0,t.createElement)("select",{id:"load-more-mode",value:e.load_more_mode||"auto",onChange:e=>a("load_more_mode",e.target.value),className:"w-full sm:max-w-xs rounded-md border border-gray-200 px-4 py-2.5 text-sm transition-all outline-none focus:border-indigo-500 focus:ring-0"},(0,t.createElement)("option",{value:"auto"},"Auto Load (Infinite Scroll)"),(0,t.createElement)("option",{value:"manual"},"Manual Load (Load More Button)")))),(0,t.createElement)(fr,{message:i,onDismiss:()=>s({type:null,text:""})}),(0,t.createElement)("div",{className:"flex items-center justify-end pt-6 border-t border-gray-100"},(0,t.createElement)("button",{type:"button",onClick:async()=>{s({type:null,text:""});const e=await r();s({type:e.success?"success":"error",text:e.message})},disabled:n,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-800 text-white text-sm font-medium rounded-md hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},n?"Saving...":"Save Settings"))))},"image-sources":function(){const{settings:e,setSetting:a,providerEnabled:r,setProvider:n,providerOrder:o,setProviderOrder:i,saveSettings:s,testKey:l,loading:c,saving:d,resetProviderSettings:m}=Er(),[u,p]=(0,t.useState)({type:null,text:""}),[g,h]=(0,t.useState)(null),[f,b]=(0,t.useState)(null),w=(0,t.useRef)(0),y=(0,t.useCallback)(((e,t)=>{i((a=>{const r=a.indexOf(e);if(-1===r)return a;const n="up"===t?r-1:r+1;if(n<0||n>=a.length)return a;const o=[...a];return[o[r],o[n]]=[o[n],o[r]],o}))}),[i]),v=(0,t.useCallback)(((e,t)=>{h(t),e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("text/plain",t),e.target&&setTimeout((()=>{e.target.style.opacity="0.5"}),0)}),[]),x=(0,t.useCallback)((e=>{e.target.style.opacity="1",h(null),b(null),w.current=0}),[]),E=(0,t.useCallback)(((e,t)=>{e.preventDefault(),w.current++,b(t)}),[]),k=(0,t.useCallback)((()=>{w.current--,w.current<=0&&(b(null),w.current=0)}),[]),C=(0,t.useCallback)((e=>{e.preventDefault(),e.dataTransfer.dropEffect="move"}),[]),_=(0,t.useCallback)(((e,t)=>{e.preventDefault();const a=e.dataTransfer.getData("text/plain");if(!a||a===t)return b(null),void(w.current=0);i((e=>{const r=e.indexOf(a),n=e.indexOf(t);if(-1===r||-1===n)return e;const o=[...e];return o.splice(r,1),o.splice(n,0,a),o})),b(null),w.current=0}),[i]);if(c)return(0,t.createElement)(gr,{title:"Image sources",description:"Enable or disable each provider and set API keys where needed."},(0,t.createElement)("p",{className:"text-sm text-gray-500"},"Loading"));const A=o.filter((e=>Nr[e])).map((e=>Nr[e])),N=!1!==r.global;return(0,t.createElement)(gr,{title:"Image Sources",description:"Enable or disable each image provider. Drag to reorder how tabs appear in the Image Generator. Disabled sources will not appear.",onReset:()=>{confirm("Reset image sources settings to default values? This will reset enabled providers and their order. This will not save automatically.")&&(m(),p({type:"success",text:"Provider settings reset to defaults. Click 'Save Changes' to apply."}))}},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"provider-global",className:"block text-sm font-semibold text-gray-700 mb-2"},"Global Search"),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},"Search across all enabled providers at once. When disabled, the Global Search tab will be hidden from the Image Generator.")),(0,t.createElement)(hr,{checked:N,onChange:e=>n("global",e),id:"provider-global"})),(0,t.createElement)("div",{className:"pt-6 border-t border-gray-100"},(0,t.createElement)("p",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-4"},"Image Providers"),(0,t.createElement)("div",{className:"space-y-4"},A.map(((o,i)=>{const s=!1!==r[o.id],c=g===o.id,d=f===o.id&&g!==o.id;return(0,t.createElement)("div",{key:o.id,draggable:!0,onDragStart:e=>v(e,o.id),onDragEnd:x,onDragEnter:e=>E(e,o.id),onDragLeave:k,onDragOver:C,onDrop:e=>_(e,o.id),className:"rounded-xl border p-5 transition-all bg-white "+(c?"opacity-50 border-gray-200 bg-gray-50/50":d?"border-gray-400 ring-2 ring-gray-100":"border-gray-200 hover:border-gray-300"),style:{cursor:"grab"}},(0,t.createElement)("div",{className:"flex items-center justify-between gap-3"},(0,t.createElement)("div",{className:"flex items-center gap-2 shrink-0"},(0,t.createElement)("div",{className:"flex items-center justify-center cursor-grab active:cursor-grabbing p-1 rounded hover:bg-gray-200 transition-colors",title:"Drag to reorder"},(0,t.createElement)(Sr,null)),(0,t.createElement)("div",{className:"flex flex-col gap-0.5"},(0,t.createElement)("button",{type:"button",onClick:()=>y(o.id,"up"),disabled:0===i,className:"p-0.5 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move up"},(0,t.createElement)(Ir,null)),(0,t.createElement)("button",{type:"button",onClick:()=>y(o.id,"down"),disabled:i===A.length-1,className:"p-0.5 rounded text-gray-400 hover:text-gray-600 hover:bg-gray-200 disabled:opacity-30 disabled:cursor-not-allowed transition-colors",title:"Move down"},(0,t.createElement)(Lr,null))),(0,t.createElement)("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-gray-200 text-xs font-bold text-gray-500"},i+1)),(0,t.createElement)("div",{className:"min-w-0 flex-1"},(0,t.createElement)("h3",{className:"text-sm font-semibold text-gray-700"},o.label),(0,t.createElement)("p",{className:"mt-1.5 text-xs text-gray-500 leading-relaxed"},o.description)),(0,t.createElement)(hr,{checked:s,onChange:e=>n(o.id,e),id:`provider-${o.id}`})),o.apiKey&&s&&(0,t.createElement)("div",{className:"mt-4 pt-4 border-t border-gray-100 rounded-md ml-[76px]"},(0,t.createElement)(Ar,{label:o.labelKey,value:e[o.settingKey]||"",onChange:e=>a(o.settingKey,e),onTest:l,provider:o.provider,helpText:o.helpText,helpUrl:o.helpUrl,placeholder:o.placeholder||""})))})))),(0,t.createElement)(fr,{message:u,onDismiss:()=>p({type:null,text:""})}),(0,t.createElement)("div",{className:"flex items-center justify-end pt-6 border-t border-gray-100"},(0,t.createElement)("button",{type:"button",onClick:async()=>{p({type:null,text:""});const e=await s();p({type:e.success?"success":"error",text:e.message})},disabled:d,className:"inline-flex items-center gap-2 px-6 py-2.5 bg-gray-800 text-white text-sm font-medium rounded-md hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 transition-colors disabled:opacity-50 disabled:cursor-not-allowed"},d?"Saving...":"Save Changes"))))},"image-sizes":function(){const e=l(),[a,r]=(0,t.useState)(e.image_sizes||[]),[n,o]=(0,t.useState)(!1),[i,s]=(0,t.useState)({name:"",width:"",height:"",crop:!1}),[m,u]=(0,t.useState)({type:null,text:""});return(0,t.useEffect)((()=>{if("success"===m.type){const e=setTimeout((()=>{u({type:null,text:""})}),3e3);return()=>clearTimeout(e)}}),[m]),(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)(gr,{title:"Add Image Size",description:"Enter a name, width, and height for your custom image size."},(0,t.createElement)("form",{onSubmit:async e=>{if(e.preventDefault(),u({type:null,text:""}),!i.name.trim()||!i.width||!i.height)return void u({type:"error",text:"Please fill all fields."});const t=i.name.trim().toLowerCase().replace(/[^a-z0-9_-]/g,"-");if(["thumbnail","medium","medium_large","medium-large","large"].includes(t))u({type:"error",text:"This name is reserved by WordPress. Please use a different name."});else if(a.some((e=>e.name===t)))u({type:"error",text:"A size with this name already exists. Please use a different name."});else if(parseInt(i.width)>1920)u({type:"error",text:"Width must not exceed 1920 pixels."});else if(parseInt(i.height)>3e3)u({type:"error",text:"Height must not exceed 3000 pixels."});else{o(!0);try{const e=new FormData;e.append("action","ai_image_add_custom_size"),e.append("nonce",d()),e.append("name",i.name.trim()),e.append("width",i.width),e.append("height",i.height),e.append("crop",i.crop?"1":"0");const t=await fetch(c(),{method:"POST",body:e}),a=await t.json();a.success?(u({type:"success",text:a.data?.message||"Size added."}),r(a.data?.sizes||[]),s({name:"",width:"",height:"",crop:!1})):u({type:"error",text:a.data?.message||"Failed to add size."})}catch(e){u({type:"error",text:e?.message||"Failed to add size."})}finally{o(!1)}}},className:"space-y-4"},(0,t.createElement)("div",{className:"grid grid-cols-1 sm:grid-cols-4 gap-4"},(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"size-name",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Name"),(0,t.createElement)("input",{id:"size-name",type:"text",value:i.name,onChange:e=>s((t=>({...t,name:e.target.value}))),placeholder:"custom-size",disabled:n,className:"block w-full rounded-md border border-gray-200 px-3 py-2 text-sm outline-none focus:border-gray-400 focus:ring-0 disabled:opacity-50 transition-colors"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"size-width",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Width (px)"),(0,t.createElement)("input",{id:"size-width",type:"number",min:1,max:1920,value:i.width,onChange:e=>s((t=>({...t,width:e.target.value}))),placeholder:"1200",disabled:n,className:"block w-full rounded-md border border-gray-200 px-3 py-2 text-sm outline-none focus:border-gray-400 focus:ring-0 disabled:opacity-50 transition-colors"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"size-height",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Height (px)"),(0,t.createElement)("input",{id:"size-height",type:"number",min:1,max:3e3,value:i.height,onChange:e=>s((t=>({...t,height:e.target.value}))),placeholder:"900",disabled:n,className:"block w-full rounded-md border border-gray-200 px-3 py-2 text-sm outline-none focus:border-gray-400 focus:ring-0 disabled:opacity-50 transition-colors"})),(0,t.createElement)("div",null,(0,t.createElement)("label",{htmlFor:"size-crop",className:"block text-sm font-medium text-gray-700 mb-1.5"},"Crop"),(0,t.createElement)("select",{id:"size-crop",value:i.crop?"yes":"no",onChange:e=>s((t=>({...t,crop:"yes"===e.target.value}))),disabled:n,className:"block w-full rounded-md border border-gray-200 px-3 py-2 text-sm outline-none focus:border-gray-400 focus:ring-0 disabled:opacity-50 transition-colors"},(0,t.createElement)("option",{value:"no"},"No"),(0,t.createElement)("option",{value:"yes"},"Yes")))),(0,t.createElement)("div",{className:"flex items-center gap-3 pt-1"},(0,t.createElement)("button",{type:"submit",disabled:n,className:"inline-flex items-center px-5 py-2.5 bg-gray-800 text-white text-sm font-medium rounded-md hover:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-gray-600 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"},n?"Adding":"Add Image Size"),m.text&&(0,t.createElement)("span",{className:"text-sm font-medium "+("success"===m.type?"text-green-600":"text-red-600")},m.text)),(0,t.createElement)("div",{className:"mt-4 p-3.5 bg-gray-50 rounded-md border border-gray-100"},(0,t.createElement)("div",{className:"flex gap-2"},(0,t.createElement)("svg",{className:"w-4 h-4 text-gray-400 flex-shrink-0 mt-0.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),(0,t.createElement)("div",{className:"flex-1 space-y-1 text-xs text-gray-600"},(0,t.createElement)("p",null,(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Name:")," Lowercase letters, numbers, hyphens, or underscores. Avoid reserved names (thumbnail, medium, large)."),(0,t.createElement)("p",null,(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Width:")," Max 1920px. ",(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Height:")," Max 3000px."),(0,t.createElement)("p",null,(0,t.createElement)("span",{className:"font-medium text-gray-700"},"Crop:")," Yes = crop to exact dimensions. No = resize proportionally (may be smaller).")))))),(0,t.createElement)(gr,{title:"Current Image Sizes",description:"Image sizes listed below are currently enabled on your site."},(0,t.createElement)("div",{className:"overflow-x-auto rounded-lg border border-gray-100"},(0,t.createElement)("table",{className:"min-w-full divide-y divide-gray-100"},(0,t.createElement)("thead",null,(0,t.createElement)("tr",null,(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Label"),(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Name"),(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Width"),(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Height"),(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Crop"),(0,t.createElement)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},"Actions"))),(0,t.createElement)("tbody",{className:"divide-y divide-gray-100"},0===a.length?(0,t.createElement)("tr",null,(0,t.createElement)("td",{colSpan:6,className:"px-4 py-5 text-sm text-gray-500 text-center"},"No image sizes found.")):a.map((e=>(0,t.createElement)("tr",{key:e.name,className:"hover:bg-gray-50/50 transition-colors"},(0,t.createElement)("td",{className:"px-4 py-3 text-sm font-medium text-gray-800"},e.label),(0,t.createElement)("td",{className:"px-4 py-3 text-xs text-gray-600 font-mono"},e.name),(0,t.createElement)("td",{className:"px-4 py-3 text-sm text-gray-600"},e.width||""),(0,t.createElement)("td",{className:"px-4 py-3 text-sm text-gray-600"},e.height||""),(0,t.createElement)("td",{className:"px-4 py-3 text-sm text-gray-600"},e.crop?"Yes":"No"),(0,t.createElement)("td",{className:"px-4 py-3 text-sm"},"custom"===e.source?(0,t.createElement)("button",{type:"button",onClick:()=>(async e=>{if(confirm(`Delete image size "${e}"?`)){o(!0),u({type:null,text:""});try{const t=new FormData;t.append("action","ai_image_delete_custom_size"),t.append("nonce",d()),t.append("name",e);const a=await fetch(c(),{method:"POST",body:t}),n=await a.json();n.success?(u({type:"success",text:n.data?.message||"Size deleted."}),r(n.data?.sizes||[])):u({type:"error",text:n.data?.message||"Failed to delete size."})}catch(e){u({type:"error",text:e?.message||"Failed to delete size."})}finally{o(!1)}}})(e.name),disabled:n,className:"text-red-600 hover:text-red-700 font-medium disabled:opacity-50 transition-colors"},"Delete"):(0,t.createElement)("span",{className:"inline-flex items-center px-2 py-0.5 rounded bg-gray-100 text-gray-500 text-xs font-medium"},"WordPress"))))))))))},support:function(){return(0,t.createElement)(gr,{title:"Help & Support",description:"Resources and information about the plugin."},(0,t.createElement)("div",{className:"space-y-6"},(0,t.createElement)("div",{className:"p-3.5 bg-gray-50 rounded-md border border-gray-100"},(0,t.createElement)("h3",{className:"text-sm font-medium text-gray-800 mb-1.5"},"About AI Image"),(0,t.createElement)("p",{className:"text-xs text-gray-600 leading-relaxed"},(0,t.createElement)("span",{className:"font-medium text-gray-700"},"AI Image Generator v",Pr),"  Generate and import images from multiple AI and stock photo sources directly into your WordPress media library.")),(0,t.createElement)("div",{className:"pt-5 border-t border-gray-100"},(0,t.createElement)("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wider mb-3"},"Quick Links"),(0,t.createElement)("div",{className:"divide-y divide-gray-100"},(0,t.createElement)("a",{href:Or,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 py-3 text-sm text-gray-700 hover:text-gray-900 font-medium transition-colors"},(0,t.createElement)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 text-gray-500"},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"}))),(0,t.createElement)("span",null,"Help & Support")),jr&&(0,t.createElement)("a",{href:jr,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 py-3 text-sm text-gray-700 hover:text-gray-900 font-medium transition-colors"},(0,t.createElement)("span",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 text-gray-500"},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),(0,t.createElement)("span",null,"Documentation"))))))}},Rr=()=>{const e=new URLSearchParams(window.location.search).get("section");return e&&Br[e]?e:"general"},Ur=window.wp.element,Tr=window.wp.i18n,zr=window.wp.hooks,Dr=window.wp.compose,Fr=window.wp.blockEditor,Gr=window.wp.components,$r=window.wp.data,Wr=window.wp.blocks,Hr=window.wp.primitives,qr=(0,wa.jsx)(Hr.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,wa.jsx)(Hr.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v8.4l-3-2.9c-.3-.3-.8-.3-1 0L11.9 14 9 12c-.3-.2-.6-.2-.8 0l-3.6 2.6V5c-.1-.3.1-.5.4-.5zm14 15H5c-.3 0-.5-.2-.5-.5v-2.4l4.1-3 3 1.9c.3.2.7.2.9-.1L16 12l3.5 3.4V19c0 .3-.2.5-.5.5z"})});function Vr(e){if(!e)return"";let t="";return e.attributes&&(["content","text","citation","value","title","caption"].forEach((a=>{if(e.attributes[a]){const r=e.attributes[a].replace(/<[^>]*>/g," ");t+=r+" "}})),e.attributes.citation&&(t+=e.attributes.citation+" ")),e.innerBlocks&&e.innerBlocks.length>0&&e.innerBlocks.forEach((e=>{t+=Vr(e)+" "})),t.trim()}const Kr=(0,Dr.createHigherOrderComponent)((e=>a=>{const[r,n]=(0,Ur.useState)(!1),[o,i]=(0,Ur.useState)(null),{clientId:s,name:l}=a,{insertBlock:c,removeBlock:d,updateBlockAttributes:m}=(0,$r.useDispatch)("core/block-editor"),u=(0,$r.useSelect)((e=>e("core/block-editor").getBlock(s)),[s]),p=(0,$r.useSelect)((e=>e("core/block-editor").getBlockRootClientId(s)),[s]),g=(0,$r.useSelect)((e=>e("core/block-editor").getBlocks(p).findIndex((e=>e.clientId===s))),[s,p]);if(["core/image","core/gallery","core/cover","core/media-text","core/embed","core/video","core/audio"].includes(l))return(0,t.createElement)(e,{...a});if(!window.AI_IMAGE_BlockToolbar?.hasEnabledProviders)return(0,t.createElement)(e,{...a});const h=async(e=null)=>{let t=null;try{n(!0);const a=Vr(u);if(!a)return alert((0,Tr.__)("No text content found in this block.","ai-image")),void n(!1);const r=(0,Wr.createBlock)("core/image",{url:'data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600"%3E%3Crect width="800" height="600" fill="%23f3f4f6"/%3E%3C/svg%3E',alt:e?(0,Tr.__)("Generating image with "+e+"...","ai-image"):(0,Tr.__)("Generating image...","ai-image"),className:"ai-image-generating"});c(r,g+1,p),t=r.clientId,i(t);const o=await async function(e,t,a=null){if(!e||!e.trim())throw new Error("No content found in the selected block.");const r=e.trim().substring(0,500),n=new FormData;n.append("action","ai_image_generate_smart"),n.append("nonce",window.AI_IMAGE_BlockToolbar?.nonce||""),n.append("prompt",r),n.append("client_id",t),a&&n.append("provider",a);const o=await fetch(window.AI_IMAGE_BlockToolbar?.ajax_url||"",{method:"POST",credentials:"same-origin",body:n});if(!o.ok)throw new Error("Network response was not ok");const i=await o.json();if(!i.success)throw new Error(i.data?.message||"Failed to generate image");return i.data}(a,s,e);if(!o.image_url)throw new Error("No image URL received from AI provider");const l=await async function(e,t){const a=new FormData;a.append("action","upload_image_to_wp"),a.append("nonce",window.AI_IMAGE_BlockToolbar?.nonce||""),a.append("image_url",e),a.append("image_title",t||"AI Generated Image");const r=await fetch(window.AI_IMAGE_BlockToolbar?.ajax_url||"",{method:"POST",credentials:"same-origin",body:a});if(!r.ok)throw new Error("Failed to upload image");const n=await r.json();if(!n.success)throw new Error(n.data?.message||"Failed to upload image");return n.data}(o.image_url,a.substring(0,100));t&&m(t,{id:l.attach_id,url:l.attach_url,alt:a.substring(0,100),caption:o.provider?`Generated with ${o.provider}`:"",className:""})}catch(e){console.error("Error generating image:",e),t&&d(t),alert(e.message||(0,Tr.__)("Failed to generate image. Please try again.","ai-image"))}finally{n(!1),i(null)}},f=[],b=window.AI_IMAGE_BlockToolbar?.enabledProviders||{},w=window.AI_IMAGE_BlockToolbar?.providerOrder||[],y={gemini:(0,Tr.__)("Google Gemini","ai-image"),openai:(0,Tr.__)("OpenAI","ai-image"),pexels:(0,Tr.__)("Pexels","ai-image"),pixabay:(0,Tr.__)("Pixabay","ai-image"),unsplash:(0,Tr.__)("Unsplash","ai-image"),openverse:(0,Tr.__)("Openverse","ai-image"),giphy:(0,Tr.__)("Giphy","ai-image")};return w.forEach((e=>{b[e]&&y[e]&&f.push({id:e,label:y[e]})})),(0,t.createElement)(Ur.Fragment,null,(0,t.createElement)(Fr.BlockControls,null,(0,t.createElement)(Gr.ToolbarGroup,null,f.length>0?(0,t.createElement)(Gr.DropdownMenu,{icon:qr,label:(0,Tr.__)("Generate AI Image","ai-image"),text:r?(0,Tr.__)("Generating...","ai-image"):(0,Tr.__)("Generate Image","ai-image"),disabled:r,className:"ai-image-generate-dropdown"},(({onClose:e})=>(0,t.createElement)(Gr.MenuGroup,{label:(0,Tr.__)("Choose Provider","ai-image")},(0,t.createElement)(Gr.MenuItem,{onClick:()=>{h(null),e()},disabled:r},(0,Tr.__)("Auto (Smart Fallback)","ai-image")),f.map((a=>(0,t.createElement)(Gr.MenuItem,{key:a.id,onClick:()=>{h(a.id),e()},disabled:r},a.label)))))):null)),(0,t.createElement)(e,{...a}))}),"withGenerateImageButton");(0,zr.addFilter)("editor.BlockEdit","ai-image/block-toolbar-button",Kr),window.aiImageRenderApp=function(e){e&&(0,Ur.render)((0,t.createElement)(dr,null),e)};const Zr=document.getElementById("ai-image-dashboard"),Yr=document.getElementById("ai-image-generator");Zr?(0,Ur.render)((0,t.createElement)((function(){const[e,a]=(0,t.useState)(Rr),r=Br[e]||_r;(0,t.useEffect)((()=>{const t=new URLSearchParams(window.location.search);t.set("section",e);const a=`${window.location.pathname}?${t.toString()}`;window.history.pushState({section:e},"",a)}),[e]);const n="undefined"!=typeof AI_IMAGE_AdminConfig?AI_IMAGE_AdminConfig:{},o=n.version||"1.0.0",i=n.support_url||"#";return(0,t.createElement)("div",{className:"ai-image-admin-dashboard mt-5"},(0,t.createElement)("div",{className:"max-w-[1200px] mx-auto bg-gray-50 rounded-xl overflow-hidden"},(0,t.createElement)("header",{className:"bg-white border-b border-gray-100 p-6 flex items-center justify-between flex-wrap gap-4"},(0,t.createElement)("div",{className:"flex items-center gap-4"},(0,t.createElement)("svg",{className:"w-14 h-14",xmlns:"http://www.w3.org/2000/svg",width:"100",height:"100",viewBox:"0 0 100 100",fill:"none"},(0,t.createElement)("path",{d:"M0 50C0 13.64 13.64 0 50 0C86.36 0 100 13.64 100 50C100 86.36 86.36 100 50 100C13.64 100 0 86.36 0 50Z",fill:"#131D29"}),(0,t.createElement)("path",{d:"M36.5401 48.6601C39.9801 48.6601 42.7701 45.8501 42.7601 42.4101C42.7601 38.9701 39.9501 36.1801 36.5101 36.1901L36.4301 36.1401C33.0101 36.1901 30.2701 38.9901 30.2901 42.4101V42.4401C30.2901 45.8801 33.1001 48.6701 36.5401 48.6601Z",fill:"white"}),(0,t.createElement)("path",{d:"M33.9801 60.9101C33.9101 60.7801 33.8401 60.6601 33.7601 60.5301C31.9301 57.5801 28.0501 56.6701 25.1001 58.5001C22.1501 60.3301 21.2401 64.2101 23.0701 67.1601L25.0901 70.7201C25.0901 70.7201 25.0901 70.7201 25.0901 70.7301C26.8101 73.7301 30.6501 74.7701 33.6501 73.0501C33.6701 73.0401 33.6901 73.0301 33.7101 73.0101C36.7101 71.2601 37.7201 67.4101 35.9801 64.4101L33.9601 60.9001L33.9801 60.9101Z",fill:"white"}),(0,t.createElement)("path",{d:"M50.2001 52.7201C48.3801 50.1801 44.9601 49.3601 42.1901 50.8101C39.1101 52.4101 37.9101 56.2101 39.5201 59.2901L46.5801 70.6601C48.4101 73.6101 52.2801 74.5201 55.2301 72.7001C58.1401 70.8801 59.0501 67.0501 57.2701 64.1201L50.2101 52.7301L50.2001 52.7201Z",fill:"white"}),(0,t.createElement)("path",{d:"M68.0903 46.2301L55.1203 24.6801C55.1203 24.6801 55.0903 24.6301 55.0803 24.6101C53.2703 21.6601 49.4103 20.7401 46.4603 22.5501C43.5003 24.3401 42.5403 28.2001 44.3303 31.1701L57.3403 52.7301V52.8001C59.1503 55.7701 63.0303 56.7101 66.0003 54.8901C68.9703 53.0801 69.9103 49.2001 68.0903 46.2301Z",fill:"white"}),(0,t.createElement)("path",{d:"M72.9099 73.7301C76.3562 73.7301 79.1499 70.9364 79.1499 67.4901C79.1499 64.0439 76.3562 61.2501 72.9099 61.2501C69.4637 61.2501 66.6699 64.0439 66.6699 67.4901C66.6699 70.9364 69.4637 73.7301 72.9099 73.7301Z",fill:"white"})),(0,t.createElement)("div",null,(0,t.createElement)("h1",{className:"text-xl font-bold text-gray-900 mb-1"},"AI Image Generator"),(0,t.createElement)("p",{className:"text-sm text-gray-500 leading-tight"},"Instant Image Generator v",o))),(0,t.createElement)("a",{href:i,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 text-sm text-gray-800 hover:text-gray-900 font-medium transition-colors"},(0,t.createElement)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},(0,t.createElement)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18.364 5.636l-3.536 3.536m0 5.656l3.536 3.536M9.172 9.172L5.636 5.636m3.536 9.192l-3.536 3.536M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-5 0a4 4 0 11-8 0 4 4 0 018 0z"})),"Help & Support")),(0,t.createElement)("div",{className:"flex m-6 gap-6"},(0,t.createElement)("aside",{className:"w-[280px] min-h-[calc(100vh-5rem)] bg-white border border-gray-100 flex-shrink-0 rounded-xl"},(0,t.createElement)(pr,{activeSection:e,onSelect:a})),(0,t.createElement)("main",{className:"flex-1 overflow-auto"},(0,t.createElement)(r,null))),(0,t.createElement)("footer",{className:"bg-white border-t border-gray-100 p-6 text-center text-sm text-gray-500"},(0,t.createElement)("p",{className:"text-[13px]  text-gray-600"},(0,t.createElement)("span",null,"AI Image Generator v",o),(0,t.createElement)("span",{class:"text-red-500"}," ")," by ",(0,t.createElement)("a",{href:"https://bdthemes.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900 font-medium"},"BdThemes"),"  2026"))))}),null),Zr):Yr&&(0,Ur.render)((0,t.createElement)(dr,null),Yr)})()})();